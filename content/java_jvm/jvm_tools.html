
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>JVM命令工具(jstack,jmap,jcmd...) · java-note</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="doctording">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sectionx/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="jvm_params.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    [1 常见设计模式]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../design_pattern/proxy.html">
            
                <a href="../design_pattern/proxy.html">
            
                    
                    代理模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../design_pattern/singleton.html">
            
                <a href="../design_pattern/singleton.html">
            
                    
                    单例模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../design_pattern/factory.html">
            
                <a href="../design_pattern/factory.html">
            
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../design_pattern/template.html">
            
                <a href="../design_pattern/template.html">
            
                    
                    模板方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../design_pattern/strategy.html">
            
                <a href="../design_pattern/strategy.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../design_pattern/decorator.html">
            
                <a href="../design_pattern/decorator.html">
            
                    
                    装饰器模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../design_pattern/observer.html">
            
                <a href="../design_pattern/observer.html">
            
                    
                    观察者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="../design_pattern/visitor.html">
            
                <a href="../design_pattern/visitor.html">
            
                    
                    访问者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="../design_pattern/iterator.html">
            
                <a href="../design_pattern/iterator.html">
            
                    
                    迭代器模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="../design_pattern/facade.html">
            
                <a href="../design_pattern/facade.html">
            
                    
                    门面模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    [2 数据结构和算法基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../java_data_structure/java_basic_datastructure.html">
            
                <a href="../java_data_structure/java_basic_datastructure.html">
            
                    
                    常见基础数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../java_data_structure/array_list.html">
            
                <a href="../java_data_structure/array_list.html">
            
                    
                    ArrayList & LinkedList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../java_data_structure/hash_map.html">
            
                <a href="../java_data_structure/hash_map.html">
            
                    
                    HashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../java_data_structure/hash_table.html">
            
                <a href="../java_data_structure/hash_table.html">
            
                    
                    HashTable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="../java_utils/Map.html">
            
                <a href="../java_utils/Map.html">
            
                    
                    HashMap,HashTable,ConcurrentHashMap 对比
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.5" data-path="../java_data_structure/fail_fast.html">
            
                <a href="../java_data_structure/fail_fast.html">
            
                    
                    fail-fast,ConcurrentModificationException
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.6" data-path="../java_utils/quick_sort.html">
            
                <a href="../java_utils/quick_sort.html">
            
                    
                    快排(没事手写写)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../java_data_structure/concurrent_datastructure.html">
            
                <a href="../java_data_structure/concurrent_datastructure.html">
            
                    
                    concurrent数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../java_data_structure/advanced_structure.html">
            
                <a href="../java_data_structure/advanced_structure.html">
            
                    
                    高级数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../java_data_structure/b_tree.html">
            
                <a href="../java_data_structure/b_tree.html">
            
                    
                    B/B+ Tree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    [3 Java基础问题]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../java_data_structure/System_arraycopy.html">
            
                <a href="../java_data_structure/System_arraycopy.html">
            
                    
                    System.arraycopy, Array.copyOf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../java_utils/equals_hashcode.html">
            
                <a href="../java_utils/equals_hashcode.html">
            
                    
                    == & equals方法 & hashcode方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="../java_utils/Calendar.html">
            
                <a href="../java_utils/Calendar.html">
            
                    
                    Calendar & Date
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="../java_utils/Compare.html">
            
                <a href="../java_utils/Compare.html">
            
                    
                    Comparison method violates its general contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="../java_utils/int_Integer.html">
            
                <a href="../java_utils/int_Integer.html">
            
                    
                    int(基本类型) & Integer(包装类类型)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="../java_utils/exception.html">
            
                <a href="../java_utils/exception.html">
            
                    
                    Java异常&错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="../java_utils/String.html">
            
                <a href="../java_utils/String.html">
            
                    
                    String,StringBuffer,StringBuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="../java_utils/reflect.html">
            
                <a href="../java_utils/reflect.html">
            
                    
                    反射机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="../java_utils/call_back.html">
            
                <a href="../java_utils/call_back.html">
            
                    
                    回调 & 事件机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="../java_utils/array_collection.html">
            
                <a href="../java_utils/array_collection.html">
            
                    
                    数组，集合转换等问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="../java_utils/annotation.html">
            
                <a href="../java_utils/annotation.html">
            
                    
                    注解 Annotation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="jvm_runtime.html">
            
                <a href="jvm_runtime.html">
            
                    
                    Runtime类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.13" data-path="../java_data_structure/unsafe.html">
            
                <a href="../java_data_structure/unsafe.html">
            
                    
                    unsafe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.14" data-path="../java_thinking_in_Java/basic.html">
            
                <a href="../java_thinking_in_Java/basic.html">
            
                    
                    《Java编程思想》第3章：操作符，第4章：控制执行流程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.15" data-path="../java_thinking_in_Java/constructor.html">
            
                <a href="../java_thinking_in_Java/constructor.html">
            
                    
                    《Java编程思想》第5章：初始化和清理(重点)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.16" data-path="../java_thinking_in_Java/public_private_protect.html">
            
                <a href="../java_thinking_in_Java/public_private_protect.html">
            
                    
                    《Java编程思想》第6章：访问权限控制(重要)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.17" data-path="../java_thinking_in_Java/class_final.html">
            
                <a href="../java_thinking_in_Java/class_final.html">
            
                    
                    《Java编程思想》第7章：复用类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.18" data-path="../java_thinking_in_Java/polymorphism.html">
            
                <a href="../java_thinking_in_Java/polymorphism.html">
            
                    
                    《Java编程思想》第8章：多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.19" data-path="../java_thinking_in_Java/class_final.html">
            
                <a href="../java_thinking_in_Java/class_final.html">
            
                    
                    《Java编程思想》第9章：接口 补充：抽象类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.20" data-path="../java_thinking_in_Java/innner_class.html">
            
                <a href="../java_thinking_in_Java/innner_class.html">
            
                    
                    《Java编程思想》第10章：内部类
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    [4 Java多线程 & 并发基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="../java_thread_concurrent/aqs.html">
            
                <a href="../java_thread_concurrent/aqs.html">
            
                    
                    AQS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../java_thread_concurrent/cas.html">
            
                <a href="../java_thread_concurrent/cas.html">
            
                    
                    CAS(Conmpare And Swap/Exchange) & unsafe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../java_thread_concurrent/volatile.html">
            
                <a href="../java_thread_concurrent/volatile.html">
            
                    
                    volatile 关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="../java_thread_concurrent/synchronized.html">
            
                <a href="../java_thread_concurrent/synchronized.html">
            
                    
                    synchronized 关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="../java_thread_concurrent/thread_basic.html">
            
                <a href="../java_thread_concurrent/thread_basic.html">
            
                    
                    线程基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.5.1" data-path="../java_thread_concurrent/thread_condition.html">
            
                <a href="../java_thread_concurrent/thread_condition.html">
            
                    
                    Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.2" data-path="../java_thread_concurrent/semaphore.html">
            
                <a href="../java_thread_concurrent/semaphore.html">
            
                    
                    Semaphore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.3" data-path="../java_thread_concurrent/hook_thread.html">
            
                <a href="../java_thread_concurrent/hook_thread.html">
            
                    
                    Hook线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.4" data-path="../java_thread_concurrent/countdownlatch_cyclicBarrier.html">
            
                <a href="../java_thread_concurrent/countdownlatch_cyclicBarrier.html">
            
                    
                    CountDownLatch & CyclicBarrier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.5" data-path="../java_thread_concurrent/longAdder.html">
            
                <a href="../java_thread_concurrent/longAdder.html">
            
                    
                    LongAdder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5.6" data-path="../java_thread_concurrent/thread_design.html">
            
                <a href="../java_thread_concurrent/thread_design.html">
            
                    
                    多线程设计模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="../java_thread_concurrent/thread_pool.html">
            
                <a href="../java_thread_concurrent/thread_pool.html">
            
                    
                    线程池
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.6.1" data-path="../java_thread_concurrent/concurrency_problems.html">
            
                <a href="../java_thread_concurrent/concurrency_problems.html">
            
                    
                    常见的多线程题目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6.2" data-path="../java_thread_concurrent/thread_pool_self.html">
            
                <a href="../java_thread_concurrent/thread_pool_self.html">
            
                    
                    自定义线程池
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="../java_thread_concurrent/thread_lock.html">
            
                <a href="../java_thread_concurrent/thread_lock.html">
            
                    
                    Java Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="../java_thread_concurrent/thread_deadlock.html">
            
                <a href="../java_thread_concurrent/thread_deadlock.html">
            
                    
                    死锁问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="../java_thread_concurrent/threadLocal.html">
            
                <a href="../java_thread_concurrent/threadLocal.html">
            
                    
                    ThreadLocal对象
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    [5 Java8]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="../java8/java8_completableFuture.html">
            
                <a href="../java8/java8_completableFuture.html">
            
                    
                    CompletableFuture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="../java8/java8_future.html">
            
                <a href="../java8/java8_future.html">
            
                    
                    Future
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="../java8/interface_default.html">
            
                <a href="../java8/interface_default.html">
            
                    
                    interface defalt static
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="../java8/java8_mem.html">
            
                <a href="../java8/java8_mem.html">
            
                    
                    Java8 jvm内存结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="../java8/lambda.html">
            
                <a href="../java8/lambda.html">
            
                    
                    Java8 lambda表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../java8/java8_optional.html">
            
                <a href="../java8/java8_optional.html">
            
                    
                    Java8 Optional
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="../java8/streams.html">
            
                <a href="../java8/streams.html">
            
                    
                    Java8 Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="../java8/streams_parallel.html">
            
                <a href="../java8/streams_parallel.html">
            
                    
                    Java8 并行数据处理与性能
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    [6 JVM]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="jvm_mem_model.html">
            
                <a href="jvm_mem_model.html">
            
                    
                    内存模型与线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="jvm_class_load.html">
            
                <a href="jvm_class_load.html">
            
                    
                    类加载机制,类加载器,内存布局
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="jvm_mem_gc.html">
            
                <a href="jvm_mem_gc.html">
            
                    
                    堆栈 & 各种GC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="jvm_params.html">
            
                <a href="jvm_params.html">
            
                    
                    JVM参数
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.7.5" data-path="jvm_tools.html">
            
                <a href="jvm_tools.html">
            
                    
                    JVM命令工具(jstack,jmap,jcmd...)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    [7 缓存 & 限流]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../db_cache/LFU.html">
            
                <a href="../db_cache/LFU.html">
            
                    
                    LFU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../db_cache/LRU.html">
            
                <a href="../db_cache/LRU.html">
            
                    
                    LRU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="../db_cache/consistent_hash.html">
            
                <a href="../db_cache/consistent_hash.html">
            
                    
                    一致性Hash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="../db_cache/bloom.html">
            
                <a href="../db_cache/bloom.html">
            
                    
                    布隆过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="../db_cache/cache.html">
            
                <a href="../db_cache/cache.html">
            
                    
                    缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="../distributed_design/flow_limit.html">
            
                <a href="../distributed_design/flow_limit.html">
            
                    
                    限流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="../java_thread_concurrent/cpu_cache.html">
            
                <a href="../java_thread_concurrent/cpu_cache.html">
            
                    
                    CPU,缓存
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    [8 数据库]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../db_cache/io.html">
            
                <a href="../db_cache/io.html">
            
                    
                    局部性原理&磁盘IO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../db_cache/mysql.html">
            
                <a href="../db_cache/mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    [9 I/O & 网络]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../java_io_net/io_interrupte.html">
            
                <a href="../java_io_net/io_interrupte.html">
            
                    
                    IO和中断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../java_io_net/io_basic.html">
            
                <a href="../java_io_net/io_basic.html">
            
                    
                    IO基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.2.1" data-path="../java_io_net/server_socket_channel.html">
            
                <a href="../java_io_net/server_socket_channel.html">
            
                    
                    ServerSocketChannel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.2" data-path="../java_io_net/nio_basic.html">
            
                <a href="../java_io_net/nio_basic.html">
            
                    
                    NIO & BIO问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2.3" data-path="../java_io_net/from_io_to_epoll.html">
            
                <a href="../java_io_net/from_io_to_epoll.html">
            
                    
                    从BIO到epoll
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../distributed_design/design.html">
            
                <a href="../distributed_design/design.html">
            
                    
                    网络设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../java_io_net/http_tcp.html">
            
                <a href="../java_io_net/http_tcp.html">
            
                    
                    http & tcp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../distributed_design/nginx.html">
            
                <a href="../distributed_design/nginx.html">
            
                    
                    nginx基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../distributed_design/tomcat.html">
            
                <a href="../distributed_design/tomcat.html">
            
                    
                    tomcat
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    [10 分布式]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../distributed_design/distribute.html">
            
                <a href="../distributed_design/distribute.html">
            
                    
                    分布式基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1.1" data-path="../distributed_design/distribute_tx.html">
            
                <a href="../distributed_design/distribute_tx.html">
            
                    
                    分布式事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.2" data-path="../distributed_design/distribute_lock.html">
            
                <a href="../distributed_design/distribute_lock.html">
            
                    
                    分布式锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.1.3" data-path="../distributed_design/distribute_id.html">
            
                <a href="../distributed_design/distribute_id.html">
            
                    
                    分布式ID
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../distributed_design/rpc.html">
            
                <a href="../distributed_design/rpc.html">
            
                    
                    rpc
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../distributed_design/soa.html">
            
                <a href="../distributed_design/soa.html">
            
                    
                    微服务
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    [11 剑指Offer]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../thought_of_solve/thought.html">
            
                <a href="../thought_of_solve/thought.html">
            
                    
                    剑指Offer解题思路(全)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >JVM命令工具(jstack,jmap,jcmd...)</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright @doctording all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#java&#x81EA;&#x5E26;&#x7684;&#x5404;&#x7C7B;&#x578B;&#x547D;&#x4EE4;&#x5DE5;&#x5177;">Java&#x81EA;&#x5E26;&#x7684;&#x5404;&#x7C7B;&#x578B;&#x547D;&#x4EE4;&#x5DE5;&#x5177;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#jvm-&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;">JVM &#x5185;&#x5B58;&#x6EA2;&#x51FA;&amp;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;</a><i></i></div></li>
<li><div><a href="#jvm&#x8C03;&#x4F18;">JVM&#x8C03;&#x4F18;</a><i></i></div></li>
<li><div><a href="#jps">jps</a><i></i></div></li>
<li><div><a href="#jstat">jstat</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x4F8B;1&#xFF08;jstat--gc&#xFF09;&#x67E5;&#x770B;gc&#x4FE1;&#x606F;">&#x4F8B;1&#xFF08;jstat -gc&#xFF09;&#x67E5;&#x770B;gc&#x4FE1;&#x606F;</a><i></i></div></li>
<li><div><a href="#&#x4F8B;2&#xFF08;jstat--gccapacity&#xFF09;">&#x4F8B;2&#xFF08;jstat -gccapacity&#xFF09;</a><i></i></div></li>
<li><div><a href="#&#x4F8B;3-jstat--gcutil&#x67E5;&#x770B;gc&#x60C5;&#x51B5;">&#x4F8B;3 (jstat -gcutil)&#x67E5;&#x770B;gc&#x60C5;&#x51B5;</a><i></i></div></li>
</ul></li>
<li><div><a href="#jmap">jmap</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#dump-jvm&#x5806;&#x5185;&#x5B58;&#x4FE1;&#x606F;">dump jvm&#x5806;&#x5185;&#x5B58;&#x4FE1;&#x606F;</a><i></i></div></li>
<li><div><a href="#jmap--histo-pid-&#x67E5;&#x770B;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;">jmap -histo pid &#x67E5;&#x770B;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;</a><i></i></div></li>
</ul></li>
<li><div><a href="#jstack">jstack</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x67E5;&#x770B;java-stack&#x548C;native-stack&#x7684;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;">&#x67E5;&#x770B;java stack&#x548C;native stack&#x7684;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;</a><i></i></div></li>
</ul></li>
<li><div><a href="#jcmd">jcmd</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#native-memory-tracking&#x7B80;&#x79F0;nmt-&#x5206;&#x6790;">Native Memory Tracking(&#x7B80;&#x79F0;:NMT) &#x5206;&#x6790;</a><i></i></div></li>
<li><div><a href="#&#x4E3E;&#x4F8B;heap&#x5185;&#x5B58;&#x5206;&#x5E03;">&#x4E3E;&#x4F8B;heap&#x5185;&#x5B58;&#x5206;&#x5E03;</a><i></i></div></li>
</ul></li>
<li><div><a href="#linux-pmap-&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x6620;&#x50CF;&#x4FE1;&#x606F;">linux pmap &#x547D;&#x4EE4;(&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x6620;&#x50CF;&#x4FE1;&#x606F;)</a><i></i></div></li>
<li><div><a href="#linux-strace-&#x547D;&#x4EE4;&#x8FFD;&#x8E2A;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x65F6;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;&#x6240;&#x63A5;&#x6536;&#x7684;&#x4FE1;&#x53F7;">linux strace &#x547D;&#x4EE4;(&#x8FFD;&#x8E2A;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x65F6;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;&#x6240;&#x63A5;&#x6536;&#x7684;&#x4FE1;&#x53F7;)</a><i></i></div></li>
</ul></li>
</ul>
</div>


<p>[TOC]</p>
<h1 id="java&#x81EA;&#x5E26;&#x7684;&#x5404;&#x7C7B;&#x578B;&#x547D;&#x4EE4;&#x5DE5;&#x5177;">Java&#x81EA;&#x5E26;&#x7684;&#x5404;&#x7C7B;&#x578B;&#x547D;&#x4EE4;&#x5DE5;&#x5177;</h1>
<table>
<thead>
<tr>
<th>&#x540D;&#x79F0;</th>
<th>&#x4E3B;&#x8981;&#x4F5C;&#x7528;</th>
</tr>
</thead>
<tbody>
<tr>
<td>jps</td>
<td>JVM Process Status Tool, &#x663E;&#x793A;&#x6307;&#x5B9A;&#x7CFB;&#x7EDF;&#x5185;&#x6240;&#x6709;&#x7684;HotSpot&#x865A;&#x62DF;&#x673A;&#x8FDB;&#x7A0B;</td>
</tr>
<tr>
<td>jstat</td>
<td>JVM Statistics Monitoring Tool, &#x7528;&#x4E8E;&#x6536;&#x96C6;HotSpot&#x865A;&#x62DF;&#x673A;&#x5404;&#x65B9;&#x9762;&#x7684;&#x8FD0;&#x884C;&#x6570;&#x636E;</td>
</tr>
<tr>
<td>jinfo</td>
<td>Configuration Info for Java, &#x663E;&#x793A;&#x865A;&#x62DF;&#x673A;&#x914D;&#x7F6E;&#x4FE1;&#x606F;</td>
</tr>
<tr>
<td>jmap</td>
<td>Memory Map for Java, &#x751F;&#x6210;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5185;&#x5B58;&#x8F6C;&#x50A8;&#x5FEB;&#x7167;(heapdump&#x6587;&#x4EF6;)</td>
</tr>
<tr>
<td>jhat</td>
<td>JVM Heap Dump Brower, &#x7528;&#x4E8E;&#x5206;&#x6790;heapdump&#x6587;&#x4EF6;&#xFF0C;&#x5B83;&#x4F1A;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;HTTP/HTML&#x670D;&#x52A1;&#x5668;, &#x8BA9;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E0A;&#x67E5;&#x770B;&#x5206;&#x6790;&#x7ED3;&#x679C;</td>
</tr>
<tr>
<td>jstack</td>
<td>Stack Trace for Java, &#x663E;&#x793A;&#x865A;&#x62DF;&#x673A;&#x7684;&#x7EBF;&#x7A0B;&#x5FEB;&#x7167;</td>
</tr>
<tr>
<td>jcmd</td>
<td>&#x53EF;&#x4EE5;&#x7528;&#x5B83;&#x6765;&#x67E5;&#x770B;Java&#x8FDB;&#x7A0B;&#xFF0C;&#x5BFC;&#x51FA;&#x5806;&#x3001;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;&#x3001;&#x6267;&#x884C;GC&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x91C7;&#x6837;&#x5206;&#x6790;&#x7684;&#x4E00;&#x4E2A;&#x591A;&#x529F;&#x80FD;&#x5DE5;&#x5177;</td>
</tr>
</tbody>
</table>
<h2 id="jvm-&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;">JVM &#x5185;&#x5B58;&#x6EA2;&#x51FA;&amp;&#x5185;&#x5B58;&#x6CC4;&#x6F0F;</h2>
<ul>
<li><p>&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#xFF1A;&#xFF08;out of memory&#xFF09;&#x901A;&#x4FD7;&#x7406;&#x89E3;&#x5C31;&#x662F;&#x5185;&#x5B58;&#x4E0D;&#x591F;&#xFF0C;&#x901A;&#x5E38;&#x5728;&#x8FD0;&#x884C;&#x5927;&#x578B;&#x8F6F;&#x4EF6;&#x6216;&#x6E38;&#x620F;&#x65F6;&#xFF0C;&#x8F6F;&#x4EF6;&#x6216;&#x6E38;&#x620F;&#x6240;&#x9700;&#x8981;&#x7684;&#x5185;&#x5B58;&#x8FDC;&#x8FDC;&#x8D85;&#x51FA;&#x4E86;&#x4F60;&#x4E3B;&#x673A;&#x5185;&#x5B89;&#x88C5;&#x7684;&#x5185;&#x5B58;&#x6240;&#x627F;&#x53D7;&#x5927;&#x5C0F;&#xFF0C;&#x5C31;&#x53EB;&#x5185;&#x5B58;&#x6EA2;&#x51FA;&#x3002;</p>
</li>
<li><p>&#x5185;&#x5B58;&#x6CC4;&#x6F0F;&#xFF1A;&#xFF08;Memory Leak&#xFF09;&#x662F;&#x6307;&#x7A0B;&#x5E8F;&#x4E2D;&#x5DF1;&#x52A8;&#x6001;&#x5206;&#x914D;&#x7684;&#x5806;&#x5185;&#x5B58;&#x7531;&#x4E8E;&#x67D0;&#x79CD;&#x539F;&#x56E0;&#x7A0B;&#x5E8F;&#x672A;&#x91CA;&#x653E;&#x6216;&#x65E0;&#x6CD5;&#x91CA;&#x653E;&#xFF0C;&#x9020;&#x6210;&#x7CFB;&#x7EDF;&#x5185;&#x5B58;&#x7684;&#x6D6A;&#x8D39;&#xFF0C;&#x5BFC;&#x81F4;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#x51CF;&#x6162;&#x751A;&#x81F3;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;&#x7B49;&#x4E25;&#x91CD;&#x540E;&#x679C;</p>
</li>
</ul>
<p>&#x6CC4;&#x6F0F;&#x8D8A;&#x6765;&#x8D8A;&#x591A;&#xFF0C;&#x4F1A;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x6EA2;&#x51FA;</p>
<h2 id="jvm&#x8C03;&#x4F18;">JVM&#x8C03;&#x4F18;</h2>
<ol>
<li>&#x6839;&#x636E;&#x9700;&#x6C42;&#x8FDB;&#x884C;JVM&#x89C4;&#x5212;&#x548C;&#x9884;&#x8C03;&#x4F18;</li>
<li>&#x4F18;&#x5316;JVM&#x8FD0;&#x884C;&#x73AF;&#x5883;&#xFF08;&#x6162;&#xFF0C;&#x5361;&#x987F;&#xFF09;</li>
<li>&#x89E3;&#x51B3;JVM&#x8FD0;&#x884C;&#x8FC7;&#x7A0B;&#x4E2D;&#x7684;&#x5404;&#x79CD;&#x95EE;&#x9898;&#xFF08;full gc, oom&#x7B49;&#xFF09;</li>
</ol>
<h2 id="jps">jps</h2>
<pre class="language-"><code class="lang-js">mubi@mubideMacBook<span class="token operator">-</span>Pro webapps $ jps <span class="token operator">--</span>help
illegal argument<span class="token operator">:</span> <span class="token operator">--</span>help
usage<span class="token operator">:</span> jps <span class="token punctuation">[</span><span class="token operator">-</span>help<span class="token punctuation">]</span>
       jps <span class="token punctuation">[</span><span class="token operator">-</span>q<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>mlvV<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>hostid<span class="token operator">&gt;</span><span class="token punctuation">]</span>

Definitions<span class="token operator">:</span>
    <span class="token operator">&lt;</span>hostid<span class="token operator">&gt;</span><span class="token operator">:</span>      <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">&lt;</span>port<span class="token operator">&gt;</span><span class="token punctuation">]</span>
</code></pre>
<ul>
<li>&#x53C2;&#x6570;</li>
</ul>
<p>-q&#xFF1A;&#x53EA;&#x8F93;&#x51FA;&#x8FDB;&#x7A0B; ID
-m&#xFF1A;&#x8F93;&#x51FA;&#x4F20;&#x5165; main &#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;
-l&#xFF1A;&#x8F93;&#x51FA;&#x5B8C;&#x5168;&#x7684;&#x5305;&#x540D;&#xFF0C;&#x5E94;&#x7528;&#x4E3B;&#x7C7B;&#x540D;&#xFF0C;jar&#x7684;&#x5B8C;&#x5168;&#x8DEF;&#x5F84;&#x540D;
-v&#xFF1A;&#x8F93;&#x51FA;jvm&#x53C2;&#x6570;
-V&#xFF1A;&#x8F93;&#x51FA;&#x901A;&#x8FC7;flag&#x6587;&#x4EF6;&#x4F20;&#x9012;&#x5230;JVM&#x4E2D;&#x7684;&#x53C2;&#x6570;</p>
<p>&#x8FD9;&#x4E9B;&#x8FDB;&#x7A0B;&#x7684;&#x672C;&#x5730;&#x865A;&#x62DF;&#x673A;&#x552F;&#x4E00;ID(Local VIrtual Machine Identifier, LVMID), &#x5BF9;&#x4E8E;&#x672C;&#x5730;&#x865A;&#x62DF;&#x673A;&#x8FDB;&#x7A0B;&#x6765;&#x8BF4;&#xFF0C;LVMID&#x4E0E;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x8FDB;&#x7A0B;ID(Process Identifier, PID)&#x662F;&#x4E00;&#x81F4;&#x7684;</p>
<h2 id="jstat">jstat</h2>
<pre class="language-"><code class="lang-js">mubi@mubideMacBook<span class="token operator">-</span>Pro webapps $ jstat <span class="token operator">--</span>help
invalid argument count
Usage<span class="token operator">:</span> jstat <span class="token operator">-</span>help<span class="token operator">|</span><span class="token operator">-</span>options
       jstat <span class="token operator">-</span><span class="token operator">&lt;</span>option<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">-</span>t<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token operator">-</span>h<span class="token operator">&lt;</span>lines<span class="token operator">&gt;</span><span class="token punctuation">]</span> <span class="token operator">&lt;</span>vmid<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>interval<span class="token operator">&gt;</span> <span class="token punctuation">[</span><span class="token operator">&lt;</span>count<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>

Definitions<span class="token operator">:</span>
  <span class="token operator">&lt;</span>option<span class="token operator">&gt;</span>      An option reported by the <span class="token operator">-</span>options option
  <span class="token operator">&lt;</span>vmid<span class="token operator">&gt;</span>        Virtual Machine Identifier<span class="token punctuation">.</span> <span class="token constant">A</span> vmid takes the following form<span class="token operator">:</span>
                     <span class="token operator">&lt;</span>lvmid<span class="token operator">&gt;</span><span class="token punctuation">[</span>@<span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token operator">:</span><span class="token operator">&lt;</span>port<span class="token operator">&gt;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
                Where <span class="token operator">&lt;</span>lvmid<span class="token operator">&gt;</span> is the local vm identifier <span class="token keyword">for</span> the target
                Java virtual machine<span class="token punctuation">,</span> typically a process id<span class="token punctuation">;</span> <span class="token operator">&lt;</span>hostname<span class="token operator">&gt;</span> is
                the name <span class="token keyword">of</span> the host running the target Java virtual machine<span class="token punctuation">;</span>
                and <span class="token operator">&lt;</span>port<span class="token operator">&gt;</span> is the port number <span class="token keyword">for</span> the rmiregistry on the
                target host<span class="token punctuation">.</span> See the jvmstat documentation <span class="token keyword">for</span> a more complete
                description <span class="token keyword">of</span> the Virtual Machine Identifier<span class="token punctuation">.</span>
  <span class="token operator">&lt;</span>lines<span class="token operator">&gt;</span>       Number <span class="token keyword">of</span> samples between header lines<span class="token punctuation">.</span>
  <span class="token operator">&lt;</span>interval<span class="token operator">&gt;</span>    Sampling interval<span class="token punctuation">.</span> The following forms are allowed<span class="token operator">:</span>
                    <span class="token operator">&lt;</span>n<span class="token operator">&gt;</span><span class="token punctuation">[</span><span class="token string">&quot;ms&quot;</span><span class="token operator">|</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">]</span>
                Where <span class="token operator">&lt;</span>n<span class="token operator">&gt;</span> is an integer and the suffix specifies the units <span class="token keyword">as</span>
                <span class="token function">milliseconds</span><span class="token punctuation">(</span><span class="token string">&quot;ms&quot;</span><span class="token punctuation">)</span> or <span class="token function">seconds</span><span class="token punctuation">(</span><span class="token string">&quot;s&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span> The <span class="token keyword">default</span> units are <span class="token string">&quot;ms&quot;</span><span class="token punctuation">.</span>
  <span class="token operator">&lt;</span>count<span class="token operator">&gt;</span>       Number <span class="token keyword">of</span> samples to take before terminating<span class="token punctuation">.</span>
  <span class="token operator">-</span><span class="token constant">J</span><span class="token operator">&lt;</span>flag<span class="token operator">&gt;</span>      Pass <span class="token operator">&lt;</span>flag<span class="token operator">&gt;</span> directly to the runtime system<span class="token punctuation">.</span>
</code></pre>
<ul>
<li>options</li>
</ul>
<p>-class                 &#x663E;&#x793A;ClassLoad&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF1B;
-compiler           &#x663E;&#x793A;JIT&#x7F16;&#x8BD1;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF1B;
-gc                     &#x663E;&#x793A;&#x548C;gc&#x76F8;&#x5173;&#x7684;&#x5806;&#x4FE1;&#x606F;&#xFF1B;
-gccapacity &#x3000;&#x3000;  &#x663E;&#x793A;&#x5404;&#x4E2A;&#x4EE3;&#x7684;&#x5BB9;&#x91CF;&#x4EE5;&#x53CA;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF1B;
-gcmetacapacity &#x663E;&#x793A;metaspace&#x7684;&#x5927;&#x5C0F;
-gcnew               &#x663E;&#x793A;&#x65B0;&#x751F;&#x4EE3;&#x4FE1;&#x606F;&#xFF1B;
-gcnewcapacity  &#x663E;&#x793A;&#x65B0;&#x751F;&#x4EE3;&#x5927;&#x5C0F;&#x548C;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#xFF1B;
-gcold                 &#x663E;&#x793A;&#x8001;&#x5E74;&#x4EE3;&#x548C;&#x6C38;&#x4E45;&#x4EE3;&#x7684;&#x4FE1;&#x606F;&#xFF1B;
-gcoldcapacity    &#x663E;&#x793A;&#x8001;&#x5E74;&#x4EE3;&#x7684;&#x5927;&#x5C0F;&#xFF1B;
-gcutil&#x3000;&#x3000;           &#x663E;&#x793A;&#x5783;&#x573E;&#x6536;&#x96C6;&#x4FE1;&#x606F;&#xFF1B;
-gccause             &#x663E;&#x793A;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x76F8;&#x5173;&#x4FE1;&#x606F;&#xFF08;&#x901A;-gcutil&#xFF09;,&#x540C;&#x65F6;&#x663E;&#x793A;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x6216;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x53D1;&#x751F;&#x7684;&#x5783;&#x573E;&#x56DE;&#x6536;&#x7684;&#x8BF1;&#x56E0;&#xFF1B;
-printcompilation &#x8F93;&#x51FA;JIT&#x7F16;&#x8BD1;&#x7684;&#x65B9;&#x6CD5;&#x4FE1;&#x606F;&#xFF1B;</p>
<h3 id="&#x4F8B;1&#xFF08;jstat--gc&#xFF09;&#x67E5;&#x770B;gc&#x4FE1;&#x606F;">&#x4F8B;1&#xFF08;jstat -gc&#xFF09;&#x67E5;&#x770B;gc&#x4FE1;&#x606F;</h3>
<pre class="language-"><code class="lang-js">mubi@mubideMacBook<span class="token operator">-</span>Pro webapps $ jps
<span class="token number">4402</span> Jps
<span class="token number">2611</span> Launcher
<span class="token number">1812</span>
<span class="token number">3800</span>
<span class="token number">82874</span>
<span class="token number">44363</span> MacLauncher
<span class="token number">28461</span> ApacheJMeter<span class="token punctuation">.</span>jar
mubi@mubideMacBook<span class="token operator">-</span>Pro webapps $ jstat <span class="token operator">-</span>gc <span class="token number">28461</span>
 <span class="token constant">S0C</span>    <span class="token constant">S1C</span>    <span class="token constant">S0U</span>    <span class="token constant">S1U</span>      <span class="token constant">EC</span>       <span class="token constant">EU</span>        <span class="token constant">OC</span>         <span class="token constant">OU</span>       <span class="token constant">MC</span>     <span class="token constant">MU</span>    <span class="token constant">CCSC</span>   <span class="token constant">CCSU</span>   <span class="token constant">YGC</span>     <span class="token constant">YGCT</span>    <span class="token constant">FGC</span>    <span class="token constant">FGCT</span>     <span class="token constant">GCT</span>
 <span class="token number">0.0</span>   <span class="token number">1024.0</span>  <span class="token number">0.0</span>   <span class="token number">1024.0</span> <span class="token number">659456.0</span> <span class="token number">158720.0</span>  <span class="token number">388096.0</span>   <span class="token number">29131.9</span>   <span class="token number">51324.0</span> <span class="token number">49395.6</span> <span class="token number">7344.0</span> <span class="token number">6748.7</span>     <span class="token number">27</span>    <span class="token number">0.919</span>   <span class="token number">5</span>      <span class="token number">0.921</span>    <span class="token number">1.840</span>
mubi@mubideMacBook<span class="token operator">-</span>Pro webapps $
</code></pre>
<p>S0C&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x5E78;&#x5B58;&#x533A;&#x7684;&#x5927;&#x5C0F;
S1C&#xFF1A;&#x7B2C;&#x4E8C;&#x4E2A;&#x5E78;&#x5B58;&#x533A;&#x7684;&#x5927;&#x5C0F;
S0U&#xFF1A;&#x7B2C;&#x4E00;&#x4E2A;&#x5E78;&#x5B58;&#x533A;&#x7684;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
S1U&#xFF1A;&#x7B2C;&#x4E8C;&#x4E2A;&#x5E78;&#x5B58;&#x533A;&#x7684;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
EC&#xFF1A;&#x4F0A;&#x7538;&#x56ED;&#x533A;&#x7684;&#x5927;&#x5C0F;
EU&#xFF1A;&#x4F0A;&#x7538;&#x56ED;&#x533A;&#x7684;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
OC&#xFF1A;&#x8001;&#x5E74;&#x4EE3;&#x5927;&#x5C0F;
OU&#xFF1A;&#x8001;&#x5E74;&#x4EE3;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
MC&#xFF1A;&#x65B9;&#x6CD5;&#x533A;&#x5927;&#x5C0F;
MU&#xFF1A;&#x65B9;&#x6CD5;&#x533A;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
CCSC:&#x538B;&#x7F29;&#x7C7B;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;
CCSU:&#x538B;&#x7F29;&#x7C7B;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x5927;&#x5C0F;
YGC&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6B21;&#x6570;
YGCT&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6D88;&#x8017;&#x65F6;&#x95F4;
FGC&#xFF1A;&#x8001;&#x5E74;&#x4EE3;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6B21;&#x6570;
FGCT&#xFF1A;&#x8001;&#x5E74;&#x4EE3;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6D88;&#x8017;&#x65F6;&#x95F4;
GCT&#xFF1A;&#x5783;&#x573E;&#x56DE;&#x6536;&#x6D88;&#x8017;&#x603B;&#x65F6;&#x95F4;</p>
<h3 id="&#x4F8B;2&#xFF08;jstat--gccapacity&#xFF09;">&#x4F8B;2&#xFF08;jstat -gccapacity&#xFF09;</h3>
<pre class="language-"><code class="lang-js"> jstat <span class="token operator">-</span>gccapacity <span class="token number">8207</span>
 <span class="token constant">NGCMN</span>    <span class="token constant">NGCMX</span>     <span class="token constant">NGC</span>     <span class="token constant">S0C</span>   <span class="token constant">S1C</span>       <span class="token constant">EC</span>      <span class="token constant">OGCMN</span>      <span class="token constant">OGCMX</span>       <span class="token constant">OGC</span>         <span class="token constant">OC</span>       <span class="token constant">MCMN</span>     <span class="token constant">MCMX</span>      <span class="token constant">MC</span>     <span class="token constant">CCSMN</span>    <span class="token constant">CCSMX</span>     <span class="token constant">CCSC</span>    <span class="token constant">YGC</span>    <span class="token constant">FGC</span>
     <span class="token number">0.0</span> <span class="token number">1048576.0</span>  <span class="token number">82944.0</span>    <span class="token number">0.0</span> <span class="token number">7168.0</span>  <span class="token number">75776.0</span>        <span class="token number">0.0</span>  <span class="token number">1048576.0</span>   <span class="token number">965632.0</span>   <span class="token number">965632.0</span>      <span class="token number">0.0</span> <span class="token number">1083392.0</span>  <span class="token number">40572.0</span>      <span class="token number">0.0</span> <span class="token number">1048576.0</span>   <span class="token number">6320.0</span>      <span class="token number">6</span>     <span class="token number">0</span>
</code></pre>
<p>NGCMN&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;(young)&#x4E2D;&#x521D;&#x59CB;&#x5316;(&#x6700;&#x5C0F;)&#x7684;&#x5927;&#x5C0F;(&#x5B57;&#x8282;)
NGCMX&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;(young)&#x7684;&#x6700;&#x5927;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
NGC&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;(young)&#x4E2D;&#x5F53;&#x524D;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
S0C&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;survivor&#xFF08;&#x5E78;&#x5B58;&#x533A;&#xFF09;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
S1C&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;&#x7B2C;&#x4E8C;&#x4E2A;survivor&#xFF08;&#x5E78;&#x5B58;&#x533A;&#xFF09;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
EC&#xFF1A;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;Eden&#xFF08;&#x4F0A;&#x7538;&#x56ED;&#xFF09;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
OGCMN&#xFF1A;old&#x4EE3;&#x4E2D;&#x521D;&#x59CB;&#x5316;(&#x6700;&#x5C0F;)&#x7684;&#x5927;&#x5C0F; (&#x5B57;&#x8282;)
OGCMX&#xFF1A;old&#x4EE3;&#x7684;&#x6700;&#x5927;&#x5BB9;&#x91CF;(&#x5B57;&#x8282;)
OGC&#xFF1A;old&#x4EE3;&#x5F53;&#x524D;&#x65B0;&#x751F;&#x6210;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
OC&#xFF1A;Old&#x4EE3;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
MCMN&#xFF1A;metaspace(&#x5143;&#x7A7A;&#x95F4;)&#x4E2D;&#x521D;&#x59CB;&#x5316;(&#x6700;&#x5C0F;)&#x7684;&#x5927;&#x5C0F; (&#x5B57;&#x8282;)
MCMX&#xFF1A;metaspace(&#x5143;&#x7A7A;&#x95F4;)&#x7684;&#x6700;&#x5927;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
MC&#xFF1A;metaspace(&#x5143;&#x7A7A;&#x95F4;)&#x5F53;&#x524D;&#x65B0;&#x751F;&#x6210;&#x7684;&#x5BB9;&#x91CF; (&#x5B57;&#x8282;)
CCSMN&#xFF1A;&#x6700;&#x5C0F;&#x538B;&#x7F29;&#x7C7B;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;
CCSMX&#xFF1A;&#x6700;&#x5927;&#x538B;&#x7F29;&#x7C7B;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;
CCSC&#xFF1A;&#x5F53;&#x524D;&#x538B;&#x7F29;&#x7C7B;&#x7A7A;&#x95F4;&#x5927;&#x5C0F;
YGC&#xFF1A;&#x4ECE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x5230;&#x91C7;&#x6837;&#x65F6;&#x5E74;&#x8F7B;&#x4EE3;&#x4E2D;gc&#x6B21;&#x6570;
FGC&#xFF1A;&#x4ECE;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x542F;&#x52A8;&#x5230;&#x91C7;&#x6837;&#x65F6;old&#x4EE3;(&#x5168;gc)gc&#x6B21;&#x6570;</p>
<h3 id="&#x4F8B;3-jstat--gcutil&#x67E5;&#x770B;gc&#x60C5;&#x51B5;">&#x4F8B;3 (jstat -gcutil)&#x67E5;&#x770B;gc&#x60C5;&#x51B5;</h3>
<pre class="language-"><code class="lang-js">jstat <span class="token operator">-</span>gcutil <span class="token number">8207</span> <span class="token number">1000</span> <span class="token number">5</span>
  <span class="token constant">S0</span>     <span class="token constant">S1</span>     <span class="token constant">E</span>      <span class="token constant">O</span>      <span class="token constant">M</span>     <span class="token constant">CCS</span>    <span class="token constant">YGC</span>     <span class="token constant">YGCT</span>    <span class="token constant">FGC</span>    <span class="token constant">FGCT</span>     <span class="token constant">GCT</span>
  <span class="token number">0.00</span> <span class="token number">100.00</span>  <span class="token number">43.24</span>   <span class="token number">3.73</span>  <span class="token number">97.04</span>  <span class="token number">92.86</span>      <span class="token number">6</span>    <span class="token number">0.058</span>     <span class="token number">0</span>    <span class="token number">0.000</span>    <span class="token number">0.058</span>
  <span class="token number">0.00</span> <span class="token number">100.00</span>  <span class="token number">43.24</span>   <span class="token number">3.73</span>  <span class="token number">97.04</span>  <span class="token number">92.86</span>      <span class="token number">6</span>    <span class="token number">0.058</span>     <span class="token number">0</span>    <span class="token number">0.000</span>    <span class="token number">0.058</span>
  <span class="token number">0.00</span> <span class="token number">100.00</span>  <span class="token number">43.24</span>   <span class="token number">3.73</span>  <span class="token number">97.04</span>  <span class="token number">92.86</span>      <span class="token number">6</span>    <span class="token number">0.058</span>     <span class="token number">0</span>    <span class="token number">0.000</span>    <span class="token number">0.058</span>
  <span class="token number">0.00</span> <span class="token number">100.00</span>  <span class="token number">43.24</span>   <span class="token number">3.73</span>  <span class="token number">97.04</span>  <span class="token number">92.86</span>      <span class="token number">6</span>    <span class="token number">0.058</span>     <span class="token number">0</span>    <span class="token number">0.000</span>    <span class="token number">0.058</span>
  <span class="token number">0.00</span> <span class="token number">100.00</span>  <span class="token number">43.24</span>   <span class="token number">3.73</span>  <span class="token number">97.04</span>  <span class="token number">92.86</span>      <span class="token number">6</span>    <span class="token number">0.058</span>     <span class="token number">0</span>    <span class="token number">0.000</span>    <span class="token number">0.058</span>
</code></pre>
<h2 id="jmap">jmap</h2>
<h3 id="dump-jvm&#x5806;&#x5185;&#x5B58;&#x4FE1;&#x606F;">dump jvm&#x5806;&#x5185;&#x5B58;&#x4FE1;&#x606F;</h3>
<pre class="language-"><code class="lang-java">jmap <span class="token operator">-</span>dump<span class="token operator">:</span>format<span class="token operator">=</span>b<span class="token punctuation">,</span>file<span class="token operator">=</span>xx<span class="token punctuation">.</span>hprof <span class="token generics"><span class="token punctuation">&lt;</span>pid<span class="token punctuation">&gt;</span></span>
</code></pre>
<h3 id="jmap--histo--&#x67E5;&#x770B;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;">jmap -histo <pid> &#x67E5;&#x770B;&#x52A0;&#x8F7D;&#x7684;&#x5BF9;&#x8C61;&#x5B9E;&#x4F8B;</pid></h3>
<ul>
<li>&#x6240;&#x6709;&#x5BF9;&#x8C61;&#xFF1A;jmap -histo <pid>|more</pid></li>
<li>&#x6D3B;&#x8DC3;&#x5BF9;&#x8C61;&#xFF1A;jmap -histo:live <pid>|more</pid></li>
</ul>
<p>eg:</p>
<pre class="language-"><code class="lang-java">jmap <span class="token operator">-</span>histo <span class="token number">23387</span>

 num     #instances         #bytes  <span class="token keyword">class</span> name
<span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span>
   <span class="token number">1</span><span class="token operator">:</span>         <span class="token number">79631</span>       <span class="token number">39402720</span>  <span class="token punctuation">[</span><span class="token class-name">B</span>
   <span class="token number">2</span><span class="token operator">:</span>          <span class="token number">7755</span>        <span class="token number">8347472</span>  <span class="token punctuation">[</span><span class="token class-name">I</span>
   <span class="token number">3</span><span class="token operator">:</span>         <span class="token number">57423</span>        <span class="token number">8173936</span>  <span class="token punctuation">[</span><span class="token class-name">C</span>
   <span class="token number">4</span><span class="token operator">:</span>         <span class="token number">34560</span>        <span class="token number">1658880</span>  java<span class="token punctuation">.</span>nio<span class="token punctuation">.</span><span class="token class-name">HeapByteBuffer</span>
   <span class="token number">5</span><span class="token operator">:</span>         <span class="token number">18982</span>        <span class="token number">1366704</span>  org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>zookeeper<span class="token punctuation">.</span>server<span class="token punctuation">.</span><span class="token class-name">Request</span>
   <span class="token number">6</span><span class="token operator">:</span>         <span class="token number">51326</span>        <span class="token number">1231824</span>  java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">String</span>
   <span class="token number">7</span><span class="token operator">:</span>         <span class="token number">34971</span>        <span class="token number">1119072</span>  java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">HashMap</span>$<span class="token class-name">Node</span>
   <span class="token number">8</span><span class="token operator">:</span>         <span class="token number">19887</span>         <span class="token number">954576</span>  java<span class="token punctuation">.</span>util<span class="token punctuation">.</span><span class="token class-name">HashMap</span>
   <span class="token number">9</span><span class="token operator">:</span>         <span class="token number">21705</span>         <span class="token number">847632</span>  <span class="token punctuation">[</span><span class="token class-name">Ljava</span><span class="token punctuation">.</span>lang<span class="token punctuation">.</span><span class="token class-name">Object</span><span class="token punctuation">;</span>
  <span class="token number">10</span><span class="token operator">:</span>         <span class="token number">13935</span>         <span class="token number">668880</span>  org<span class="token punctuation">.</span>apache<span class="token punctuation">.</span>zookeeper<span class="token punctuation">.</span>txn<span class="token punctuation">.</span><span class="token class-name">TxnHeader</span>
</code></pre>
<h2 id="jstack">jstack</h2>
<h3 id="&#x67E5;&#x770B;java-stack&#x548C;native-stack&#x7684;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;">&#x67E5;&#x770B;java stack&#x548C;native stack&#x7684;&#x7EBF;&#x7A0B;&#x4FE1;&#x606F;</h3>
<pre class="language-"><code class="lang-java">jstack <span class="token generics"><span class="token punctuation">&lt;</span>PID<span class="token punctuation">&gt;</span></span>
jstack <span class="token operator">-</span><span class="token class-name">F</span> <span class="token generics"><span class="token punctuation">&lt;</span>PID<span class="token punctuation">&gt;</span></span>
</code></pre>
<ul>
<li>&#x53C2;&#x6570;&#x9009;&#x9879;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token operator">-</span><span class="token class-name">F</span>  <span class="token keyword">to</span> force a thread dump<span class="token punctuation">.</span> <span class="token class-name">Use</span> when jstack <span class="token generics"><span class="token punctuation">&lt;</span>pid<span class="token punctuation">&gt;</span></span> does not respond <span class="token punctuation">(</span>process is hung<span class="token punctuation">)</span>
<span class="token operator">-</span>m  <span class="token keyword">to</span> print both java and <span class="token keyword">native</span> frames <span class="token punctuation">(</span>mixed mode<span class="token punctuation">)</span>
<span class="token operator">-</span>l  <span class="token keyword">long</span> listing<span class="token punctuation">.</span> <span class="token class-name">Prints</span> additional information about locks
<span class="token operator">-</span>h or <span class="token operator">-</span>help <span class="token keyword">to</span> print <span class="token keyword">this</span> help message
</code></pre>
<h2 id="jcmd">jcmd</h2>
<ul>
<li>&#x67E5;&#x770B;&#x5F53;&#x524D;&#x673A;&#x5668;&#x4E0A;&#x6240;&#x6709;&#x7684;<code>jvm</code>&#x8FDB;&#x7A0B;&#x4FE1;&#x606F;</li>
</ul>
<pre class="language-"><code class="lang-java">jcmd <span class="token operator">-</span>l
</code></pre>
<ul>
<li>&#x5217;&#x51FA;&#x67D0;&#x4E2A;jvm&#x8FDB;&#x7A0B;&#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;</li>
</ul>
<pre class="language-"><code class="lang-java">mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> <span class="token class-name">Downloads</span> $ jcmd <span class="token number">22553</span> help
<span class="token number">22553</span><span class="token operator">:</span>
<span class="token class-name">The</span> following commands are available<span class="token operator">:</span>
JFR<span class="token punctuation">.</span>stop
JFR<span class="token punctuation">.</span>start
JFR<span class="token punctuation">.</span>dump
JFR<span class="token punctuation">.</span>check
VM<span class="token punctuation">.</span>native_memory
VM<span class="token punctuation">.</span>check_commercial_features
VM<span class="token punctuation">.</span>unlock_commercial_features
<span class="token class-name">ManagementAgent</span><span class="token punctuation">.</span>stop
<span class="token class-name">ManagementAgent</span><span class="token punctuation">.</span>start_local
<span class="token class-name">ManagementAgent</span><span class="token punctuation">.</span>start
GC<span class="token punctuation">.</span>rotate_log
<span class="token class-name">Thread</span><span class="token punctuation">.</span>print
GC<span class="token punctuation">.</span>class_stats
GC<span class="token punctuation">.</span>class_histogram
GC<span class="token punctuation">.</span>heap_dump
GC<span class="token punctuation">.</span>run_finalization
GC<span class="token punctuation">.</span>run
VM<span class="token punctuation">.</span>uptime
VM<span class="token punctuation">.</span>flags
VM<span class="token punctuation">.</span>system_properties
VM<span class="token punctuation">.</span>command_line
VM<span class="token punctuation">.</span>version
help

<span class="token class-name">For</span> more information about a specific command use <span class="token string">&apos;help &lt;command&gt;&apos;</span><span class="token punctuation">.</span>
mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> <span class="token class-name">Downloads</span> $
</code></pre>
<ul>
<li>&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x5185;&#x5B58;&#x533A;&#x57DF;&#x7684;&#x8BE6;&#x60C5;(jvm&#x52A0;&#x4E0A;<code>-XX:NativeMemoryTracking=detail</code>)</li>
</ul>
<pre class="language-"><code class="lang-java">mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> <span class="token class-name">Downloads</span> $ jcmd <span class="token number">22553</span> VM<span class="token punctuation">.</span>native_memory detail <span class="token operator">&gt;</span> <span class="token number">22553.</span>native_detail
mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> <span class="token class-name">Downloads</span> $ head <span class="token number">22553.</span>native_detail
<span class="token number">22553</span><span class="token operator">:</span>

<span class="token class-name">Native</span> <span class="token class-name">Memory</span> <span class="token class-name">Tracking</span><span class="token operator">:</span>

<span class="token class-name">Total</span><span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">6033952</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">2097428</span>KB
<span class="token operator">-</span>                 <span class="token class-name">Java</span> <span class="token class-name">Heap</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">4194304</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">1537024</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">4194304</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">1537024</span>KB<span class="token punctuation">)</span>

<span class="token operator">-</span>                     <span class="token class-name">Class</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">1125078</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">85206</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>classes #<span class="token number">14483</span><span class="token punctuation">)</span>
mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> <span class="token class-name">Downloads</span> $
</code></pre>
<h3 id="native-memory-tracking&#x7B80;&#x79F0;nmt-&#x5206;&#x6790;">Native Memory Tracking(&#x7B80;&#x79F0;:NMT) &#x5206;&#x6790;</h3>
<p>&#x53C2;&#x8003;&#x6587;&#x6863;&#x89C1;&#xFF1A;<a href="https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/tooldescr007.html" target="_blank">NMT</a></p>
<pre class="language-"><code class="lang-java"><span class="token number">22553</span><span class="token operator">:</span>

<span class="token class-name">Native</span> <span class="token class-name">Memory</span> <span class="token class-name">Tracking</span><span class="token operator">:</span>

<span class="token class-name">Total</span><span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">6033952</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">2097428</span>KB
<span class="token operator">-</span>                 <span class="token class-name">Java</span> <span class="token class-name">Heap</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">4194304</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">1537024</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">4194304</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">1537024</span>KB<span class="token punctuation">)</span> 

<span class="token operator">-</span>                     <span class="token class-name">Class</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">1125078</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">85206</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>classes #<span class="token number">14483</span><span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">6870</span>KB #<span class="token number">17632</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">1118208</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">78336</span>KB<span class="token punctuation">)</span> 

<span class="token operator">-</span>                    <span class="token class-name">Thread</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">130665</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">130665</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>thread #<span class="token number">128</span><span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>stack<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">130048</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">130048</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">404</span>KB #<span class="token number">641</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>arena<span class="token operator">=</span><span class="token number">214</span>KB #<span class="token number">255</span><span class="token punctuation">)</span>

<span class="token operator">-</span>                      <span class="token class-name">Code</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">254310</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">25318</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">4710</span>KB #<span class="token number">11332</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">249600</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">20608</span>KB<span class="token punctuation">)</span> 

<span class="token operator">-</span>                        GC <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">159021</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">148641</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">5777</span>KB #<span class="token number">297</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">153244</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">142864</span>KB<span class="token punctuation">)</span> 

<span class="token operator">-</span>                  <span class="token class-name">Compiler</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">177</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">177</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">46</span>KB #<span class="token number">844</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>arena<span class="token operator">=</span><span class="token number">131</span>KB #<span class="token number">3</span><span class="token punctuation">)</span>

<span class="token operator">-</span>                  <span class="token class-name">Internal</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">143983</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">143983</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">143951</span>KB #<span class="token number">18708</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>mmap<span class="token operator">:</span> reserved<span class="token operator">=</span><span class="token number">32</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">32</span>KB<span class="token punctuation">)</span> 

<span class="token operator">-</span>                    <span class="token class-name">Symbol</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">21199</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">21199</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">17164</span>KB #<span class="token number">176970</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>arena<span class="token operator">=</span><span class="token number">4036</span>KB #<span class="token number">1</span><span class="token punctuation">)</span>

<span class="token operator">-</span>    <span class="token class-name">Native</span> <span class="token class-name">Memory</span> <span class="token class-name">Tracking</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">3693</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">3693</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">120</span>KB #<span class="token number">1832</span><span class="token punctuation">)</span> 
                            <span class="token punctuation">(</span>tracking overhead<span class="token operator">=</span><span class="token number">3573</span>KB<span class="token punctuation">)</span>

<span class="token operator">-</span>               <span class="token class-name">Arena</span> <span class="token class-name">Chunk</span> <span class="token punctuation">(</span>reserved<span class="token operator">=</span><span class="token number">1521</span>KB<span class="token punctuation">,</span> committed<span class="token operator">=</span><span class="token number">1521</span>KB<span class="token punctuation">)</span>
                            <span class="token punctuation">(</span>malloc<span class="token operator">=</span><span class="token number">1521</span>KB<span class="token punctuation">)</span> 

<span class="token class-name">Virtual</span> memory map<span class="token operator">:</span>

<span class="token punctuation">[</span><span class="token number">0x00000001025e7000</span> <span class="token operator">-</span> <span class="token number">0x00000001025ef000</span><span class="token punctuation">]</span> reserved and committed <span class="token number">32</span>KB <span class="token keyword">for</span> <span class="token class-name">Internal</span> from
    <span class="token punctuation">[</span><span class="token number">0x00000001032b4ae8</span><span class="token punctuation">]</span> <span class="token class-name">PerfMemory</span><span class="token operator">::</span><span class="token function">create_memory_region</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x728</span>
    <span class="token punctuation">[</span><span class="token number">0x00000001032b41ef</span><span class="token punctuation">]</span> <span class="token class-name">PerfMemory</span><span class="token operator">::</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x39</span>
    <span class="token punctuation">[</span><span class="token number">0x0000000103370c79</span><span class="token punctuation">]</span> <span class="token class-name">Threads</span><span class="token operator">::</span><span class="token function">create_vm</span><span class="token punctuation">(</span><span class="token class-name">JavaVMInitArgs</span><span class="token operator">*</span><span class="token punctuation">,</span> bool<span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x13b</span>
    <span class="token punctuation">[</span><span class="token number">0x000000010312586e</span><span class="token punctuation">]</span> <span class="token class-name">JNI_CreateJavaVM</span><span class="token operator">+</span><span class="token number">0x76</span>
</code></pre>
<ul>
<li>reserved&#x8868;&#x793A;&#x5E94;&#x7528;&#x53EF;&#x7528;&#x7684;&#x5185;&#x5B58;&#x5927;&#x5C0F;, committed &#x4E3A;&#x771F;&#x6B63;&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;</li>
</ul>
<pre class="language-"><code class="lang-java"> <span class="token class-name">From</span> the sample output below<span class="token punctuation">,</span> you will see reserved and committed memory<span class="token punctuation">.</span> <span class="token class-name">Note</span> that only committed memory is actually used<span class="token punctuation">.</span> <span class="token class-name">For</span> example<span class="token punctuation">,</span> <span class="token keyword">if</span> you run <span class="token keyword">with</span> <span class="token operator">-</span><span class="token class-name">Xms100m</span> <span class="token operator">-</span><span class="token class-name">Xmx1000m</span><span class="token punctuation">,</span> the JVM will reserve <span class="token number">1000</span> MB <span class="token keyword">for</span> the <span class="token class-name">Java</span> <span class="token class-name">Heap</span><span class="token punctuation">.</span> <span class="token class-name">Since</span> the initial heap size is only <span class="token number">100</span> MB<span class="token punctuation">,</span> only <span class="token number">100</span>MB will be committed <span class="token keyword">to</span> begin <span class="token keyword">with</span><span class="token punctuation">.</span> <span class="token class-name">For</span> a <span class="token number">64</span><span class="token operator">-</span>bit machine where address space is almost unlimited<span class="token punctuation">,</span> there is no problem <span class="token keyword">if</span> a JVM reserves a lot of memory<span class="token punctuation">.</span> <span class="token class-name">The</span> problem arises <span class="token keyword">if</span> more and more memory gets committed<span class="token punctuation">,</span> which may lead <span class="token keyword">to</span> swapping or <span class="token keyword">native</span> OOM situations<span class="token punctuation">.</span>
</code></pre>
<h3 id="&#x4E3E;&#x4F8B;heap&#x5185;&#x5B58;&#x5206;&#x5E03;">&#x4E3E;&#x4F8B;heap&#x5185;&#x5B58;&#x5206;&#x5E03;</h3>
<ul>
<li>&#x5806;&#x53EF;&#x7528;&#x5185;&#x5B58;&#x603B;&#x5927;&#x5C0F;:4194304KB,&#x6620;&#x5C04;&#x5730;&#x5740;<code>[0x00000006c0000000 - 0x00000007c0000000]</code></li>
</ul>
<p><code>committed</code>&#x7684;&#x6620;&#x5C04;&#x5730;&#x5740;&#x8303;&#x56F4;&#x4E3A;&#x5DF2;&#x7ECF;&#x4F7F;&#x7528;&#x7684;&#x5185;&#x5B58;</p>
<p>58880KB + 80384KB + 1310720KB + 87040KB = 1537024KB(&#x4E0E;Native Memory Tracking&#x4E2D;&#x7684;<code>Java Heap</code>&#x4E00;&#x81F4;)</p>
<pre class="language-"><code class="lang-java"><span class="token punctuation">[</span><span class="token number">0x00000006c0000000</span> <span class="token operator">-</span> <span class="token number">0x00000007c0000000</span><span class="token punctuation">]</span> reserved <span class="token number">4194304</span>KB <span class="token keyword">for</span> <span class="token class-name">Java</span> <span class="token class-name">Heap</span> from
    <span class="token punctuation">[</span><span class="token number">0x00000001033b1e8a</span><span class="token punctuation">]</span> <span class="token class-name">ReservedSpace</span><span class="token operator">::</span><span class="token function">initialize</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> bool<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> bool<span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x14a</span>
    <span class="token punctuation">[</span><span class="token number">0x00000001033b211e</span><span class="token punctuation">]</span> <span class="token class-name">ReservedHeapSpace</span><span class="token operator">::</span><span class="token class-name">ReservedHeapSpace</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> bool<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x78</span>
    <span class="token punctuation">[</span><span class="token number">0x0000000103380b80</span><span class="token punctuation">]</span> <span class="token class-name">Universe</span><span class="token operator">::</span><span class="token function">reserve_heap</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x84</span>
    <span class="token punctuation">[</span><span class="token number">0x000000010329fe27</span><span class="token punctuation">]</span> <span class="token class-name">ParallelScavengeHeap</span><span class="token operator">::</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x89</span>

    <span class="token punctuation">[</span><span class="token number">0x00000006c4e80000</span> <span class="token operator">-</span> <span class="token number">0x00000006c8800000</span><span class="token punctuation">]</span> committed <span class="token number">58880</span>KB from
            <span class="token punctuation">[</span><span class="token number">0x00000001032ce10b</span><span class="token punctuation">]</span> <span class="token class-name">PSVirtualSpace</span><span class="token operator">::</span><span class="token function">expand_by</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x3d</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032c35fa</span><span class="token punctuation">]</span> <span class="token class-name">PSOldGen</span><span class="token operator">::</span><span class="token function">expand_by</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x1c</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032c3724</span><span class="token punctuation">]</span> <span class="token class-name">PSOldGen</span><span class="token operator">::</span><span class="token function">expand</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0xa8</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032c380a</span><span class="token punctuation">]</span> <span class="token class-name">PSOldGen</span><span class="token operator">::</span><span class="token function">resize</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0xb4</span>

    <span class="token punctuation">[</span><span class="token number">0x00000006c0000000</span> <span class="token operator">-</span> <span class="token number">0x00000006c4e80000</span><span class="token punctuation">]</span> committed <span class="token number">80384</span>KB from
            <span class="token punctuation">[</span><span class="token number">0x00000001032ce10b</span><span class="token punctuation">]</span> <span class="token class-name">PSVirtualSpace</span><span class="token operator">::</span><span class="token function">expand_by</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x3d</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032c3d14</span><span class="token punctuation">]</span> <span class="token class-name">PSOldGen</span><span class="token operator">::</span><span class="token function">initialize_virtual_space</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x72</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032c3d85</span><span class="token punctuation">]</span> <span class="token class-name">PSOldGen</span><span class="token operator">::</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> <span class="token keyword">char</span> <span class="token keyword">const</span><span class="token operator">*</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x49</span>
            <span class="token punctuation">[</span><span class="token number">0x0000000102ea09b2</span><span class="token punctuation">]</span> <span class="token class-name">AdjoiningGenerations</span><span class="token operator">::</span><span class="token class-name">AdjoiningGenerations</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> <span class="token class-name">GenerationSizer</span><span class="token operator">*</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x36c</span>

    <span class="token punctuation">[</span><span class="token number">0x0000000770000000</span> <span class="token operator">-</span> <span class="token number">0x00000007c0000000</span><span class="token punctuation">]</span> committed <span class="token number">1310720</span>KB from
            <span class="token punctuation">[</span><span class="token number">0x00000001032ce10b</span><span class="token punctuation">]</span> <span class="token class-name">PSVirtualSpace</span><span class="token operator">::</span><span class="token function">expand_by</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x3d</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032ce7f9</span><span class="token punctuation">]</span> <span class="token class-name">PSYoungGen</span><span class="token operator">::</span><span class="token function">resize_generation</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x57</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032cf032</span><span class="token punctuation">]</span> <span class="token class-name">PSYoungGen</span><span class="token operator">::</span><span class="token function">resize</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x24</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032cc81c</span><span class="token punctuation">]</span> <span class="token class-name">PSScavenge</span><span class="token operator">::</span><span class="token function">invoke_no_policy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0xfb2</span>

    <span class="token punctuation">[</span><span class="token number">0x000000076ab00000</span> <span class="token operator">-</span> <span class="token number">0x0000000770000000</span><span class="token punctuation">]</span> committed <span class="token number">87040</span>KB from
            <span class="token punctuation">[</span><span class="token number">0x00000001032ce10b</span><span class="token punctuation">]</span> <span class="token class-name">PSVirtualSpace</span><span class="token operator">::</span><span class="token function">expand_by</span><span class="token punctuation">(</span>unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x3d</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032cee37</span><span class="token punctuation">]</span> <span class="token class-name">PSYoungGen</span><span class="token operator">::</span><span class="token function">initialize_virtual_space</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x6f</span>
            <span class="token punctuation">[</span><span class="token number">0x00000001032cedb9</span><span class="token punctuation">]</span> <span class="token class-name">PSYoungGen</span><span class="token operator">::</span><span class="token function">initialize</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x41</span>
            <span class="token punctuation">[</span><span class="token number">0x0000000102ea0962</span><span class="token punctuation">]</span> <span class="token class-name">AdjoiningGenerations</span><span class="token operator">::</span><span class="token class-name">AdjoiningGenerations</span><span class="token punctuation">(</span><span class="token class-name">ReservedSpace</span><span class="token punctuation">,</span> <span class="token class-name">GenerationSizer</span><span class="token operator">*</span><span class="token punctuation">,</span> unsigned <span class="token keyword">long</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">0x31c</span>
</code></pre>
<h2 id="linux-pmap-&#x547D;&#x4EE4;&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x6620;&#x50CF;&#x4FE1;&#x606F;">linux pmap &#x547D;&#x4EE4;(&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x6620;&#x50CF;&#x4FE1;&#x606F;)</h2>
<p>&#x53C2;&#x8003;&#x6587;&#x6863;&#x89C1;&#xFF1A;<a href="https://linux.die.net/man/1/pmap" target="_blank">linux pmap &#x5E2E;&#x52A9;&#x6587;&#x6863;</a></p>
<p>The pmap command reports the memory map of a process or processes.</p>
<ul>
<li>&#x53C2;&#x6570;</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token operator">-</span>x    extended    <span class="token class-name">Show</span> the extended format<span class="token punctuation">.</span><span class="token punctuation">(</span>&#x663E;&#x793A;&#x6269;&#x5C55;&#x683C;&#x5F0F;<span class="token punctuation">)</span>
<span class="token operator">-</span>d    device    <span class="token class-name">Show</span> the device format<span class="token punctuation">.</span><span class="token punctuation">(</span>&#x663E;&#x793A;&#x8BBE;&#x5907;&#x683C;&#x5F0F;<span class="token punctuation">)</span>
<span class="token operator">-</span>q    quiet    <span class="token class-name">Do</span> not display some header<span class="token operator">/</span>footer lines<span class="token punctuation">.</span><span class="token punctuation">(</span>&#x4E0D;&#x663E;&#x793A;&#x5934;&#x5C3E;&#x884C;<span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token class-name">V</span>    show version    <span class="token class-name">Displays</span> version of program<span class="token punctuation">.</span><span class="token punctuation">(</span>&#x663E;&#x793A;&#x7248;&#x672C;<span class="token punctuation">)</span>
</code></pre>
<ul>
<li><p>&#x5B57;&#x6BB5;&#x8BF4;&#x660E;</p>
</li>
<li><p>Address:    start address of map</p>
</li>
<li>Kbytes:    size of map in kilobytes</li>
<li>RSS:    resident set size in kilobytes</li>
<li>Dirty:    dirty pages (both shared and private) in kilobytes</li>
<li>Mode:    permissions on map: read, write, execute, shared, private (copy on write)</li>
<li>Mapping:    file backing the map, or &apos;[ anon ]&apos; for allocated memory, or &apos;[ stack ]&apos; for the program stack</li>
<li>Offset:    offset into the file</li>
<li>Device:    device name (major:minor)</li>
</ul>
<h2 id="linux-strace-&#x547D;&#x4EE4;&#x8FFD;&#x8E2A;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x65F6;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;&#x6240;&#x63A5;&#x6536;&#x7684;&#x4FE1;&#x53F7;">linux strace &#x547D;&#x4EE4;(&#x8FFD;&#x8E2A;&#x8FDB;&#x7A0B;&#x6267;&#x884C;&#x65F6;&#x7684;&#x7CFB;&#x7EDF;&#x8C03;&#x7528;&#x548C;&#x6240;&#x63A5;&#x6536;&#x7684;&#x4FE1;&#x53F7;)</h2>
<p>&#x53C2;&#x8003;&#x6587;&#x6863;&#x89C1;&#xFF1A;<a href="https://linux.die.net/man/1/pmap" target="_blank">linux strace &#x5E2E;&#x52A9;&#x6587;&#x6863;</a></p>
<pre class="language-"><code class="lang-java"><span class="token operator">-</span>p pid

<span class="token class-name">Attach</span> <span class="token keyword">to</span> the process <span class="token keyword">with</span> the process ID pid and begin tracing<span class="token punctuation">.</span> <span class="token class-name">The</span> trace may be terminated at any time by a keyboard interrupt signal <span class="token punctuation">(</span> CTRL <span class="token operator">-</span><span class="token class-name">C</span><span class="token punctuation">)</span><span class="token punctuation">.</span> strace will respond by detaching itself from the traced <span class="token function">process</span><span class="token punctuation">(</span>es<span class="token punctuation">)</span> leaving it <span class="token punctuation">(</span>them<span class="token punctuation">)</span> <span class="token keyword">to</span> <span class="token keyword">continue</span> running<span class="token punctuation">.</span> <span class="token class-name">Multiple</span> <span class="token operator">-</span>p options can be used <span class="token keyword">to</span> attach <span class="token keyword">to</span> up <span class="token keyword">to</span> <span class="token number">32</span> processes in addition <span class="token keyword">to</span> command <span class="token punctuation">(</span>which is optional <span class="token keyword">if</span> at least one <span class="token operator">-</span>p option is given<span class="token punctuation">)</span><span class="token punctuation">.</span>
</code></pre>
<p><footer class="page-footer"><span class="copyright">Copyright @doctording all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF1A;
2020-07-30 18:12:24
</span></footer><div id="gitalk-container"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="jvm_params.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: JVM参数">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"JVM命令工具(jstack,jmap,jcmd...)","layout":"page","date":"2019-02-15 00:00","level":"1.7.5","depth":2,"next":{"title":"[7 缓存 & 限流]","level":"1.8","depth":1,"ref":"","articles":[{"title":"LFU","level":"1.8.1","depth":2,"path":"content/db_cache/LFU.md","ref":"./content/db_cache/LFU.md","articles":[]},{"title":"LRU","level":"1.8.2","depth":2,"path":"content/db_cache/LRU.md","ref":"./content/db_cache/LRU.md","articles":[]},{"title":"一致性Hash","level":"1.8.3","depth":2,"path":"content/db_cache/consistent_hash.md","ref":"./content/db_cache/consistent_hash.md","articles":[]},{"title":"布隆过滤器","level":"1.8.4","depth":2,"path":"content/db_cache/bloom.md","ref":"./content/db_cache/bloom.md","articles":[]},{"title":"缓存","level":"1.8.5","depth":2,"path":"content/db_cache/cache.md","ref":"./content/db_cache/cache.md","articles":[]},{"title":"限流","level":"1.8.6","depth":2,"path":"content/distributed_design/flow_limit.md","ref":"./content/distributed_design/flow_limit.md","articles":[]},{"title":"CPU,缓存","level":"1.8.7","depth":2,"path":"content/java_thread_concurrent/cpu_cache.md","ref":"./content/java_thread_concurrent/cpu_cache.md","articles":[]}]},"previous":{"title":"JVM参数","level":"1.7.4","depth":2,"path":"content/java_jvm/jvm_params.md","ref":"./content/java_jvm/jvm_params.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","-lunr","-search","-sharing","ace","codeblock-filename","search-plus","sectionx","splitter","tbfed-pagefooter","expandable-chapters","back-to-top-button","code","uml","page-treeview","gittalk"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright @doctording","modify_label":"该文件修改时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"collapsed":false,"copyright":"Copyright @doctording","minHeaderCount":"2","minHeaderDeep":"2"},"prism":{},"ace":{},"splitter":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"sectionx":{},"uml":{"format":"svg"},"codeblock-filename":{},"back-to-top-button":{},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"gittalk":{"clientID":"094729e19245d3fe84aa","clientSecret":"6c4cf7b48e7ae41c20d453c24eb9d5469e4d19fb","repo":"sword_at_offer","owner":"doctording","admin":["doctording"],"distractionFreeMode":false},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"doctording","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"java-note","language":"zh-hans","gitbook":"*","description":"Java开发"},"file":{"path":"content/java_jvm/jvm_tools.md","mtime":"2020-07-30T10:12:24.853Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-09T15:35:18.795Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sectionx/sectionx.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-gittalk/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

