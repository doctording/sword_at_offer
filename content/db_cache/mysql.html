
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>MySQL · java-note</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="doctording">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-ace/ace.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-codeblock-filename/block.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-sectionx/sectionx.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-treeview/style.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../styles/website.css">
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="redis.html" />
    
    
    <link rel="prev" href="io.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" >
            
                <span>
            
                    
                    [计算机组成]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../computer/cpu_cache.html">
            
                <a href="../computer/cpu_cache.html">
            
                    
                    CPU,缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../computer/process_thread.html">
            
                <a href="../computer/process_thread.html">
            
                    
                    进程和线程
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" >
            
                <span>
            
                    
                    [I/O & 网络]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../java_io_net/io_interrupte.html">
            
                <a href="../java_io_net/io_interrupte.html">
            
                    
                    IO与中断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" >
            
                <span>
            
                    
                    [IO基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../java_io_net/io_basic.html">
            
                <a href="../java_io_net/io_basic.html">
            
                    
                    Java IO基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1.1" data-path="../java_io_net/io_basic_pro.html">
            
                <a href="../java_io_net/io_basic_pro.html">
            
                    
                    Java IO面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../java_io_net/nio_basic.html">
            
                <a href="../java_io_net/nio_basic.html">
            
                    
                    BIO到NIO
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../java_io_net/from_io_to_epoll.html">
            
                <a href="../java_io_net/from_io_to_epoll.html">
            
                    
                    再谈select & epoll
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../java_io_net/server_socket_channel.html">
            
                <a href="../java_io_net/server_socket_channel.html">
            
                    
                    ServerSocketChannel
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../distributed_design/design.html">
            
                <a href="../distributed_design/design.html">
            
                    
                    网络IO设计模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../java_io_net/http_tcp.html">
            
                <a href="../java_io_net/http_tcp.html">
            
                    
                    http & tcp
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../java_io_net/http_tcp_pro.html">
            
                <a href="../java_io_net/http_tcp_pro.html">
            
                    
                    http & tcp面试题
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../distributed_design/nginx.html">
            
                <a href="../distributed_design/nginx.html">
            
                    
                    nginx基础
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" >
            
                <span>
            
                    
                    [数据库]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="io.html">
            
                <a href="io.html">
            
                    
                    局部性原理&磁盘IO
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.4.2" data-path="mysql.html">
            
                <a href="mysql.html">
            
                    
                    MySQL
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="redis.html">
            
                <a href="redis.html">
            
                    
                    Redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="mq.html">
            
                <a href="mq.html">
            
                    
                    rabbitmq
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" >
            
                <span>
            
                    
                    [分布式]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" >
            
                <span>
            
                    
                    [分布式基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1.1" data-path="../distributed_design/distribute.html">
            
                <a href="../distributed_design/distribute.html">
            
                    
                    分布式&微服务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.2" data-path="../distributed_design/distribute_tx.html">
            
                <a href="../distributed_design/distribute_tx.html">
            
                    
                    分布式事务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.3" data-path="../distributed_design/distribute_lock.html">
            
                <a href="../distributed_design/distribute_lock.html">
            
                    
                    分布式锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.1.4" data-path="../distributed_design/distribute_id.html">
            
                <a href="../distributed_design/distribute_id.html">
            
                    
                    分布式ID
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="../distributed_design/rpc.html">
            
                <a href="../distributed_design/rpc.html">
            
                    
                    rpc
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.2.1" data-path="../distributed_design/dubbo.html">
            
                <a href="../distributed_design/dubbo.html">
            
                    
                    dubbo
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="../distributed_design/zk.html">
            
                <a href="../distributed_design/zk.html">
            
                    
                    zookeeper
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" >
            
                <span>
            
                    
                    [缓存 & 限流]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="LFU.html">
            
                <a href="LFU.html">
            
                    
                    LFU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="LRU.html">
            
                <a href="LRU.html">
            
                    
                    LRU
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="consistent_hash.html">
            
                <a href="consistent_hash.html">
            
                    
                    一致性Hash
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="bloom.html">
            
                <a href="bloom.html">
            
                    
                    布隆过滤器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="cache.html">
            
                <a href="cache.html">
            
                    
                    缓存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="../distributed_design/flow_limit.html">
            
                <a href="../distributed_design/flow_limit.html">
            
                    
                    限流
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    [常见设计模式]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../design_pattern/proxy.html">
            
                <a href="../design_pattern/proxy.html">
            
                    
                    代理模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1.1" data-path="../design_pattern/asm.html">
            
                <a href="../design_pattern/asm.html">
            
                    
                    ASM字节码操纵
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../design_pattern/singleton.html">
            
                <a href="../design_pattern/singleton.html">
            
                    
                    单例模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../design_pattern/factory.html">
            
                <a href="../design_pattern/factory.html">
            
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../design_pattern/template.html">
            
                <a href="../design_pattern/template.html">
            
                    
                    模板方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../design_pattern/strategy.html">
            
                <a href="../design_pattern/strategy.html">
            
                    
                    策略模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../design_pattern/decorator.html">
            
                <a href="../design_pattern/decorator.html">
            
                    
                    装饰器模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../design_pattern/observer.html">
            
                <a href="../design_pattern/observer.html">
            
                    
                    观察者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../design_pattern/publish.html">
            
                <a href="../design_pattern/publish.html">
            
                    
                    发布订阅模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../design_pattern/visitor.html">
            
                <a href="../design_pattern/visitor.html">
            
                    
                    访问者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../design_pattern/iterator.html">
            
                <a href="../design_pattern/iterator.html">
            
                    
                    迭代器模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../design_pattern/facade.html">
            
                <a href="../design_pattern/facade.html">
            
                    
                    门面模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    [数据结构和算法基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../java_data_structure/java_basic_datastructure.html">
            
                <a href="../java_data_structure/java_basic_datastructure.html">
            
                    
                    常见基础数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1.1" data-path="../java_data_structure/array_list.html">
            
                <a href="../java_data_structure/array_list.html">
            
                    
                    ArrayList & LinkedList & Vector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.2" data-path="../java_data_structure/hash_map.html">
            
                <a href="../java_data_structure/hash_map.html">
            
                    
                    HashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.3" data-path="../java_data_structure/hash_table.html">
            
                <a href="../java_data_structure/hash_table.html">
            
                    
                    HashTable
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.4" data-path="../java_data_structure/linked_hash_map.html">
            
                <a href="../java_data_structure/linked_hash_map.html">
            
                    
                    LinkedHashMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.5" data-path="../java_data_structure/tree_map.html">
            
                <a href="../java_data_structure/tree_map.html">
            
                    
                    TreeMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.6" data-path="../java_data_structure/fail_fast.html">
            
                <a href="../java_data_structure/fail_fast.html">
            
                    
                    fail-fast,ConcurrentModificationException
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.7" data-path="../java_utils/quick_sort.html">
            
                <a href="../java_utils/quick_sort.html">
            
                    
                    快排(没事手写写)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.8" data-path="../java_data_structure/concurrent_datastructure.html">
            
                <a href="../java_data_structure/concurrent_datastructure.html">
            
                    
                    concurrent数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.1.9" data-path="../java_data_structure/Map.html">
            
                <a href="../java_data_structure/Map.html">
            
                    
                    HashMap,HashTable,ConcurrentHashMap 对比
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../java_data_structure/advanced_structure.html">
            
                <a href="../java_data_structure/advanced_structure.html">
            
                    
                    高级数据结构
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.2.1" data-path="../java_data_structure/b_tree.html">
            
                <a href="../java_data_structure/b_tree.html">
            
                    
                    B/B+ Tree
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2.2" data-path="../java_data_structure/lsm.md">
            
                <span>
            
                    
                    LSM Tree
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    [Java基础问题]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="serialize.html">
            
                <a href="serialize.html">
            
                    
                    序列化问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../java_utils/spi.html">
            
                <a href="../java_utils/spi.html">
            
                    
                    Java SPI机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../java_utils/object.html">
            
                <a href="../java_utils/object.html">
            
                    
                    java.lang.Object
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../java_data_structure/System_arraycopy.html">
            
                <a href="../java_data_structure/System_arraycopy.html">
            
                    
                    System.arraycopy, Array.copyOf
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../java_utils/equals_hashcode.html">
            
                <a href="../java_utils/equals_hashcode.html">
            
                    
                    == & equals方法 & hashcode方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../java_utils/Calendar.html">
            
                <a href="../java_utils/Calendar.html">
            
                    
                    Calendar & Date
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../java_utils/Compare.html">
            
                <a href="../java_utils/Compare.html">
            
                    
                    Comparison method violates its general contract
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../java_utils/int_Integer.html">
            
                <a href="../java_utils/int_Integer.html">
            
                    
                    int(基本类型) & Integer(包装类类型)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../java_utils/exception.html">
            
                <a href="../java_utils/exception.html">
            
                    
                    Java异常&错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="../java_utils/String.html">
            
                <a href="../java_utils/String.html">
            
                    
                    String,StringBuffer,StringBuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="../java_utils/reflect.html">
            
                <a href="../java_utils/reflect.html">
            
                    
                    反射机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="../java_utils/call_back.html">
            
                <a href="../java_utils/call_back.html">
            
                    
                    回调 & 事件机制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="../java_utils/array_collection.html">
            
                <a href="../java_utils/array_collection.html">
            
                    
                    数组，集合转换等问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.14" data-path="../java_utils/annotation.html">
            
                <a href="../java_utils/annotation.html">
            
                    
                    注解 Annotation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.15" data-path="../java_jvm/jvm_runtime.html">
            
                <a href="../java_jvm/jvm_runtime.html">
            
                    
                    Runtime类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.16" data-path="../java_data_structure/unsafe.html">
            
                <a href="../java_data_structure/unsafe.html">
            
                    
                    unsafe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.17" data-path="../java_thinking_in_Java/basic.html">
            
                <a href="../java_thinking_in_Java/basic.html">
            
                    
                    《Java编程思想》第3章：操作符，第4章：控制执行流程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.18" data-path="../java_thinking_in_Java/constructor.html">
            
                <a href="../java_thinking_in_Java/constructor.html">
            
                    
                    《Java编程思想》第5章：初始化和清理(重点)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.19" data-path="../java_thinking_in_Java/public_private_protect.html">
            
                <a href="../java_thinking_in_Java/public_private_protect.html">
            
                    
                    《Java编程思想》第6章：访问权限控制(重要)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.20" data-path="../java_thinking_in_Java/class_final.html">
            
                <a href="../java_thinking_in_Java/class_final.html">
            
                    
                    《Java编程思想》第7章：复用类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.21" data-path="../java_thinking_in_Java/polymorphism.html">
            
                <a href="../java_thinking_in_Java/polymorphism.html">
            
                    
                    《Java编程思想》第8章：多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.22" data-path="../java_thinking_in_Java/class_final.html">
            
                <a href="../java_thinking_in_Java/class_final.html">
            
                    
                    《Java编程思想》第9章：接口 补充：抽象类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.23" data-path="../java_thinking_in_Java/innner_class.html">
            
                <a href="../java_thinking_in_Java/innner_class.html">
            
                    
                    《Java编程思想》第10章：内部类
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    [JVM]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../java_jvm/jvm.html">
            
                <a href="../java_jvm/jvm.html">
            
                    
                    JVM规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../java_jvm/jvm_class_load.html">
            
                <a href="../java_jvm/jvm_class_load.html">
            
                    
                    类加载机制,运行时内存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../java_jvm/jvm_mem_model.html">
            
                <a href="../java_jvm/jvm_mem_model.html">
            
                    
                    Java内存模型与线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../java_jvm/jvm_mem_gc.html">
            
                <a href="../java_jvm/jvm_mem_gc.html">
            
                    
                    堆栈 & 各种GC
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../java_jvm/jvm_params.html">
            
                <a href="../java_jvm/jvm_params.html">
            
                    
                    JVM参数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../java_jvm/jvm_tools.html">
            
                <a href="../java_jvm/jvm_tools.html">
            
                    
                    JVM命令工具(jstack,jmap,jcmd...)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    [Java多线程 & 并发基础]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../java_thread_concurrent/aqs.html">
            
                <a href="../java_thread_concurrent/aqs.html">
            
                    
                    AQS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../java_thread_concurrent/cas.html">
            
                <a href="../java_thread_concurrent/cas.html">
            
                    
                    CAS(Conmpare And Swap/Exchange) & unsafe
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../java_thread_concurrent/volatile.html">
            
                <a href="../java_thread_concurrent/volatile.html">
            
                    
                    volatile 关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="../java_thread_concurrent/synchronized.html">
            
                <a href="../java_thread_concurrent/synchronized.html">
            
                    
                    synchronized 关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="../java_thread_concurrent/thread_basic.html">
            
                <a href="../java_thread_concurrent/thread_basic.html">
            
                    
                    线程基础
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.5.1" data-path="../java_thread_concurrent/park_unpark.html">
            
                <a href="../java_thread_concurrent/park_unpark.html">
            
                    
                    park unpark
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.2" data-path="../java_thread_concurrent/thread_condition.html">
            
                <a href="../java_thread_concurrent/thread_condition.html">
            
                    
                    Condition
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.3" data-path="../java_thread_concurrent/semaphore.html">
            
                <a href="../java_thread_concurrent/semaphore.html">
            
                    
                    Semaphore
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.4" data-path="../java_thread_concurrent/hook_thread.html">
            
                <a href="../java_thread_concurrent/hook_thread.html">
            
                    
                    Hook线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.5" data-path="../java_thread_concurrent/countdownlatch_cyclicBarrier.html">
            
                <a href="../java_thread_concurrent/countdownlatch_cyclicBarrier.html">
            
                    
                    CountDownLatch & CyclicBarrier
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.6" data-path="../java_thread_concurrent/longAdder.html">
            
                <a href="../java_thread_concurrent/longAdder.html">
            
                    
                    LongAdder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5.7" data-path="../java_thread_concurrent/thread_design.html">
            
                <a href="../java_thread_concurrent/thread_design.html">
            
                    
                    多线程设计模式
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.6" >
            
                <span>
            
                    
                    [线程池]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.6.1" data-path="../java_thread_concurrent/thread_pool.html">
            
                <a href="../java_thread_concurrent/thread_pool.html">
            
                    
                    Java线程池
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6.2" data-path="../java_thread_concurrent/concurrency_problems.html">
            
                <a href="../java_thread_concurrent/concurrency_problems.html">
            
                    
                    常见的多线程题目
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6.3" data-path="../java_thread_concurrent/thread_pool_self.html">
            
                <a href="../java_thread_concurrent/thread_pool_self.html">
            
                    
                    自定义线程池
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="../java_thread_concurrent/thread_lock.html">
            
                <a href="../java_thread_concurrent/thread_lock.html">
            
                    
                    Java Lock
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="../java_thread_concurrent/thread_deadlock.html">
            
                <a href="../java_thread_concurrent/thread_deadlock.html">
            
                    
                    死锁问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="../java_thread_concurrent/threadLocal.html">
            
                <a href="../java_thread_concurrent/threadLocal.html">
            
                    
                    ThreadLocal对象
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    [Java8]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../java8/java8_future.html">
            
                <a href="../java8/java8_future.html">
            
                    
                    Future
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../java8/java8_completableFuture.html">
            
                <a href="../java8/java8_completableFuture.html">
            
                    
                    CompletableFuture
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../java8/interface_default.html">
            
                <a href="../java8/interface_default.html">
            
                    
                    interface defalt static
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../java8/java8_mem.html">
            
                <a href="../java8/java8_mem.html">
            
                    
                    Java8 jvm内存结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../java8/lambda.html">
            
                <a href="../java8/lambda.html">
            
                    
                    Java8 lambda表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../java8/java8_optional.html">
            
                <a href="../java8/java8_optional.html">
            
                    
                    Java8 Optional
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../java8/streams.html">
            
                <a href="../java8/streams.html">
            
                    
                    Java8 Streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../java8/streams_parallel.html">
            
                <a href="../java8/streams_parallel.html">
            
                    
                    Java8 并行数据处理与性能
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    [系统设计]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../system_design/seckill.html">
            
                <a href="../system_design/seckill.html">
            
                    
                    秒杀系统
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    [剑指Offer]
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../thought_of_solve/thought.html">
            
                <a href="../thought_of_solve/thought.html">
            
                    
                    剑指Offer解题思路(全)
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >MySQL</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div class="search-plus" id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div class="treeview__container"><div class="treeview__container-title"><span class="treeview__main-title">Treeview</span><span class="treeview__copyright">Copyright @doctording all right reserved, powered by <a href="https://github.com/aleen42" target="_blank">aleen42</a></span></div><ul>
<li><div><a href="#mysql">MySQL</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;">&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x6570;&#x636E;&#x5E93;&#x67B6;&#x6784;&#x56FE;&#x9700;&#x624B;&#x5199;">&#x6570;&#x636E;&#x5E93;&#x67B6;&#x6784;&#x56FE;(&#x9700;&#x624B;&#x5199;)</a><i></i></div></li>
<li><div><a href="#&#x6570;&#x636E;&#x5E93;&#x57FA;&#x7840;">&#x6570;&#x636E;&#x5E93;&#x57FA;&#x7840;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x521B;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#x4F8B;&#x5B50;">&#x521B;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#x4F8B;&#x5B50;</a><i></i></div></li>
<li><div><a href="#&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4F18;&#x70B9;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4F18;&#x70B9;</a><i></i></div></li>
<li><div><a href="#&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x7F3A;&#x70B9;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x7F3A;&#x70B9;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x6570;&#x636E;&#x5E93;&#x8303;&#x5F0F;">&#x6570;&#x636E;&#x5E93;&#x8303;&#x5F0F;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x7B2C;&#x4E00;&#x8303;&#x5F0F;">&#x7B2C;&#x4E00;&#x8303;&#x5F0F;</a><i></i></div></li>
<li><div><a href="#&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;">&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;</a><i></i></div></li>
<li><div><a href="#&#x7B2C;&#x4E09;&#x8303;&#x5F0F;">&#x7B2C;&#x4E09;&#x8303;&#x5F0F;</a><i></i></div></li>
<li><div><a href="#bcnf&#x8303;&#x5F0F;">BCNF&#x8303;&#x5F0F;</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x6570;&#x636E;&#x8868;join&#x64CD;&#x4F5C;">&#x6570;&#x636E;&#x8868;join&#x64CD;&#x4F5C;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x591A;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x8BE6;&#x89E3;-hash-join&#x3001;merge-join&#x3001;nested-loop">&#x591A;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x8BE6;&#x89E3; hash join&#x3001;merge join&#x3001;nested loop</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#nested-loop&#xFF08;&#x5D4C;&#x5957;&#x5FAA;&#x73AF;&#xFF09;">nested loop&#xFF08;&#x5D4C;&#x5957;&#x5FAA;&#x73AF;&#xFF09;</a><i></i></div></li>
<li><div><a href="#hash-join">Hash Join</a><i></i></div></li>
<li><div><a href="#merge-join">merge join</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#innodb">InnoDb</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x9875;&#xFF08;page&#xFF09;&#x662F;-innodb-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x6700;&#x5C0F;&#x78C1;&#x76D8;&#x5355;&#x4F4D;">&#x9875;&#xFF08;Page&#xFF09;&#x662F; Innodb &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x6700;&#x5C0F;&#x78C1;&#x76D8;&#x5355;&#x4F4D;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x8BB0;&#x5F55;&#x5728;&#x9875;&#x4E2D;&#x7684;&#x5B58;&#x50A8;">&#x8BB0;&#x5F55;&#x5728;&#x9875;&#x4E2D;&#x7684;&#x5B58;&#x50A8;</a><i></i></div></li>
</ul></li>
<li><div><a href="#innodb-ibd&#x6587;&#x4EF6;">innodb ibd&#x6587;&#x4EF6;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#innodb-&#x9875;&#x7C7B;&#x578B;">innodb &#x9875;&#x7C7B;&#x578B;</a><i></i></div></li>
<li><div><a href="#&#x5B9E;&#x8DF5;&#x5206;&#x6790;ibd&#x6587;&#x4EF6;">&#x5B9E;&#x8DF5;&#x5206;&#x6790;ibd&#x6587;&#x4EF6;</a><i></i></div></li>
<li><div><a href="#&#x67E5;&#x770B;&#x6570;&#x636E;&#x8868;&#x7684;&#x884C;&#x683C;&#x5F0F;">&#x67E5;&#x770B;&#x6570;&#x636E;&#x8868;&#x7684;&#x884C;&#x683C;&#x5F0F;</a><i></i></div></li>
<li><div><a href="#&#x67E5;&#x770B;ibd&#x6587;&#x4EF6;">&#x67E5;&#x770B;ibd&#x6587;&#x4EF6;</a><i></i></div></li>
<li><div><a href="#&#x5206;&#x6790;&#x7B2C;4&#x4E2A;&#x9875;&#xFF1A;b-tree-node&#x7C7B;&#x578B;">&#x5206;&#x6790;&#x7B2C;4&#x4E2A;&#x9875;&#xFF1A;B-tree Node&#x7C7B;&#x578B;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5148;&#x5206;&#x6790;file-header38&#x5B57;&#x8282;-&#x63CF;&#x8FF0;&#x9875;&#x4FE1;&#x606F;">&#x5148;&#x5206;&#x6790;File Header(38&#x5B57;&#x8282;-&#x63CF;&#x8FF0;&#x9875;&#x4FE1;&#x606F;)</a><i></i></div></li>
<li><div><a href="#&#x518D;&#x5206;&#x6790;page-header&#xFF08;56&#x5B57;&#x8282;-&#x8BB0;&#x5F55;&#x9875;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF09;">&#x518D;&#x5206;&#x6790;Page Header&#xFF08;56&#x5B57;&#x8282;-&#x8BB0;&#x5F55;&#x9875;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF09;</a><i></i></div></li>
<li><div><a href="#&#x5206;&#x6790;infimum--supremum-record-26&#x5B57;&#x8282;-&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x884C;&#x8BB0;&#x5F55;">&#x5206;&#x6790;Infimum + Supremum Record (26&#x5B57;&#x8282;-&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x884C;&#x8BB0;&#x5F55;)</a><i></i></div></li>
<li><div><a href="#user-record&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;">User Record(&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;)</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#compact&#x884C;&#x8BB0;&#x5F55;&#x683C;&#x5F0F;">COMPACT&#x884C;&#x8BB0;&#x5F55;&#x683C;&#x5F0F;</a><i></i></div></li>
</ul></li>
<li><div><a href="#file-tailer&#x6700;&#x540E;8&#x5B57;&#x8282;">File Tailer(&#x6700;&#x540E;8&#x5B57;&#x8282;)</a><i></i></div></li>
<li><div><a href="#&#x9644;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x5C0F;&#x5DE5;&#x5177;">&#x9644;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x5C0F;&#x5DE5;&#x5177;</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x9875;&#x5206;&#x88C2;&#x9875;&#x5408;&#x5E76;">&#x9875;&#x5206;&#x88C2;/&#x9875;&#x5408;&#x5E76;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#innodb&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;frm--ibd">innodb&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;(.frm &amp; .ibd)</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x9875;&#x5408;&#x5E76;">&#x9875;&#x5408;&#x5E76;</a><i></i></div></li>
<li><div><a href="#&#x9875;&#x5206;&#x88C2;">&#x9875;&#x5206;&#x88C2;</a><i></i></div></li>
</ul></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x7D22;&#x5F15;">&#x7D22;&#x5F15;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#mysql&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#xFF08;innodb&#xFF09;">MySql&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#xFF08;InnoDB&#xFF09;</a><i></i></div></li>
<li><div><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;b-tree&#x800C;&#x4E0D;&#x662F;b-tree">&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;B+ Tree&#x800C;&#x4E0D;&#x662F;B Tree?</a><i></i></div></li>
<li><div><a href="#mysql&#x4E2D;b&#x6811;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x548C;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;">MySql&#x4E2D;B+&#x6811;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x548C;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF08;clustered-index&#xFF09;">&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF08;clustered index&#xFF09;</a><i></i></div></li>
<li><div><a href="#&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;">&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;</a><i></i></div></li>
<li><div><a href="#&#x805A;&#x96C6;&#x975E;&#x805A;&#x96C6;&#x5BF9;&#x6BD4;&#x548C;&#x6CE8;&#x610F;&#x70B9;">&#x805A;&#x96C6;/&#x975E;&#x805A;&#x96C6;&#x5BF9;&#x6BD4;&#x548C;&#x6CE8;&#x610F;&#x70B9;</a><i></i></div></li>
<li><div><a href="#&#x4E3A;&#x4EC0;&#x4E48;innodb&#x8981;&#x6709;&#x4E3B;&#x952E;&#xFF1F;&#x5E76;&#x4E14;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6574;&#x578B;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;InnoDB&#x8981;&#x6709;&#x4E3B;&#x952E;&#xFF1F;&#x5E76;&#x4E14;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6574;&#x578B;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF1F;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x7D22;&#x5F15;&#x7C7B;&#x578B;">&#x7D22;&#x5F15;&#x7C7B;&#x578B;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x8054;&#x5408;&#x7D22;&#x5F15;">&#x8054;&#x5408;&#x7D22;&#x5F15;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x8054;&#x5408;&#x7D22;&#x5F15;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x6700;&#x5DE6;&#x524D;&#x7F00;&#x5339;&#x914D;&#xFF1F;">&#x8054;&#x5408;&#x7D22;&#x5F15;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x6700;&#x5DE6;&#x524D;&#x7F00;&#x5339;&#x914D;&#xFF1F;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#mysql&#x7D22;&#x5F15;&#x6982;&#x8FF0;">MySql&#x7D22;&#x5F15;&#x6982;&#x8FF0;</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#innodb&#x9501;">InnoDb&#x9501;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#shared-locks&#x8BFB;&#x9501;-&#x548C;-exclusive-locks&#x5199;&#x9501;">Shared locks(&#x8BFB;&#x9501;) &#x548C; Exclusive locks(&#x5199;&#x9501;)</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#exclusive-locks">Exclusive locks</a><i></i></div></li>
<li><div><a href="#shared-locks">Shared locks</a><i></i></div></li>
</ul></li>
<li><div><a href="#intention-locks&#x610F;&#x5411;&#x9501;">Intention Locks(&#x610F;&#x5411;&#x9501;)</a><i></i></div></li>
<li><div><a href="#record-locks">Record Locks</a><i></i></div></li>
<li><div><a href="#gap-locks">Gap Locks</a><i></i></div></li>
<li><div><a href="#next-key-locks">Next-Key Locks</a><i></i></div></li>
<li><div><a href="#insert-intention-locks&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;">Insert Intention Locks(&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;)</a><i></i></div></li>
<li><div><a href="#auto-inc-locks">AUTO-INC Locks</a><i></i></div></li>
<li><div><a href="#predicate-locks-for-spatial-indexes">Predicate Locks for Spatial Indexes</a><i></i></div></li>
<li><div><a href="#error-1213-40001-deadlock-found-when-trying-to-get-lock-try-restarting-transaction">ERROR 1213 (40001): Deadlock found when trying to get lock; try restarting transaction</a><i></i></div></li>
<li><div><a href="#error-1062-23000-duplicate-entry-6-for-key-primary">ERROR 1062 (23000): Duplicate entry &apos;6&apos; for key &apos;PRIMARY&apos;</a><i></i></div></li>
</ul></li>
<li><div><a href="#innodb&#x4E8B;&#x52A1;">Innodb&#x4E8B;&#x52A1;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#mvccmultiversion-concurrency-control">MVCC(Multiversion concurrency control)</a><i></i></div></li>
<li><div><a href="#&#x539F;&#x5B50;&#x6027;&#xFF1A;undo-log">&#x539F;&#x5B50;&#x6027;&#xFF1A;undo log</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#undo-log-&#x76F8;&#x5173;&#x53C2;&#x6570;">undo log &#x76F8;&#x5173;&#x53C2;&#x6570;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x6301;&#x4E45;&#x6027;&#xFF1A;redo-log">&#x6301;&#x4E45;&#x6027;&#xFF1A;redo log</a><i></i></div></li>
<li><div><a href="#undo--redo-log&#x6587;&#x4EF6;&#x64CD;&#x4F5C;">undo / redo log&#x6587;&#x4EF6;&#x64CD;&#x4F5C;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#redo-log&#x6301;&#x4E45;&#x5316;&#x7B56;&#x7565;">redo log&#x6301;&#x4E45;&#x5316;&#x7B56;&#x7565;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x9694;&#x79BB;&#x6027;">&#x9694;&#x79BB;&#x6027;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x4E3B;&#x4ECE;&#x590D;&#x5236;">&#x4E3B;&#x4ECE;&#x590D;&#x5236;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x539F;&#x7406;&#xFF1F;">&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x539F;&#x7406;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#binlog&#x6587;&#x4EF6;">binlog&#x6587;&#x4EF6;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#binlog&#x6587;&#x4EF6;&#x6982;&#x8FF0;">binlog&#x6587;&#x4EF6;&#x6982;&#x8FF0;</a><i></i></div></li>
<li><div><a href="#binlog&#x6587;&#x4EF6;&#x4F5C;&#x7528;">binlog&#x6587;&#x4EF6;&#x4F5C;&#x7528;</a><i></i></div></li>
<li><div><a href="#binlog&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;">binlog&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;</a><i></i></div></li>
</ul></li>
</ul></li>
<li><div><a href="#&#x5206;&#x5E93;&#x5206;&#x8868;">&#x5206;&#x5E93;/&#x5206;&#x8868;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5206;&#x8868;&#x5206;&#x5E93;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5206;&#x8868;&#x5206;&#x5E93;&#xFF1F;</a><i></i></div></li>
<li><div><a href="#&#x5206;&#x8868;--&#x5206;&#x5E93;&#x6982;&#x5FF5;">&#x5206;&#x8868; &amp; &#x5206;&#x5E93;&#x6982;&#x5FF5;</a><i class="level__parent level__item level__parent--opened" state="opened" onclick="var curState = this.getAttribute(&apos;state&apos;);var nextState = curState === &apos;opened&apos; ? &apos;hidden&apos; : &apos;opened&apos;;this.setAttribute(&apos;state&apos;, nextState);this.className = this.className.split(curState).join(nextState);var list = this.parentNode.nextElementSibling;if (nextState === &apos;hidden&apos;) {    list.style.display = &apos;none&apos;;} else {    list.style.display = &apos;block&apos;;}"></i></div>
<ul>
<li><div><a href="#&#x5782;&#x76F4;&#x5206;&#x8868;">&#x5782;&#x76F4;&#x5206;&#x8868;</a><i></i></div></li>
<li><div><a href="#&#x5782;&#x76F4;&#x5206;&#x5E93;">&#x5782;&#x76F4;&#x5206;&#x5E93;</a><i></i></div></li>
<li><div><a href="#&#x6C34;&#x5E73;&#x5206;&#x5E93;">&#x6C34;&#x5E73;&#x5206;&#x5E93;</a><i></i></div></li>
<li><div><a href="#&#x6C34;&#x5E73;&#x5206;&#x8868;">&#x6C34;&#x5E73;&#x5206;&#x8868;</a><i></i></div></li>
</ul></li>
<li><div><a href="#&#x5206;&#x5E93;&#x5206;&#x8868;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;">&#x5206;&#x5E93;&#x5206;&#x8868;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;</a><i></i></div></li>
<li><div><a href="#&#x5206;&#x5E93;&#x5206;&#x8868;&#x5B9E;&#x8DF5;">&#x5206;&#x5E93;&#x5206;&#x8868;&#x5B9E;&#x8DF5;</a><i></i></div></li>
</ul></li>
</ul></li>
</ul>
</div>


<p>[TOC]</p>
<h1 id="mysql">MySQL</h1>
<p><a href="https://dev.mysql.com/doc/" target="_blank">&#x5B98;&#x65B9;&#x6587;&#x6863;</a></p>
<p><a href="https://dev.mysql.com/doc/refman/5.6/en/" target="_blank">mysql 5.6</a></p>
<p><a href="https://blog.csdn.net/qq_26437925/category_5779305.html" target="_blank">&#x6211;&#x7684;&#x535A;&#x5BA2;&#x4E13;&#x9898;</a></p>
<h2 id="&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;">&#x6570;&#x636E;&#x5E93;&#x5F15;&#x64CE;&#x6709;&#x54EA;&#x4E9B;&#xFF1F;</h2>
<ul>
<li>InnoDB</li>
<li>Myisam</li>
<li>Memory</li>
</ul>
<p>&#x8BF4;&#x660E;&#xFF1A;</p>
<ul>
<li>InnoDB,Myisam&#x7684;&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#x662F;<code>B+Tree</code>&#xFF0C;Memory&#x7684;&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#x662F;<code>hash</code></li>
<li>InnoDB&#x652F;&#x6301;<strong>&#x4E8B;&#x52A1;</strong>&#xFF0C;&#x652F;&#x6301;<strong>&#x5916;&#x952E;</strong>&#xFF0C;&#x652F;&#x6301;<strong>&#x884C;&#x9501;</strong>&#xFF0C;&#x5199;&#x5165;&#x6570;&#x636E;&#x65F6;&#x64CD;&#x4F5C;&#x5FEB;&#xFF0C;MySQL5.6&#x7248;&#x672C;&#x4EE5;&#x4E0A;&#x624D;&#x652F;&#x6301;<strong>&#x5168;&#x6587;&#x7D22;&#x5F15;</strong></li>
<li>Myisam&#x4E0D;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x3002;&#x4E0D;&#x652F;&#x6301;&#x5916;&#x952E;&#xFF0C;&#x652F;&#x6301;&#x8868;&#x9501;&#xFF0C;&#x652F;&#x6301;&#x5168;&#x6587;&#x7D22;&#x5F15;&#xFF0C;&#x8BFB;&#x53D6;&#x6570;&#x636E;&#x5FEB;</li>
<li>Memory&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x4FDD;&#x7559;&#x5728;&#x5185;&#x5B58;&#x4E2D;,&#x4E0D;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x78C1;&#x76D8;&#x7684;IO&#x6240;&#x4EE5;&#x8BFB;&#x53D6;&#x7684;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;, &#x4F46;&#x662F;&#x4E00;&#x65E6;&#x5173;&#x673A;,&#x8868;&#x7684;&#x7ED3;&#x6784;&#x4F1A;&#x4FDD;&#x7559;&#x4F46;&#x662F;&#x6570;&#x636E;&#x5C31;&#x4F1A;&#x4E22;&#x5931;,&#x8868;&#x652F;&#x6301;Hash&#x7D22;&#x5F15;&#xFF0C;&#x56E0;&#x6B64;&#x67E5;&#x627E;&#x901F;&#x5EA6;&#x5F88;&#x5FEB;</li>
</ul>
<h2 id="&#x6570;&#x636E;&#x5E93;&#x67B6;&#x6784;&#x56FE;&#x9700;&#x624B;&#x5199;">&#x6570;&#x636E;&#x5E93;&#x67B6;&#x6784;&#x56FE;(&#x9700;&#x624B;&#x5199;)</h2>
<p><img src="imgs/db-structure.png" alt=""></p>
<p><img src="imgs/db-frame.png" alt=""></p>
<h2 id="&#x6570;&#x636E;&#x5E93;&#x57FA;&#x7840;">&#x6570;&#x636E;&#x5E93;&#x57FA;&#x7840;</h2>
<h3 id="&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;</h3>
<h4 id="&#x521B;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#x4F8B;&#x5B50;">&#x521B;&#x5EFA;&#x548C;&#x4F7F;&#x7528;&#x4F8B;&#x5B50;</h4>
<p><img src="imgs/mysql_procedure1.png" alt=""></p>
<ul>
<li>&#x4F7F;&#x7528;</li>
</ul>
<p><img src="imgs/mysql_procedure2.png" alt=""></p>
<h4 id="&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4F18;&#x70B9;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x4F18;&#x70B9;</h4>
<ol>
<li>&#x8FD0;&#x884C;&#x901F;&#x5EA6;&#xFF1A;&#x5BF9;&#x4E8E;&#x5F88;&#x7B80;&#x5355;&#x7684;sql&#xFF0C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6CA1;&#x6709;&#x4EC0;&#x4E48;&#x4F18;&#x52BF;&#x3002;&#x5BF9;&#x4E8E;&#x590D;&#x6742;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x521B;&#x5EFA;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x5DF2;&#x7ECF;&#x5BF9;&#x5176;&#x8FDB;&#x884C;&#x4E86;&#x4E00;&#x6B21;&#x89E3;&#x6790;&#x548C;&#x4F18;&#x5316;&#x3002;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4E00;&#x65E6;&#x6267;&#x884C;&#xFF0C;&#x5728;&#x5185;&#x5B58;&#x4E2D;&#x5C31;&#x4F1A;&#x4FDD;&#x7559;&#x4E00;&#x4EFD;&#x8FD9;&#x4E2A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#xFF0C;&#x8FD9;&#x6837;&#x4E0B;&#x6B21;&#x518D;&#x6267;&#x884C;&#x540C;&#x6837;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4ECE;&#x5185;&#x5B58;&#x4E2D;&#x76F4;&#x63A5;&#x8C03;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x6267;&#x884C;&#x901F;&#x5EA6;&#x4F1A;&#x6BD4;&#x666E;&#x901A;sql&#x5FEB;&#x3002;  </li>
<li>&#x51CF;&#x5C11;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#xFF1A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x76F4;&#x63A5;&#x5C31;&#x5728;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8DD1;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x90FD;&#x5728;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x5185;&#x90E8;&#x8FDB;&#x884C;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x4F20;&#x8F93;&#x6570;&#x636E;&#x5230;&#x5176;&#x5B83;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x51CF;&#x5C11;&#x4E00;&#x5B9A;&#x7684;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x3002;&#x4F46;&#x662F;&#x5728;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x4E2D;&#x6CA1;&#x6709;&#x591A;&#x6B21;&#x6570;&#x636E;&#x4EA4;&#x4E92;&#xFF0C;&#x90A3;&#x4E48;&#x5B9E;&#x9645;&#x4E0A;&#x7F51;&#x7EDC;&#x4F20;&#x8F93;&#x91CF;&#x548C;&#x76F4;&#x63A5;sql&#x662F;&#x4E00;&#x6837;&#x7684;&#x3002;&#x800C;&#x4E14;&#x6211;&#x4EEC;&#x7684;&#x5E94;&#x7528;&#x670D;&#x52A1;&#x5668;&#x901A;&#x5E38;&#x4E0E;&#x6570;&#x636E;&#x5E93;&#x662F;&#x5728;&#x540C;&#x4E00;&#x5185;&#x7F51;&#xFF0C;&#x5927;&#x6570;&#x636E;&#x7684;&#x8BBF;&#x95EE;&#x7684;&#x74F6;&#x9888;&#x4F1A;&#x662F;&#x786C;&#x76D8;&#x7684;&#x901F;&#x5EA6;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x7F51;&#x901F;&#x3002;</li>
<li>&#x53EF;&#x7EF4;&#x62A4;&#x6027;&#xFF1A;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x6709;&#x4E9B;&#x65F6;&#x5019;&#x6BD4;&#x7A0B;&#x5E8F;&#x66F4;&#x5BB9;&#x6613;&#x7EF4;&#x62A4;&#xFF0C;&#x8FD9;&#x662F;&#x56E0;&#x4E3A;&#x53EF;&#x4EE5;&#x5B9E;&#x65F6;&#x66F4;&#x65B0;DB&#x7AEF;&#x7684;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x3002;&#x6709;&#x4E9B;bug&#xFF0C;&#x76F4;&#x63A5;&#x6539;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x91CC;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x5C31;&#x641E;&#x5B9A;&#x4E86;&#x3002;</li>
<li>&#x589E;&#x5F3A;&#x5B89;&#x5168;&#x6027;&#xFF1A;&#x63D0;&#x9AD8;&#x4EE3;&#x7801;&#x5B89;&#x5168;&#xFF0C;&#x9632;&#x6B62; SQL&#x6CE8;&#x5165;&#x3002;&#x8FD9;&#x4E00;&#x70B9;sql&#x8BED;&#x53E5;&#x4E5F;&#x53EF;&#x4EE5;&#x505A;&#x5230;&#x3002;</li>
<li>&#x53EF;&#x6269;&#x5C55;&#x6027;&#xFF1A;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x548C;&#x6570;&#x636E;&#x5E93;&#x64CD;&#x4F5C;&#x5206;&#x5F00;&#xFF0C;&#x72EC;&#x7ACB;&#x8FDB;&#x884C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x76F8;&#x4E92;&#x5728;&#x4E00;&#x8D77;&#x3002;&#x65B9;&#x4FBF;&#x4EE5;&#x540E;&#x7684;&#x6269;&#x5C55;&#x548C;DBA&#x7EF4;&#x62A4;&#x4F18;&#x5316;&#x3002;</li>
</ol>
<h4 id="&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x7F3A;&#x70B9;">&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x7F3A;&#x70B9;</h4>
<ol>
<li>SQL&#x672C;&#x8EAB;&#x662F;&#x4E00;&#x79CD;&#x7ED3;&#x6784;&#x5316;&#x67E5;&#x8BE2;&#x8BED;&#x8A00;&#xFF0C;&#x4F46;&#x4E0D;&#x662F;&#x9762;&#x5411;&#x5BF9;&#x8C61;&#x7684;&#x7684;&#xFF0C;&#x672C;&#x8D28;&#x4E0A;&#x8FD8;&#x662F;&#x8FC7;&#x7A0B;&#x5316;&#x7684;&#x8BED;&#x8A00;&#xFF0C;&#x9762;&#x5BF9;&#x590D;&#x6742;&#x7684;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#xFF0C;&#x8FC7;&#x7A0B;&#x5316;&#x7684;&#x5904;&#x7406;&#x4F1A;&#x5F88;&#x5403;&#x529B;&#x3002;&#x540C;&#x65F6;SQL&#x64C5;&#x957F;&#x7684;&#x662F;&#x6570;&#x636E;&#x67E5;&#x8BE2;&#x800C;&#x975E;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x7684;&#x5904;&#x7406;&#xFF0C;&#x5982;&#x679C;&#x5982;&#x679C;&#x628A;&#x4E1A;&#x52A1;&#x903B;&#x8F91;&#x5168;&#x653E;&#x5728;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x91CC;&#x9762;&#xFF0C;&#x8FDD;&#x80CC;&#x4E86;&#x8FD9;&#x4E00;&#x539F;&#x5219;&#x3002;</li>
<li>&#x5982;&#x679C;&#x9700;&#x8981;&#x5BF9;&#x8F93;&#x5165;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x66F4;&#x6539;&#xFF0C;&#x6216;&#x8005;&#x8981;&#x66F4;&#x6539;&#x7531;&#x5176;&#x8FD4;&#x56DE;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5219;&#x60A8;&#x4ECD;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x7A0B;&#x5E8F;&#x96C6;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x4EE5;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x3001;&#x66F4;&#x65B0;&#x8C03;&#x7528;&#xFF0C;&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x4F30;&#x8BA1;&#x4F1A;&#x6BD4;&#x8F83;&#x7E41;&#x7410;&#x4E86;&#x3002;</li>
<li>&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x590D;&#x6742;&#xFF0C;&#x7531;&#x4E8E;IDE&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x7684;&#x5F00;&#x53D1;&#x8C03;&#x8BD5;&#x8981;&#x6BD4;&#x4E00;&#x822C;&#x7A0B;&#x5E8F;&#x56F0;&#x96BE;&#x3002;</li>
<li>&#x6CA1;&#x529E;&#x6CD5;&#x5E94;&#x7528;&#x7F13;&#x5B58;&#x3002;&#x867D;&#x7136;&#x6709;&#x5168;&#x5C40;&#x4E34;&#x65F6;&#x8868;&#x4E4B;&#x7C7B;&#x7684;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x505A;&#x7F13;&#x5B58;&#xFF0C;&#x4F46;&#x540C;&#x6837;&#x52A0;&#x91CD;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x7684;&#x8D1F;&#x62C5;&#x3002;&#x5982;&#x679C;&#x7F13;&#x5B58;&#x5E76;&#x53D1;&#x4E25;&#x91CD;&#xFF0C;&#x7ECF;&#x5E38;&#x8981;&#x52A0;&#x9501;&#xFF0C;&#x90A3;&#x6548;&#x7387;&#x5B9E;&#x5728;&#x582A;&#x5FE7;&#x3002;</li>
<li>&#x4E0D;&#x652F;&#x6301;&#x96C6;&#x7FA4;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;&#x65E0;&#x6CD5;&#x6C34;&#x5E73;&#x6269;&#x5C55;&#xFF0C;&#x6216;&#x8005;&#x6570;&#x636E;&#x5E93;&#x7684;&#x5207;&#x5272;&#xFF08;&#x6C34;&#x5E73;&#x6216;&#x5782;&#x76F4;&#x5207;&#x5272;&#xFF09;&#x3002;&#x6570;&#x636E;&#x5E93;&#x5207;&#x5272;&#x4E4B;&#x540E;&#xFF0C;&#x5B58;&#x50A8;&#x8FC7;&#x7A0B;&#x5E76;&#x4E0D;&#x6E05;&#x695A;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x5728;&#x54EA;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x3002;</li>
</ol>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x8303;&#x5F0F;">&#x6570;&#x636E;&#x5E93;&#x8303;&#x5F0F;</h3>
<h4 id="&#x7B2C;&#x4E00;&#x8303;&#x5F0F;">&#x7B2C;&#x4E00;&#x8303;&#x5F0F;</h4>
<p>&#x6BCF;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x4E0D;&#x53EF;&#x518D;&#x5206;</p>
<p><img src="imgs/1nf.png" alt=""></p>
<h4 id="&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;">&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;</h4>
<p><img src="imgs/bug.png" alt=""></p>
<ol>
<li><p>&#x6BCF;&#x4E00;&#x540D;&#x5B66;&#x751F;&#x7684;&#x5B66;&#x53F7;&#x3001;&#x59D3;&#x540D;&#x3001;&#x7CFB;&#x540D;&#x3001;&#x7CFB;&#x4E3B;&#x4EFB;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x91CD;&#x590D;&#x591A;&#x6B21;&#x3002;&#x6BCF;&#x4E2A;&#x7CFB;&#x4E0E;&#x5BF9;&#x5E94;&#x7684;&#x7CFB;&#x4E3B;&#x4EFB;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x91CD;&#x590D;&#x591A;&#x6B21;&#x2014;&#x2014;&#x6570;&#x636E;&#x5197;&#x4F59;&#x8FC7;&#x5927;</p>
</li>
<li><p>&#x5047;&#x5982;&#x5B66;&#x6821;&#x65B0;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x7CFB;&#xFF0C;&#x4F46;&#x662F;&#x6682;&#x65F6;&#x8FD8;&#x6CA1;&#x6709;&#x62DB;&#x6536;&#x4EFB;&#x4F55;&#x5B66;&#x751F;&#xFF08;&#x6BD4;&#x5982;3&#x6708;&#x4EFD;&#x5C31;&#x65B0;&#x5EFA;&#x4E86;&#xFF0C;&#x4F46;&#x8981;&#x7B49;&#x5230;8&#x6708;&#x4EFD;&#x624D;&#x62DB;&#x751F;&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x662F;&#x65E0;&#x6CD5;&#x5C06;&#x7CFB;&#x540D;&#x4E0E;&#x7CFB;&#x4E3B;&#x4EFB;&#x7684;&#x6570;&#x636E;&#x5355;&#x72EC;&#x5730;&#x6DFB;&#x52A0;&#x5230;&#x6570;&#x636E;&#x8868;&#x4E2D;&#x53BB;&#x7684; &#xFF08;&#x6CE8;&#xFF11;&#xFF09;&#x2014;&#x2014;&#x63D2;&#x5165;&#x5F02;&#x5E38;</p>
<ul>
<li><p>&#x6CE8;&#xFF11;&#xFF1A;&#x6839;&#x636E;&#x4E09;&#x79CD;&#x5173;&#x7CFB;&#x5B8C;&#x6574;&#x6027;&#x7EA6;&#x675F;&#x4E2D;&#x5B9E;&#x4F53;&#x5B8C;&#x6574;&#x6027;&#x7684;&#x8981;&#x6C42;&#xFF0C;&#x5173;&#x7CFB;&#x4E2D;&#x7684;&#x7801;&#xFF08;&#x6CE8;&#xFF12;&#xFF09;&#x6240;&#x5305;&#x542B;&#x7684;&#x4EFB;&#x610F;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#x90FD;&#x4E0D;&#x80FD;&#x4E3A;&#x7A7A;&#xFF0C;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x7684;&#x7EC4;&#x5408;&#x4E5F;&#x4E0D;&#x80FD;&#x91CD;&#x590D;&#x3002;&#x4E3A;&#x4E86;&#x6EE1;&#x8DB3;&#x6B64;&#x8981;&#x6C42;&#xFF0C;&#x56FE;&#x4E2D;&#x7684;&#x8868;&#xFF0C;&#x53EA;&#x80FD;&#x5C06;&#x5B66;&#x53F7;&#x4E0E;&#x8BFE;&#x540D;&#x7684;&#x7EC4;&#x5408;&#x4F5C;&#x4E3A;&#x7801;&#xFF0C;&#x5426;&#x5219;&#x5C31;&#x65E0;&#x6CD5;&#x552F;&#x4E00;&#x5730;&#x533A;&#x5206;&#x6BCF;&#x4E00;&#x6761;&#x8BB0;&#x5F55;</p>
</li>
<li><p>&#x7801;&#xFF1A;&#x5173;&#x7CFB;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x5C5E;&#x6027;&#x6216;&#x8005;&#x67D0;&#x51E0;&#x4E2A;&#x5C5E;&#x6027;&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x7528;&#x4E8E;&#x533A;&#x5206;&#x6BCF;&#x4E2A;&#x5143;&#x7EC4;&#xFF08;&#x53EF;&#x4EE5;&#x628A;&#x201C;&#x5143;&#x7EC4;&#x201D;&#x7406;&#x89E3;&#x4E3A;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#x7684;&#x6BCF;&#x6761;&#x8BB0;&#x5F55;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6BCF;&#x4E00;&#x884C;&#xFF09;&#x3002;</p>
</li>
</ul>
</li>
<li><p>&#x5047;&#x5982;&#x5C06;&#x67D0;&#x4E2A;&#x7CFB;&#x4E2D;&#x6240;&#x6709;&#x5B66;&#x751F;&#x76F8;&#x5173;&#x7684;&#x8BB0;&#x5F55;&#x90FD;&#x5220;&#x9664;&#xFF0C;&#x90A3;&#x4E48;&#x6240;&#x6709;&#x7CFB;&#x4E0E;&#x7CFB;&#x4E3B;&#x4EFB;&#x7684;&#x6570;&#x636E;&#x4E5F;&#x5C31;&#x968F;&#x4E4B;&#x6D88;&#x5931;&#x4E86;&#xFF08;&#x4E00;&#x4E2A;&#x7CFB;&#x6240;&#x6709;&#x5B66;&#x751F;&#x90FD;&#x6CA1;&#x6709;&#x4E86;&#xFF0C;&#x5E76;&#x4E0D;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x7CFB;&#x5C31;&#x6CA1;&#x6709;&#x4E86;&#xFF09;&#x3002;&#x2014;&#x2014;&#x5220;&#x9664;&#x5F02;&#x5E38;</p>
</li>
<li><p>&#x5047;&#x5982;&#x674E;&#x5C0F;&#x660E;&#x8F6C;&#x7CFB;&#x5230;&#x6CD5;&#x5F8B;&#x7CFB;&#xFF0C;&#x90A3;&#x4E48;&#x4E3A;&#x4E86;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x6570;&#x636E;&#x7684;&#x4E00;&#x81F4;&#x6027;&#xFF0C;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E09;&#x6761;&#x8BB0;&#x5F55;&#x4E2D;&#x7CFB;&#x4E0E;&#x7CFB;&#x4E3B;&#x4EFB;&#x7684;&#x6570;&#x636E;&#x3002;&#x2014;&#x2014;&#x4FEE;&#x6539;&#x5F02;&#x5E38;</p>
</li>
</ol>
<p>&#x201C;&#x82E5;&#x5728;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#xFF0C;&#x5728;&#x5C5E;&#x6027;&#xFF08;&#x6216;&#x5C5E;&#x6027;&#x7EC4;&#xFF09;X&#x7684;&#x503C;&#x786E;&#x5B9A;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5FC5;&#x5B9A;&#x80FD;&#x786E;&#x5B9A;&#x5C5E;&#x6027;Y&#x7684;&#x503C;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x53EF;&#x4EE5;&#x8BF4;Y&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#x4E8E;X&#xFF0C;&#x5199;&#x4F5C;<code>X &#x2192; Y</code>&#x201D;</p>
<p><strong>&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;&#xFF1A;&#x5728;1NF&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x975E;&#x7801;&#x5C5E;&#x6027;&#x5FC5;&#x987B;&#x5B8C;&#x5168;&#x4F9D;&#x8D56;&#x4E8E;&#x5019;&#x9009;&#x7801;&#xFF08;&#x5728;1NF&#x57FA;&#x7840;&#x4E0A;&#x6D88;&#x9664;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x5BF9;&#x4E3B;&#x7801;&#x7684;&#x90E8;&#x5206;&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#xFF09;</strong></p>
<ul>
<li>&#x9009;&#x8BFE;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x8BFE;&#x540D;&#xFF0C;&#x5206;&#x6570;&#xFF09;</li>
<li>&#x5B66;&#x751F;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x59D3;&#x540D;&#xFF0C;&#x7CFB;&#x540D;&#xFF0C;&#x7CFB;&#x4E3B;&#x4EFB;&#xFF09;</li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x9009;&#x8BFE;&#x8868;&#xFF0C;&#x5176;&#x7801;&#x662F;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x8BFE;&#x540D;&#xFF09;&#xFF0C;&#x4E3B;&#x5C5E;&#x6027;&#x662F;&#x5B66;&#x53F7;&#x548C;&#x8BFE;&#x540D;&#xFF0C;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x662F;&#x5206;&#x6570;&#xFF0C;&#x5B66;&#x53F7;&#x786E;&#x5B9A;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x552F;&#x4E00;&#x786E;&#x5B9A;&#x5206;&#x6570;&#xFF0C;&#x8BFE;&#x540D;&#x786E;&#x5B9A;&#xFF0C;&#x4E5F;&#x4E0D;&#x80FD;&#x552F;&#x4E00;&#x786E;&#x5B9A;&#x5206;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x5B58;&#x5728;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x5206;&#x6570;&#x5BF9;&#x4E8E;&#x7801; &#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x8BFE;&#x540D;&#xFF09;&#x7684;&#x90E8;&#x5206;&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x8868;&#x7B26;&#x5408;2NF&#x7684;&#x8981;&#x6C42;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x5B66;&#x751F;&#x8868;&#xFF0C;&#x5176;&#x7801;&#x662F;&#x5B66;&#x53F7;&#xFF0C;&#x4E3B;&#x5C5E;&#x6027;&#x662F;&#x5B66;&#x53F7;&#xFF0C;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x662F;&#x59D3;&#x540D;&#x3001;&#x7CFB;&#x540D;&#x548C;&#x7CFB;&#x4E3B;&#x4EFB;&#xFF0C;&#x56E0;&#x4E3A;&#x7801;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x4E0D;&#x53EF;&#x80FD;&#x5B58;&#x5728;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x5BF9;&#x4E8E;&#x7801; &#x7684;&#x90E8;&#x5206;&#x51FD;&#x6570;&#x4F9D;&#x8D56;&#xFF0C;&#x6240;&#x4EE5;&#x6B64;&#x8868;&#x7B26;&#x5408;2NF&#x7684;&#x8981;&#x6C42;&#x3002;</p>
<h4 id="&#x7B2C;&#x4E09;&#x8303;&#x5F0F;">&#x7B2C;&#x4E09;&#x8303;&#x5F0F;</h4>
<p><strong>&#x5728;2NF&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x4EFB;&#x4F55;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x4E0D;&#x4F9D;&#x8D56;&#x4E8E;&#x5176;&#x5B83;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#xFF08;&#x5728;2NF&#x57FA;&#x7840;&#x4E0A;&#x6D88;&#x9664;&#x4F20;&#x9012;&#x4F9D;&#x8D56;&#xFF09;</strong></p>
<ul>
<li>&#x5B66;&#x751F;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x59D3;&#x540D;&#xFF0C;&#x7CFB;&#x540D;&#xFF0C;&#x7CFB;&#x4E3B;&#x4EFB;&#xFF09;</li>
</ul>
<p>&#x5BF9;&#x4E8E;&#x5B66;&#x751F;&#x8868;&#xFF0C;&#x4E3B;&#x7801;&#x4E3A;&#x5B66;&#x53F7;&#xFF0C;&#x4E3B;&#x5C5E;&#x6027;&#x4E3A;&#x5B66;&#x53F7;&#xFF0C;&#x975E;&#x4E3B;&#x5C5E;&#x6027;&#x4E3A;&#x59D3;&#x540D;&#x3001;&#x7CFB;&#x540D;&#x548C;&#x7CFB;&#x4E3B;&#x4EFB;&#x3002;&#x56E0;&#x4E3A; <code>&#x5B66;&#x53F7; &#x2192; &#x7CFB;&#x540D;</code>&#xFF0C;&#x540C;&#x65F6; <code>&#x7CFB;&#x540D; &#x2192; &#x7CFB;&#x4E3B;&#x4EFB;</code>&#xFF0C;&#x6240;&#x4EE5;&#x5B58;&#x5728;&#x975E;&#x4E3B;&#x5C5E;&#x6027;<code>&#x7CFB;&#x4E3B;&#x4EFB;</code>&#x5BF9;&#x4E8E;&#x7801;<code>&#x5B66;&#x53F7;</code>&#x7684;<strong>&#x4F20;&#x9012;&#x51FD;&#x6570;</strong>&#x4F9D;&#x8D56;&#xFF0C;&#x6240;&#x4EE5;&#x5B66;&#x751F;&#x8868;&#x7684;&#x8BBE;&#x8BA1;&#xFF0C;&#x4E0D;&#x7B26;&#x5408;3NF&#x7684;&#x8981;&#x6C42;&#x3002;</p>
<hr>
<ul>
<li>&#x9009;&#x8BFE;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x8BFE;&#x540D;&#xFF0C;&#x5206;&#x6570;&#xFF09;</li>
<li>&#x5B66;&#x751F;&#xFF08;&#x5B66;&#x53F7;&#xFF0C;&#x59D3;&#x540D;&#xFF0C;&#x7CFB;&#x540D;&#xFF09;</li>
<li>&#x7CFB;&#xFF08;&#x7CFB;&#x540D;&#xFF0C;&#x7CFB;&#x4E3B;&#x4EFB;&#xFF09;</li>
</ul>
<p><img src="imgs/3nf.png" alt=""></p>
<h4 id="bcnf&#x8303;&#x5F0F;">BCNF&#x8303;&#x5F0F;</h4>
<p>&#x5DF4;&#x65AF;-&#x79D1;&#x5FB7;&#x8303;&#x5F0F;&#xFF08;BCNF&#xFF09;&#x662F;&#x7B2C;&#x4E09;&#x8303;&#x5F0F;&#xFF08;3NF&#xFF09;&#x7684;&#x4E00;&#x4E2A;&#x5B50;&#x96C6;&#xFF0C;&#x5373;&#x6EE1;&#x8DB3;&#x5DF4;&#x65AF;-&#x79D1;&#x5FB7;&#x8303;&#x5F0F;&#xFF08;BCNF&#xFF09;&#x5FC5;&#x987B;&#x6EE1;&#x8DB3;&#x7B2C;&#x4E09;&#x8303;&#x5F0F;&#xFF08;3NF&#xFF09;&#x3002;&#x901A;&#x5E38;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5DF4;&#x65AF;-&#x79D1;&#x5FB7;&#x8303;&#x5F0F;&#x88AB;&#x8BA4;&#x4E3A;&#x6CA1;&#x6709;&#x65B0;&#x7684;&#x8BBE;&#x8BA1;&#x89C4;&#x8303;&#x52A0;&#x5165;&#xFF0C;&#x53EA;&#x662F;&#x5BF9;&#x7B2C;&#x4E8C;&#x8303;&#x5F0F;&#x4E0E;&#x7B2C;&#x4E09;&#x8303;&#x5F0F;&#x4E2D;&#x8BBE;&#x8BA1;&#x89C4;&#x8303;&#x8981;&#x6C42;&#x66F4;&#x5F3A;&#xFF0C;&#x56E0;&#x800C;&#x88AB;&#x8BA4;&#x4E3A;&#x662F;&#x4FEE;&#x6B63;&#x7B2C;&#x4E09;&#x8303;&#x5F0F;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5B83;&#x4E8B;&#x5B9E;&#x4E0A;&#x662F;&#x5BF9;&#x7B2C;&#x4E09;&#x8303;&#x5F0F;&#x7684;&#x4FEE;&#x6B63;&#xFF0C;&#x4F7F;&#x6570;&#x636E;&#x5E93;&#x5197;&#x4F59;&#x5EA6;&#x66F4;&#x5C0F;&#x3002;&#x8FD9;&#x4E5F;&#x662F;BCNF&#x4E0D;&#x88AB;&#x79F0;&#x4E3A;&#x7B2C;&#x56DB;&#x8303;&#x5F0F;&#x7684;&#x539F;&#x56E0;</p>
<h2 id="&#x6570;&#x636E;&#x8868;join&#x64CD;&#x4F5C;">&#x6570;&#x636E;&#x8868;join&#x64CD;&#x4F5C;</h2>
<ul>
<li><p>INNER JOIN: &#x5185;&#x8FDE;&#x63A5;&#x662F;&#x6700;&#x5E38;&#x89C1;&#x7684;&#x4E00;&#x79CD;&#x8FDE;&#x63A5;&#xFF0C;&#x53EA;&#x8FDE;&#x63A5;&#x5339;&#x914D;&#x7684;&#x884C;</p>
</li>
<li><p>LEFT JOIN: &#x8FD4;&#x56DE;&#x5DE6;&#x8868;&#x7684;&#x5168;&#x90E8;&#x884C;&#x548C;&#x53F3;&#x8868;&#x6EE1;&#x8DB3;ON&#x6761;&#x4EF6;&#x7684;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x5DE6;&#x8868;&#x7684;&#x884C;&#x5728;&#x53F3;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x5339;&#x914D;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E00;&#x884C;&#x53F3;&#x8868;&#x4E2D;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x7528;NULL&#x4EE3;&#x66FF;</p>
</li>
<li><p>RIGHT JOIN: &#x8FD4;&#x56DE;&#x53F3;&#x8868;&#x7684;&#x5168;&#x90E8;&#x884C;&#x548C;&#x5DE6;&#x8868;&#x6EE1;&#x8DB3;ON&#x6761;&#x4EF6;&#x7684;&#x884C;&#xFF0C;&#x5982;&#x679C;&#x53F3;&#x8868;&#x7684;&#x884C;&#x5728;&#x5DE6;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x5339;&#x914D;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E00;&#x884C;&#x5DE6;&#x8868;&#x4E2D;&#x5BF9;&#x5E94;&#x6570;&#x636E;&#x7528;NULL&#x4EE3;&#x66FF;</p>
</li>
<li><p>FULL OUTER JOIN: &#x4F1A;&#x4ECE;&#x5DE6;&#x8868; &#x548C;&#x53F3;&#x8868; &#x90A3;&#x91CC;&#x8FD4;&#x56DE;&#x6240;&#x6709;&#x7684;&#x884C;&#x3002;&#x5982;&#x679C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#x884C;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x8868;&#x4E2D;&#x6CA1;&#x6709;&#x5339;&#x914D;&#x7684;&#x884C;&#xFF0C;&#x90A3;&#x4E48;&#x5BF9;&#x9762;&#x7684;&#x6570;&#x636E;&#x7528;NULL&#x4EE3;&#x66FF;</p>
</li>
<li><p>CROSS JOIN: &#x628A;&#x8868;A&#x548C;&#x8868;B&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x4E00;&#x4E2A;N*M&#x7684;&#x7EC4;&#x5408;&#xFF0C;&#x5373;&#x7B1B;&#x5361;&#x5C14;&#x79EF;</p>
</li>
</ul>
<h3 id="&#x591A;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x8BE6;&#x89E3;-hash-join&#x3001;merge-join&#x3001;nested-loop">&#x591A;&#x8868;&#x8FDE;&#x63A5;&#x7684;&#x4E09;&#x79CD;&#x65B9;&#x5F0F;&#x8BE6;&#x89E3; hash join&#x3001;merge join&#x3001;nested loop</h3>
<h4 id="nested-loop&#xFF08;&#x5D4C;&#x5957;&#x5FAA;&#x73AF;&#xFF09;">nested loop&#xFF08;&#x5D4C;&#x5957;&#x5FAA;&#x73AF;&#xFF09;</h4>
<p><strong>&#x9A71;&#x52A8;&#x8868;</strong>(&#x4E5F;&#x53EB;&#x5916;&#x8868;)&#x548C;&#x88AB;&#x9A71;&#x52A8;&#x8868;(&#x4E5F;&#x53EB;<strong>&#x975E;&#x9A71;&#x52A8;&#x8868;</strong>&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x53EB;&#x5339;&#x914D;&#x8868;&#xFF0C;&#x4EA6;&#x53EF;&#x53EB;&#x5185;&#x8868;)&#xFF0C;&#x7B80;&#x5355;&#x6765;&#x8BF4;&#xFF0C;&#x9A71;&#x52A8;&#x8868;&#x5C31;&#x662F;&#x4E3B;&#x8868;&#xFF0C;left join &#x4E2D;&#x7684;&#x5DE6;&#x8868;&#x5C31;&#x662F;&#x9A71;&#x52A8;&#x8868;&#xFF0C;right join &#x4E2D;&#x7684;&#x53F3;&#x8868;&#x662F;&#x9A71;&#x52A8;&#x8868;&#x3002;&#x4E00;&#x4E2A;&#x662F;&#x9A71;&#x52A8;&#x8868;&#xFF0C;&#x90A3;&#x53E6;&#x4E00;&#x4E2A;&#x5C31;&#x53EA;&#x80FD;&#x662F;&#x975E;&#x9A71;&#x52A8;&#x8868;&#x4E86;</p>
<p>&#x5728; join &#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#xFF0C;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x4ECE;&#x9A71;&#x52A8;&#x8868;&#x91CC;&#x9762;&#x4F9D;&#x6B21;(&#x6CE8;&#x610F;&#x7406;&#x89E3;&#x8FD9;&#x91CC;&#x9762;&#x7684;&#x4F9D;&#x6B21;)&#x53D6;&#x51FA;&#x6BCF;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x7136;&#x540E;&#x53BB;&#x975E;&#x9A71;&#x52A8;&#x8868;&#x91CC;&#x9762;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x90A3;&#x5177;&#x4F53;&#x662F;&#x600E;&#x4E48;&#x5339;&#x914D;&#x7684;&#x5462;&#xFF1F;&#x8FD9;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x63A5;&#x4E0B;&#x6765;&#x8BB2;&#x7684;&#x8FD9;&#x4E09;&#x79CD;&#x8FDE;&#x63A5;&#x65B9;&#x5F0F;&#xFF1A;</p>
<ol>
<li><p>(Simple Nested-Loop Join )&#x66B4;&#x529B;&#x5339;&#x914D;&#x7684;&#x65B9;&#x5F0F;&#xFF1B;&#x5982;&#x679C; table A &#x6709;10&#x884C;&#xFF0C;table B &#x6709;10&#x884C;&#xFF0C;&#x603B;&#x5171;&#x9700;&#x8981;&#x6267;&#x884C;10 x 10 = 100&#x6B21;&#x67E5;&#x8BE2;</p>
</li>
<li><p>(Index Nested-Loop Join)&#x8FD9;&#x4E2A; Index &#x662F;&#x8981;&#x6C42;&#x975E;&#x9A71;&#x52A8;&#x8868;&#x4E0A;&#x8981;&#x6709;&#x7D22;&#x5F15;&#xFF0C;&#x6709;&#x4E86;&#x7D22;&#x5F15;&#x4EE5;&#x540E;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x5339;&#x914D;&#x6B21;&#x6570;&#xFF0C;&#x5339;&#x914D;&#x6B21;&#x6570;&#x51CF;&#x5C11;&#x4E86;&#x5C31;&#x53EF;&#x4EE5;&#x63D0;&#x9AD8;&#x67E5;&#x8BE2;&#x7684;&#x6548;&#x7387;&#x4E86;,eg:&#x5DE6;&#x8FB9;&#x5C31;&#x662F;&#x666E;&#x901A;&#x5217;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x53F3;&#x8FB9;&#x662F;&#x6811;&#x7ED3;&#x6784;&#x7D22;&#x5F15;, &#x80FD;&#x51CF;&#x5C11;&#x67E5;&#x8BE2;&#x6B21;&#x6570;</p>
</li>
<li><p>(Block Nested-Loop Join)</p>
</li>
</ol>
<p>&#x7406;&#x60F3;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x7528;&#x7D22;&#x5F15;&#x5339;&#x914D;&#x662F;&#x6700;&#x9AD8;&#x6548;&#x7684;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x73B0;&#x5B9E;&#x5DE5;&#x4F5C;&#x4E2D;&#xFF0C;&#x5E76;&#x4E0D;&#x662F;&#x6240;&#x6709;&#x7684;&#x5217;&#x90FD;&#x662F;&#x7D22;&#x5F15;&#x5217;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230; Block Nested-Loop Join &#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x4E0E;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x6BD4;&#x8F83;&#x7C7B;&#x4F3C;&#xFF0C;&#x552F;&#x4E00;&#x7684;&#x533A;&#x522B;&#x5C31;&#x662F;:&#x4F1A;&#x628A;&#x9A71;&#x52A8;&#x8868;&#x4E2D; left join &#x6D89;&#x53CA;&#x5230;&#x7684;&#x6240;&#x6709;&#x5217;(<strong>&#x4E0D;&#x6B62;&#x662F;&#x7528;&#x6765;on&#x7684;&#x5217;&#xFF0C;&#x8FD8;&#x6709;select&#x90E8;&#x5206;&#x7684;&#x5217;</strong>)&#x5148;&#x53D6;&#x51FA;&#x6765;&#x653E;&#x5230;&#x4E00;&#x4E2A;<strong>&#x7F13;&#x5B58;&#x533A;&#x57DF;</strong>&#xFF0C;&#x7136;&#x540E;&#x518D;&#x53BB;&#x548C;&#x975E;&#x9A71;&#x52A8;&#x8868;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x548C;&#x7B2C;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x76F8;&#x6BD4;&#x6240;&#x9700;&#x8981;&#x7684;&#x5339;&#x914D;&#x6B21;&#x6570;&#x662F;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x5DEE;&#x522B;&#x5C31;&#x5728;&#x4E8E;&#x9A71;&#x52A8;&#x8868;&#x7684;&#x5217;&#x6570;&#x4E0D;&#x540C;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x6570;&#x636E;&#x91CF;&#x7684;&#x591A;&#x5C11;&#x4E0D;&#x540C;&#x3002;&#x6240;&#x4EE5;&#x867D;&#x7136;&#x5339;&#x914D;&#x6B21;&#x6570;&#x6CA1;&#x6709;&#x51CF;&#x5C11;&#xFF0C;&#x4F46;&#x662F;&#x603B;&#x4F53;&#x7684;&#x67E5;&#x8BE2;&#x6027;&#x80FD;&#x8FD8;&#x662F;&#x6709;&#x63D0;&#x5347;&#x7684;&#x3002;</p>
<hr>
<p>&#x9002;&#x7528;&#x4E8E;&#x5C0F;&#x8868;&#x4E0E;&#x5C0F;&#x8868;&#x7684;&#x8FDE;&#x63A5;</p>
<h4 id="hash-join">Hash Join</h4>
<p>hash join&#x4EC5;&#x4EC5;&#x5728;join&#x7684;&#x5B57;&#x6BB5;&#x4E0A;<code>&#x6CA1;&#x6709;&#x7D22;&#x5F15;</code>&#x65F6;&#x624D;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5728;&#x6B64;&#x4E4B;&#x524D;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x5EFA;&#x8BAE;&#x5728;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x7684;&#x5B57;&#x6BB5;&#x4E0A;&#x505A;join&#x64CD;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A;&#x901A;&#x5E38;&#x4E2D;&#x8FD9;&#x79CD;&#x64CD;&#x4F5C;&#x4F1A;&#x6267;&#x884C;&#x5F97;&#x5F88;&#x6162;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E86;hash join&#xFF0C;&#x5B83;<code>&#x80FD;&#x591F;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5185;&#x5B58;&#x4E2D;&#x7684;hash&#x8868;</code>&#xFF0C;&#x4EE3;&#x66FF;&#x4E4B;&#x524D;&#x7684;nested loop&#xFF0C;&#x4F7F;&#x5F97;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x7684;<code>&#x7B49;&#x503C;join</code>&#x6027;&#x80FD;&#x63D0;&#x5347;&#x5F88;&#x591A;&#x3002;</p>
<ol>
<li><p>&#x914D;&#x7F6E;hash join&#x529F;&#x80FD;&#x662F;&#x5426;&#x5F00;&#x542F;&#xFF1A;</p>
<ul>
<li>optimizer_switch &#x4E2D;&#x7684; hash_join=on/off&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;on</li>
<li>sql&#x8BED;&#x53E5;&#x4E2D;&#x6307;&#x5B9A;HASH_JOIN&#x6216;&#x8005;NO_HASH_JOIN
&#x9650;&#x5236;&#xFF1A;</li>
</ul>
</li>
<li><p>hash join&#x53EA;&#x80FD;&#x5728;&#x6CA1;&#x6709;&#x7D22;&#x5F15;&#x7684;&#x5B57;&#x6BB5;&#x4E0A;&#x6709;&#x6548;</p>
<ul>
<li>hash join&#x53EA;&#x5728;&#x7B49;&#x503C;join&#x6761;&#x4EF6;&#x4E2D;&#x6709;&#x6548;</li>
<li>hash join&#x4E0D;&#x80FD;&#x7528;&#x4E8E;left join&#x548C;right join</li>
</ul>
</li>
</ol>
<p>&#x9002;&#x7528;&#x4E8E;&#x5C0F;&#x8868;&#x4E0E;&#x5927;&#x8868;&#x7684;&#x8FDE;&#x63A5;</p>
<h4 id="merge-join">merge join</h4>
<p>merge join&#x7B2C;&#x4E00;&#x4E2A;&#x6B65;&#x9AA4;&#x662F;&#x786E;&#x4FDD;&#x4E24;&#x4E2A;&#x5173;&#x8054;&#x8868;&#x90FD;&#x662F;&#x6309;&#x7167;&#x5173;&#x8054;&#x7684;&#x5B57;&#x6BB5;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x5982;&#x679C;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x6709;&#x53EF;&#x7528;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x5E76;&#x4E14;&#x6392;&#x5E8F;&#x4E00;&#x81F4;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x8FDB;&#x884C;merge join&#x64CD;&#x4F5C;&#xFF1B;</p>
<p>&#x4E24;&#x4E2A;&#x8868;&#x90FD;&#x6309;&#x7167;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x6392;&#x5E8F;&#x597D;&#x4E4B;&#x540E;&#xFF0C;merge join&#x64CD;&#x4F5C;&#x4ECE;&#x6BCF;&#x4E2A;&#x8868;&#x53D6;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x5F00;&#x59CB;&#x5339;&#x914D;&#xFF0C;&#x5982;&#x679C;&#x7B26;&#x5408;&#x5173;&#x8054;&#x6761;&#x4EF6;&#xFF0C;&#x5219;&#x653E;&#x5165;&#x7ED3;&#x679C;&#x96C6;&#x4E2D;&#xFF1B;&#x5426;&#x5219;&#xFF0C;&#x5C06;&#x5173;&#x8054;&#x5B57;&#x6BB5;&#x503C;&#x8F83;&#x5C0F;&#x7684;&#x8BB0;&#x5F55;&#x629B;&#x5F03;&#xFF0C;&#x4ECE;&#x8FD9;&#x6761;&#x8BB0;&#x5F55;&#x5BF9;&#x5E94;&#x7684;&#x8868;&#x4E2D;&#x53D6;&#x4E0B;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x7EE7;&#x7EED;&#x8FDB;&#x884C;&#x5339;&#x914D;&#xFF0C;&#x76F4;&#x5230;&#x6574;&#x4E2A;&#x5FAA;&#x73AF;&#x7ED3;&#x675F;&#x3002;</p>
<pre class="language-"><code class="lang-java"> function <span class="token function">sortMerge</span><span class="token punctuation">(</span>relation left<span class="token punctuation">,</span> relation right<span class="token punctuation">,</span> attribute a<span class="token punctuation">)</span>
     <span class="token keyword">var</span> relation output
     <span class="token keyword">var</span> list left_sorted <span class="token operator">:</span><span class="token operator">=</span> <span class="token function">sort</span><span class="token punctuation">(</span>left<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token comment">// Relation left sorted on attribute a</span>
     <span class="token keyword">var</span> list right_sorted <span class="token operator">:</span><span class="token operator">=</span> <span class="token function">sort</span><span class="token punctuation">(</span>right<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
     <span class="token keyword">var</span> attribute left_key<span class="token punctuation">,</span> right_key
     <span class="token keyword">var</span> set left_subset<span class="token punctuation">,</span> right_subset <span class="token comment">// These sets discarded except where join predicate is satisfied</span>
     <span class="token function">advance</span><span class="token punctuation">(</span>left_subset<span class="token punctuation">,</span> left_sorted<span class="token punctuation">,</span> left_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
     <span class="token function">advance</span><span class="token punctuation">(</span>right_subset<span class="token punctuation">,</span> right_sorted<span class="token punctuation">,</span> right_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
     <span class="token keyword">while</span> not <span class="token function">empty</span><span class="token punctuation">(</span>left_subset<span class="token punctuation">)</span> and not <span class="token function">empty</span><span class="token punctuation">(</span>right_subset<span class="token punctuation">)</span>
         <span class="token keyword">if</span> left_key <span class="token operator">=</span> right_key <span class="token comment">// Join predicate satisfied</span>
             add cartesian product of left_subset and right_subset <span class="token keyword">to</span> output
             <span class="token function">advance</span><span class="token punctuation">(</span>left_subset<span class="token punctuation">,</span> left_sorted<span class="token punctuation">,</span> left_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
             <span class="token function">advance</span><span class="token punctuation">(</span>right_subset<span class="token punctuation">,</span> right_sorted<span class="token punctuation">,</span> right_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
         <span class="token keyword">else</span> <span class="token keyword">if</span> left_key <span class="token operator">&lt;</span> right_key
            <span class="token function">advance</span><span class="token punctuation">(</span>left_subset<span class="token punctuation">,</span> left_sorted<span class="token punctuation">,</span> left_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
         <span class="token keyword">else</span> <span class="token comment">// left_key &gt; right_key</span>
            <span class="token function">advance</span><span class="token punctuation">(</span>right_subset<span class="token punctuation">,</span> right_sorted<span class="token punctuation">,</span> right_key<span class="token punctuation">,</span> a<span class="token punctuation">)</span>
     <span class="token keyword">return</span> output

 <span class="token comment">// Remove tuples from sorted to subset until the sorted[1].a value changes</span>
 function <span class="token function">advance</span><span class="token punctuation">(</span>subset out<span class="token punctuation">,</span> sorted inout<span class="token punctuation">,</span> key out<span class="token punctuation">,</span> a in<span class="token punctuation">)</span>
     key <span class="token operator">:</span><span class="token operator">=</span> sorted<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>a
     subset <span class="token operator">:</span><span class="token operator">=</span> emptySet
     <span class="token keyword">while</span> not <span class="token function">empty</span><span class="token punctuation">(</span>sorted<span class="token punctuation">)</span> and sorted<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>a <span class="token operator">=</span> key
         insert sorted<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> into subset
         remove sorted<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
</code></pre>
<p>merge join&#x64CD;&#x4F5C;&#x672C;&#x8EAB;&#x662F;&#x975E;&#x5E38;&#x5FEB;&#x7684;&#xFF0C;&#x4F46;&#x662F;merge join&#x524D;&#x8FDB;&#x884C;&#x7684;&#x6392;&#x5E8F;&#x53EF;&#x80FD;&#x4F1A;&#x76F8;&#x5F53;&#x8017;&#x65F6;</p>
<p>&#x5B83;&#x9996;&#x5148;&#x6839;&#x636E;R&#x548C;S&#x7684;join key&#x5206;&#x522B;&#x5BF9;&#x4E24;&#x5F20;&#x8868;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x7136;&#x540E;&#x540C;&#x65F6;&#x904D;&#x5386;&#x6392;&#x5E8F;&#x540E;&#x7684;R&#x548C;S</p>
<p>&#x5176;I/O&#x590D;&#x6742;&#x5EA6;&#x53EF;&#x4EE5;&#x8868;&#x793A;&#x4E3A;O[p(R) + p(S) + p(R) &#xB7; logp(R) + p(S) &#xB7; logp(S)]</p>
<p>&#x9644;&#xFF1A;&#x5F52;&#x5E76;&#x6392;&#x5E8F;&#x662F;&#x7A33;&#x5B9A;&#x6392;&#x5E8F;&#xFF0C;&#x6700;&#x597D;&#xFF0C;&#x6700;&#x574F;&#xFF0C;&#x5E73;&#x5747;&#x65F6;&#x95F4;&#x590D;&#x6742;&#x5EA6;&#x5747;&#x4E3A;O(nlogn)&#x3002;</p>
<h2 id="innodb">InnoDb</h2>
<p><a href="https://dev.mysql.com/doc/refman/5.6/en/innodb-storage-engine.html" target="_blank">Mysql innodb refman</a></p>
<h3 id="&#x9875;&#xFF08;page&#xFF09;&#x662F;-innodb-&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x6700;&#x5C0F;&#x78C1;&#x76D8;&#x5355;&#x4F4D;">&#x9875;&#xFF08;Page&#xFF09;&#x662F; Innodb &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x7528;&#x4E8E;&#x7BA1;&#x7406;&#x6570;&#x636E;&#x7684;&#x6700;&#x5C0F;&#x78C1;&#x76D8;&#x5355;&#x4F4D;</h3>
<p><img src="imgs/page.png" alt=""></p>
<ol>
<li>File Header: &#x6587;&#x4EF6;&#x5934;&#x90E8;&#xFF0C;&#x9875;&#x7684;&#x4E00;&#x4E9B;&#x901A;&#x7528;&#x4FE1;&#x606F;&#xFF08;38&#x5B57;&#x8282;&#xFF09;</li>
<li>page Header: &#x9875;&#x9762;&#x5934;&#x90E8;,&#x6570;&#x636E;&#x9875;&#x4E13;&#x6709;&#x7684;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#xFF08;56&#x5B57;&#x8282;&#xFF09;</li>
<li>infimum+supremum: &#x884C;&#x8BB0;&#x5F55;&#x6700;&#x5C0F;&#x503C;&#x548C;&#x6700;&#x5927;&#x503C;&#xFF0C;&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x7684;&#x884C;&#x8BB0;&#x5F55;&#xFF08;26&#x5B57;&#x8282;&#xFF09;</li>
<li>user recorders: &#x5B9E;&#x9645;&#x5B58;&#x50A8;&#x7684;&#x884C;&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#xFF08;&#x4E0D;&#x786E;&#x5B9A;&#xFF09;</li>
<li>free space: &#x9875;&#x4E2D;&#x5C1A;&#x672A;&#x4F7F;&#x7528;&#x7684;&#x7A7A;&#x95F4;&#xFF08;&#x4E0D;&#x786E;&#x5B9A;&#xFF09;</li>
<li>Page Directory: &#x9875;&#x4E2D;&#x7684;&#x67D0;&#x4E9B;&#x8BB0;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x4F4D;&#x7F6E;&#xFF08;&#x4E0D;&#x786E;&#x5B9A;&#xFF09;</li>
<li>File Tailer: &#x6821;&#x9A8C;&#x9875;&#x662F;&#x5426;&#x5B8C;&#x6574;&#xFF08;8&#x5B57;&#x8282;&#xFF09;</li>
</ol>
<h4 id="&#x8BB0;&#x5F55;&#x5728;&#x9875;&#x4E2D;&#x7684;&#x5B58;&#x50A8;">&#x8BB0;&#x5F55;&#x5728;&#x9875;&#x4E2D;&#x7684;&#x5B58;&#x50A8;</h4>
<p>1.&#x5F53;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x9700;&#x8981;&#x63D2;&#x5165;&#x9875;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4F1A;&#x4ECE;free space&#x5212;&#x5206;&#x7A7A;&#x95F4;&#x5230;user recorders
2.Free Space&#x90E8;&#x5206;&#x7684;&#x7A7A;&#x95F4;&#x5168;&#x90E8;&#x88AB;User Records&#x90E8;&#x5206;&#x66FF;&#x4EE3;&#x6389;&#x4E4B;&#x540E;&#xFF0C;&#x4E5F;&#x5C31;&#x610F;&#x5473;&#x7740;&#x8FD9;&#x4E2A;&#x9875;&#x4F7F;&#x7528;&#x5B8C;&#x4E86;&#xFF0C;&#x5982;&#x679C;&#x8FD8;&#x6709;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x63D2;&#x5165;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x53BB;&#x7533;&#x8BF7;&#x65B0;&#x7684;&#x9875;&#x4E86;&#x3002;</p>
<h3 id="innodb-ibd&#x6587;&#x4EF6;">innodb ibd&#x6587;&#x4EF6;</h3>
<p>ibd&#x6587;&#x4EF6;&#x662F;&#x4EE5;<code>&#x9875;</code>&#x4E3A;&#x5355;&#x4F4D;&#x8FDB;&#x884C;&#x7BA1;&#x7406;&#x7684;&#xFF0C;&#x9875;&#x901A;&#x5E38;&#x662F;&#x4EE5;16k&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;ibd&#x6587;&#x4EF6;&#x901A;&#x5E38;&#x662F;16k&#x7684;&#x6574;&#x6570;&#x500D;</p>
<h4 id="innodb-&#x9875;&#x7C7B;&#x578B;">innodb &#x9875;&#x7C7B;&#x578B;</h4>
<table>
<thead>
<tr>
<th style="text-align:center">&#x540D;&#x79F0;</th>
<th style="text-align:center">&#x5341;&#x516D;&#x8FDB;&#x5236;</th>
<th style="text-align:center">&#x89E3;&#x91CA;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">FIL_PAGE_INDEX</td>
<td style="text-align:center">0x45BF</td>
<td style="text-align:center">B+&#x6811;&#x53F6;&#x8282;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_UNDO_LOGO</td>
<td style="text-align:center">0x0002</td>
<td style="text-align:center">UNDO LOG&#x9875;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_INODE</td>
<td style="text-align:center">0x0003</td>
<td style="text-align:center">&#x7D22;&#x5F15;&#x8282;&#x70B9;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_IBUF_FREE_LIST</td>
<td style="text-align:center">0x0004</td>
<td style="text-align:center">InsertBuffer&#x7A7A;&#x95F2;&#x5217;&#x8868;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_ALLOCATED</td>
<td style="text-align:center">0x0000</td>
<td style="text-align:center">&#x8BE5;&#x9875;&#x7684;&#x6700;&#x65B0;&#x5206;&#x914D;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_IBUF_BITMAP</td>
<td style="text-align:center">0x0005</td>
<td style="text-align:center">InsertBuffer&#x4F4D;&#x56FE;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_SYS</td>
<td style="text-align:center">0x0006</td>
<td style="text-align:center">&#x7CFB;&#x7EDF;&#x9875;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_TRX_SYS</td>
<td style="text-align:center">0x0007</td>
<td style="text-align:center">&#x4E8B;&#x52A1;&#x7CFB;&#x7EDF;&#x6570;&#x636E;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_FSP_HDR</td>
<td style="text-align:center">0x0008</td>
<td style="text-align:center">FILE SPACE HEADER</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_XDES</td>
<td style="text-align:center">0x0009</td>
<td style="text-align:center">&#x6269;&#x5C55;&#x63CF;&#x8FF0;&#x9875;</td>
</tr>
<tr>
<td style="text-align:center">FIL_PAGE_TYPE_BLOB</td>
<td style="text-align:center">0x000A</td>
<td style="text-align:center">BLOB&#x9875;</td>
</tr>
</tbody>
</table>
<h4 id="&#x5B9E;&#x8DF5;&#x5206;&#x6790;ibd&#x6587;&#x4EF6;">&#x5B9E;&#x8DF5;&#x5206;&#x6790;<code>ibd</code>&#x6587;&#x4EF6;</h4>
<pre class="language-"><code class="lang-java">mubi<span class="token annotation punctuation">@mubideMacBook</span><span class="token operator">-</span><span class="token class-name">Pro</span> bin $ mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p123456
mysql<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token class-name">Warning</span><span class="token punctuation">]</span> <span class="token class-name">Using</span> a password on the command line <span class="token keyword">interface</span> can be insecure<span class="token punctuation">.</span>
<span class="token class-name">Welcome</span> <span class="token keyword">to</span> the <span class="token class-name">MySQL</span> monitor<span class="token punctuation">.</span>  <span class="token class-name">Commands</span> end <span class="token keyword">with</span> <span class="token punctuation">;</span> or \g<span class="token punctuation">.</span>
<span class="token class-name">Your</span> <span class="token class-name">MySQL</span> connection id is <span class="token number">109</span>
<span class="token class-name">Server</span> version<span class="token operator">:</span> <span class="token number">5.6</span><span class="token number">.40</span> <span class="token class-name">MySQL</span> <span class="token class-name">Community</span> <span class="token class-name">Server</span> <span class="token punctuation">(</span>GPL<span class="token punctuation">)</span>

<span class="token class-name">Copyright</span> <span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token number">2015</span><span class="token punctuation">,</span> <span class="token class-name">Oracle</span> and<span class="token operator">/</span>or its affiliates<span class="token punctuation">.</span> <span class="token class-name">All</span> rights reserved<span class="token punctuation">.</span>

<span class="token class-name">Oracle</span> is a registered trademark of <span class="token class-name">Oracle</span> <span class="token class-name">Corporation</span> and<span class="token operator">/</span>or its
affiliates<span class="token punctuation">.</span> <span class="token class-name">Other</span> names may be trademarks of their respective
owners<span class="token punctuation">.</span>

<span class="token class-name">Type</span> <span class="token string">&apos;help;&apos;</span> or <span class="token string">&apos;\h&apos;</span> <span class="token keyword">for</span> help<span class="token punctuation">.</span> <span class="token class-name">Type</span> <span class="token string">&apos;\c&apos;</span> <span class="token keyword">to</span> clear the current input statement<span class="token punctuation">.</span>

mysql<span class="token operator">&gt;</span> use test<span class="token punctuation">;</span>
<span class="token class-name">Reading</span> table information <span class="token keyword">for</span> completion of table and column names
<span class="token class-name">You</span> can turn off <span class="token keyword">this</span> feature <span class="token keyword">to</span> get a quicker startup <span class="token keyword">with</span> <span class="token operator">-</span><span class="token class-name">A</span>

<span class="token class-name">Database</span> changed
mysql<span class="token operator">&gt;</span> select <span class="token operator">*</span> from tb_user<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> id         <span class="token operator">|</span> userID <span class="token operator">|</span> password <span class="token operator">|</span> name  <span class="token operator">|</span> phone       <span class="token operator">|</span> address  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span>          <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">00001</span>  <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> zhang <span class="token operator">|</span> <span class="token number">15133339999</span> <span class="token operator">|</span> <span class="token class-name">Shanghai</span> <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">00002</span>  <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> wang  <span class="token operator">|</span> <span class="token number">15133339999</span> <span class="token operator">|</span> <span class="token class-name">Beijing</span>  <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">4</span> <span class="token operator">|</span> <span class="token number">0003</span>   <span class="token operator">|</span> NULL     <span class="token operator">|</span> abc   <span class="token operator">|</span> NULL        <span class="token operator">|</span> NULL     <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">6</span> <span class="token operator">|</span> <span class="token number">0003</span>   <span class="token operator">|</span> NULL     <span class="token operator">|</span> abc   <span class="token operator">|</span> NULL        <span class="token operator">|</span> NULL     <span class="token operator">|</span>
<span class="token operator">|</span>          <span class="token number">7</span> <span class="token operator">|</span> <span class="token number">0004</span>   <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> tom   <span class="token operator">|</span> <span class="token number">110</span>         <span class="token operator">|</span> beijing  <span class="token operator">|</span>
<span class="token operator">|</span>         <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">0004</span>   <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> tom   <span class="token operator">|</span> <span class="token number">110</span>         <span class="token operator">|</span> beijing  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2147483647</span> <span class="token operator">|</span> <span class="token number">0004</span>   <span class="token operator">|</span> <span class="token number">123456</span>   <span class="token operator">|</span> tom   <span class="token operator">|</span> <span class="token number">110</span>         <span class="token operator">|</span> beijing  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">7</span> rows in set <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre>
<h4 id="&#x67E5;&#x770B;&#x6570;&#x636E;&#x8868;&#x7684;&#x884C;&#x683C;&#x5F0F;">&#x67E5;&#x770B;&#x6570;&#x636E;&#x8868;&#x7684;&#x884C;&#x683C;&#x5F0F;</h4>
<pre class="language-"><code class="lang-java">mysql<span class="token operator">&gt;</span> show table status like <span class="token string">&apos;tb_user&apos;</span>\<span class="token class-name">G</span><span class="token punctuation">;</span>
<span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span> <span class="token number">1.</span> row <span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span><span class="token operator">*</span>
           <span class="token class-name">Name</span><span class="token operator">:</span> tb_user
         <span class="token class-name">Engine</span><span class="token operator">:</span> <span class="token class-name">InnoDB</span>
        <span class="token class-name">Version</span><span class="token operator">:</span> <span class="token number">10</span>
     <span class="token class-name">Row_format</span><span class="token operator">:</span> <span class="token class-name">Compact</span>
           <span class="token class-name">Rows</span><span class="token operator">:</span> <span class="token number">6</span>
 <span class="token class-name">Avg_row_length</span><span class="token operator">:</span> <span class="token number">2730</span>
    <span class="token class-name">Data_length</span><span class="token operator">:</span> <span class="token number">16384</span>
<span class="token class-name">Max_data_length</span><span class="token operator">:</span> <span class="token number">0</span>
   <span class="token class-name">Index_length</span><span class="token operator">:</span> <span class="token number">16384</span>
      <span class="token class-name">Data_free</span><span class="token operator">:</span> <span class="token number">0</span>
 <span class="token class-name">Auto_increment</span><span class="token operator">:</span> <span class="token number">2147483647</span>
    <span class="token class-name">Create_time</span><span class="token operator">:</span> <span class="token number">2020</span><span class="token operator">-</span><span class="token number">03</span><span class="token operator">-</span><span class="token number">21</span> <span class="token number">16</span><span class="token operator">:</span><span class="token number">10</span><span class="token operator">:</span><span class="token number">06</span>
    <span class="token class-name">Update_time</span><span class="token operator">:</span> NULL
     <span class="token class-name">Check_time</span><span class="token operator">:</span> NULL
      <span class="token class-name">Collation</span><span class="token operator">:</span> utf8_general_ci
       <span class="token class-name">Checksum</span><span class="token operator">:</span> NULL
 <span class="token class-name">Create_options</span><span class="token operator">:</span>
        <span class="token class-name">Comment</span><span class="token operator">:</span>
<span class="token number">1</span> row in set <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

ERROR<span class="token operator">:</span>
<span class="token class-name">No</span> query specified

mysql<span class="token operator">&gt;</span>
</code></pre>
<h4 id="&#x67E5;&#x770B;ibd&#x6587;&#x4EF6;">&#x67E5;&#x770B;ibd&#x6587;&#x4EF6;</h4>
<p><img src="imgs/innodb-1.png" alt=""></p>
<p>&#x4F7F;&#x7528;<code>py_innodb_page_info</code>&#x5DE5;&#x5177;&#xFF08;<code>https://github.com/happieme/py_innodb_page_info</code>&#xFF09;</p>
<p><img src="imgs/innodb-2.png" alt=""></p>
<p>&#x6CE8;&#x610F;&#x5230;&#x6587;&#x4EF6;&#x5927;&#x5C0F;<code>114688</code>&#x5B57;&#x8282;&#xFF08;114688 = 16 <em> 1024 </em> 7&#xFF09;&#x5373;&#x6709;<code>7</code>&#x4E2A;&#x9875;&#xFF08;&#x8981;&#x5206;&#x6790;&#x54EA;&#x4E2A;&#x9875;&#x76F4;&#x63A5;&#x5B9A;&#x4F4D;&#x5230;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x5230;&#x5F00;&#x59CB;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x6790;&#x5373;&#x53EF;&#xFF09;</p>
<h4 id="&#x5206;&#x6790;&#x7B2C;4&#x4E2A;&#x9875;&#xFF1A;b-tree-node&#x7C7B;&#x578B;">&#x5206;&#x6790;&#x7B2C;4&#x4E2A;&#x9875;&#xFF1A;<code>B-tree Node</code>&#x7C7B;&#x578B;</h4>
<p><code>page offset 00000003, page type <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>B-tree</span> <span class="token attr-name">Node</span><span class="token punctuation">&gt;</span></span>, page level &lt;0000&gt;</code></p>
<pre class="language-"><code class="lang-java"><span class="token operator">&gt;&gt;&gt;</span> <span class="token function">hex</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token string">&apos;0xc000&apos;</span>
<span class="token operator">&gt;&gt;&gt;</span> <span class="token function">hex</span><span class="token punctuation">(</span><span class="token number">4</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token string">&apos;0x10000&apos;</span>
<span class="token operator">&gt;&gt;&gt;</span>
</code></pre>
<h5 id="&#x5148;&#x5206;&#x6790;file-header38&#x5B57;&#x8282;-&#x63CF;&#x8FF0;&#x9875;&#x4FE1;&#x606F;">&#x5148;&#x5206;&#x6790;File Header(38&#x5B57;&#x8282;-&#x63CF;&#x8FF0;&#x9875;&#x4FE1;&#x606F;)</h5>
<p><img src="imgs/innodb-3.png" alt=""></p>
<ul>
<li>2D A1 2D 57 -&gt; &#x6570;&#x636E;&#x9875;&#x7684;checksum&#x503C;</li>
<li>00 00 00 03 -&gt; &#x9875;&#x53F7;&#xFF08;&#x504F;&#x79FB;&#x91CF;&#xFF09;,&#x5F53;&#x524D;&#x662F;&#x7B2C;3&#x9875;</li>
<li>FF FF FF FF -&gt; &#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x65E0;&#x4E0A;&#x4E00;&#x9875;</li>
<li>FF FF FF FF -&gt; &#x76EE;&#x524D;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x65E0;&#x4E0B;&#x4E00;&#x9875;</li>
<li>00 00 00 04 6F 65 24 CF -&gt; &#x8BE5;&#x9875;&#x6700;&#x540E;&#x88AB;&#x4FEE;&#x6539;&#x7684;LSN</li>
<li>45 BF -&gt; &#x9875;&#x7684;&#x7C7B;&#x578B;&#xFF0C;0x45BF&#x4EE3;&#x8868;&#x6570;&#x636E;&#x9875;&#xFF0C;&#x521A;&#x597D;&#x8FD9;&#x9875;&#x662F;&#x6570;&#x636E;&#x9875;</li>
<li>00 00 00 00 00 00 00 00 -&gt; &#x72EC;&#x7ACB;&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x8BE5;&#x503C;&#x4E3A;0</li>
<li>00 00 00 06 -&gt; &#x8868;&#x7A7A;&#x95F4;&#x7684;SPACE ID</li>
</ul>
<h5 id="&#x518D;&#x5206;&#x6790;page-header&#xFF08;56&#x5B57;&#x8282;-&#x8BB0;&#x5F55;&#x9875;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF09;">&#x518D;&#x5206;&#x6790;Page Header&#xFF08;56&#x5B57;&#x8282;-&#x8BB0;&#x5F55;&#x9875;&#x7684;&#x72B6;&#x6001;&#x4FE1;&#x606F;&#xFF09;</h5>
<p>&#x53C2;&#x89C1;&#xFF1A;<a href="https://dev.mysql.com/doc/internals/en/innodb-page-header.html" target="_blank">innodb-page-header</a></p>
<p><img src="imgs/innodb-4.png" alt=""></p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x6807;&#x8BC6;</th>
<th style="text-align:center">&#x5B57;&#x8282;&#x6570;</th>
<th style="text-align:center">&#x89E3;&#x91CA;</th>
<th style="text-align:center">&#x672C;&#x6B21;&#x503C;:&#x8BF4;&#x660E;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">PAGE_N_DIR_SLOTS</td>
<td style="text-align:center">2</td>
<td style="text-align:center">number of directory slots in the Page Directory part; initial value = 2</td>
<td style="text-align:center">00 02,2&#x4E2A;&#x69FD;&#x4F4D;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_HEAP_TOP</td>
<td style="text-align:center">2</td>
<td style="text-align:center">record pointer to first record in heap</td>
<td style="text-align:center">01 ED&#xFF0C;&#x5806;&#x7B2C;&#x4E00;&#x4E2A;&#x5F00;&#x59CB;&#x4F4D;&#x7F6E;&#x7684;&#x504F;&#x79FB;&#x91CF;&#xFF0C;&#x4E5F;&#x5373;&#x7A7A;&#x95F2;&#x504F;&#x79FB;&#x91CF;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_N_HEAP</td>
<td style="text-align:center">2</td>
<td style="text-align:center">number of heap records; initial value = 2</td>
<td style="text-align:center">80 0A</td>
</tr>
<tr>
<td style="text-align:center">PAGE_FREE</td>
<td style="text-align:center">2</td>
<td style="text-align:center">record pointer to first free record</td>
<td style="text-align:center">01 1C</td>
</tr>
<tr>
<td style="text-align:center">PAGE_GARBAGE</td>
<td style="text-align:center">2</td>
<td style="text-align:center">&quot;number of bytes in deleted records&quot;</td>
<td style="text-align:center">00 20&#xFF0C;&#x5220;&#x9664;&#x7684;&#x8BB0;&#x5F55;&#x5B57;&#x8282;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_LAST_INSERT</td>
<td style="text-align:center">2</td>
<td style="text-align:center">record pointer to the last inserted record</td>
<td style="text-align:center">01 C5&#xFF0C;&#x6700;&#x540E;&#x63D2;&#x5165;&#x8BB0;&#x5F55;&#x7684;&#x4F4D;&#x7F6E;&#x504F;&#x79FB;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_DIRECTION</td>
<td style="text-align:center">2</td>
<td style="text-align:center">either PAGE_LEFT, PAGE_RIGHT, or PAGE_NO_DIRECTION</td>
<td style="text-align:center">00 02&#xFF0C;&#x81EA;&#x589E;&#x957F;&#x7684;&#x65B9;&#x5F0F;&#x8FDB;&#x884C;&#x884C;&#x8BB0;&#x5F55;&#x7684;&#x63D2;&#x5165;&#xFF0C;&#x65B9;&#x5411;&#x5411;&#x53F3;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_N_DIRECTION</td>
<td style="text-align:center">2</td>
<td style="text-align:center">number of consecutive inserts in the same direction, for example, &quot;last 5 were all to the left&quot;</td>
<td style="text-align:center">00 02</td>
</tr>
<tr>
<td style="text-align:center">PAGE_N_RECS</td>
<td style="text-align:center">2</td>
<td style="text-align:center">number of up[ser records</td>
<td style="text-align:center">00 07&#xFF0C;&#x5171;7&#x6761;&#x6709;&#x6548;&#x8BB0;&#x5F55;&#x6570;</td>
</tr>
<tr>
<td style="text-align:center">PAGE_MAX_TRX_ID</td>
<td style="text-align:center">8</td>
<td style="text-align:center">the highest ID of a transaction which might have changed a record on the page (only set for secondary indexes)</td>
<td style="text-align:center">00 00 00 00 00 00 00 00</td>
</tr>
<tr>
<td style="text-align:center">PAGE_LEVEL</td>
<td style="text-align:center">2</td>
<td style="text-align:center">level within the index (0 for a leaf page)</td>
<td style="text-align:center">00 00</td>
</tr>
<tr>
<td style="text-align:center">PAGE_INDEX_ID</td>
<td style="text-align:center">8</td>
<td style="text-align:center">identifier of the index the page belongs to</td>
<td style="text-align:center">00 00 00 00 00 00 00 16</td>
</tr>
<tr>
<td style="text-align:center">PAGE_BTR</td>
<td style="text-align:center">10</td>
<td style="text-align:center">&quot;file segment header for the leaf pages in a B-tree&quot; (this is irrelevant here)</td>
<td style="text-align:center">00 00 00 06 00 00 00 02 00 F2</td>
</tr>
<tr>
<td style="text-align:center">PAGE_LEVEL</td>
<td style="text-align:center">10</td>
<td style="text-align:center">&quot;file segment header for the non-leaf pages in a B-tree&quot; (this is irrelevant here)</td>
<td style="text-align:center">00 00 00 06 00 00 00 02 00 32</td>
</tr>
</tbody>
</table>
<ul>
<li><code>0xc000 + 01 ED</code> = <code>0xC1ED</code>&#x5730;&#x5740;&#x540E;&#x9762;&#x7684;&#x90FD;&#x662F;&#x7A7A;&#x95F2;&#x7684;</li>
</ul>
<p><img src="imgs/innodb-7.png" alt=""></p>
<ul>
<li><code>0xc000 + 01 C5</code> = <code>0xC1C5</code>&#x6700;&#x540E;&#x4E00;&#x6761;&#x8BB0;&#x5F55;</li>
</ul>
<p><img src="imgs/innodb-8.png" alt=""></p>
<h5 id="&#x5206;&#x6790;infimum--supremum-record-26&#x5B57;&#x8282;-&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x884C;&#x8BB0;&#x5F55;">&#x5206;&#x6790;Infimum + Supremum Record (26&#x5B57;&#x8282;-&#x4E24;&#x4E2A;&#x865A;&#x62DF;&#x884C;&#x8BB0;&#x5F55;)</h5>
<p>infimum: n. &#x4E0B;&#x786E;&#x754C;;
supremum: n. &#x4E0A;&#x786E;&#x754C;;</p>
<p>Infimum&#x548C;Suprenum Record&#x7528;&#x6765;&#x9650;&#x5B9A;&#x8BB0;&#x5F55;&#x7684;&#x8FB9;&#x754C;&#xFF0C;Infimum&#x662F;&#x6BD4;&#x9875;&#x4E2D;&#x4EFB;&#x4F55;&#x4E3B;&#x952E;&#x503C;&#x90FD;&#x8981;&#x5C0F;&#x7684;&#x503C;&#xFF0C;Suprenum &#x662F;&#x6307;&#x6BD4;&#x4EFB;&#x4F55;&#x53EF;&#x80FD;&#x5927;&#x503C;&#x8FD8;&#x8981;&#x5927;&#x7684;&#x503C;&#xFF0C;&#x8FD9;&#x4E24;&#x4E2A;&#x503C;&#x5728;&#x9875;&#x521B;&#x5EFA;&#x65F6;&#x88AB;&#x5EFA;&#x7ACB;&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x4EFB;&#x4F55;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x4E0D;&#x4F1A;&#x88AB;&#x5220;&#x9664;&#x3002;Infimum&#x548C;Suprenum&#x4E0E;&#x884C;&#x8BB0;&#x5F55;&#x7EC4;&#x6210;&#x5355;&#x94FE;&#x8868;&#x7ED3;&#x6784;&#xFF0C;&#x67E5;&#x8BE2;&#x8BB0;&#x5F55;&#x65F6;&#xFF0C;&#x4ECE;Infimum&#x5F00;&#x59CB;&#x67E5;&#x627E;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x7ED3;&#x679C;&#x4F1A;&#x76F4;&#x5230;&#x67E5;&#x5230;&#x6700;&#x540E;&#x7684;suprenum&#x4E3A;&#x6B62;&#xFF0C;&#x7136;&#x540E;&#x901A;&#x8FC7;Page Header&#x4E2D;&#x7684;FIL_PAGE_NEXT&#x6307;&#x9488;&#x8DF3;&#x8F6C;&#x5230;&#x4E0B;&#x4E00;&#x4E2A;page&#x7EE7;&#x7EED;&#x4ECE;Infimum&#x5F00;&#x59CB;&#x9010;&#x4E2A;&#x67E5;&#x627E;</p>
<p><img src="imgs/innodb-5.png" alt=""></p>
<pre class="language-"><code class="lang-java">#<span class="token class-name">Infimum</span>&#x4F2A;&#x884C;&#x8BB0;&#x5F55;
<span class="token number">01</span> <span class="token number">00</span> <span class="token number">02</span> <span class="token number">00</span> <span class="token number">20</span><span class="token comment">/*recorder header*/</span>
<span class="token number">69</span> <span class="token number">6</span>E <span class="token number">66</span> <span class="token number">69</span> <span class="token number">6D</span> <span class="token number">75</span> <span class="token number">6D</span> <span class="token number">00</span><span class="token comment">/*&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5217;&#x7684;&#x4F2A;&#x884C;&#x8BB0;&#x5F55;&#xFF0C;&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#x5C31;&#x662F;Infimum&#xFF08;&#x591A;&#x4E86;&#x4E00;&#x4E2A;0x00&#x5B57;&#x8282;&#xFF09;
*/</span>
#<span class="token class-name">Supremum</span>&#x4F2A;&#x884C;&#x8BB0;&#x5F55;
<span class="token number">08</span> <span class="token number">00</span> <span class="token number">0</span>B <span class="token number">00</span> <span class="token number">00</span><span class="token comment">/*recorder header*/</span>
<span class="token number">73</span> <span class="token number">75</span> <span class="token number">70</span> <span class="token number">72</span> <span class="token number">65</span> <span class="token number">6D</span> <span class="token number">75</span> <span class="token number">6D</span><span class="token comment">/*&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x5217;&#x7684;&#x4F2A;&#x884C;&#x8BB0;&#x5F55;&#xFF0C;&#x8BB0;&#x5F55;&#x5185;&#x5BB9;&#x5C31;&#x662F;Supremum*/</span>
</code></pre>
<p>infimum&#x884C;&#x8BB0;&#x5F55;&#x7684;recorder header&#x90E8;&#x5206;&#xFF0C;&#x6700;&#x540E;2&#x4E2A;&#x5B57;&#x8282;&#x4F4D;<code>00 20</code>&#x8868;&#x793A;&#x4E0B;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7684;&#x4F4D;&#x7F6E;&#x7684;&#x504F;&#x79FB;&#x91CF;</p>
<h5 id="user-record&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;">User Record(&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;)</h5>
<p>&#x7528;&#x6237;&#x6240;&#x6709;&#x63D2;&#x5165;&#x7684;&#x8BB0;&#x5F55;&#x90FD;&#x5B58;&#x653E;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#x8BB0;&#x5F55;&#x8DDF;&#x8BB0;&#x5F55;&#x4E4B;&#x95F4;&#x6CA1;&#x6709;&#x95F4;&#x9699;&#xFF0C;&#x4F46;&#x662F;&#x5982;&#x679C;&#x91CD;&#x7528;&#x4E86;&#x5DF2;&#x5220;&#x9664;&#x8BB0;&#x5F55;&#x7684;&#x7A7A;&#x95F4;&#xFF0C;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;&#x7A7A;&#x95F4;&#x788E;&#x7247;&#x3002;&#x6BCF;&#x4E2A;&#x8BB0;&#x5F55;&#x90FD;&#x6709;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7684;&#x6307;&#x9488;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x6307;&#x5411;&#x4E0A;&#x4E00;&#x4E2A;&#x8BB0;&#x5F55;&#x7684;&#x6307;&#x9488;&#x3002;&#x8BB0;&#x5F55;&#x6309;&#x7167;&#x4E3B;&#x952E;&#x987A;&#x5E8F;&#x6392;&#x5E8F;&#x3002;&#x5373;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4ECE;&#x6570;&#x636E;&#x9875;&#x6700;&#x5C0F;&#x8BB0;&#x5F55;&#x5F00;&#x59CB;&#x904D;&#x5386;&#xFF0C;&#x76F4;&#x5230;&#x6700;&#x5927;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x8FD9;&#x5305;&#x62EC;&#x4E86;&#x6240;&#x6709;&#x6B63;&#x5E38;&#x7684;&#x8BB0;&#x5F55;&#x548C;&#x6240;&#x6709;&#x88AB;delete-marked&#x8BB0;&#x5F55;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x4F1A;&#x8BBF;&#x95EE;&#x5230;&#x88AB;&#x5220;&#x9664;&#x7684;&#x8BB0;&#x5F55;(PAGE_FREE)</p>
<h6 id="compact&#x884C;&#x8BB0;&#x5F55;&#x683C;&#x5F0F;">COMPACT&#x884C;&#x8BB0;&#x5F55;&#x683C;&#x5F0F;</h6>
<p><img src="imgs/innodb-9.jpg" alt=""></p>
<ul>
<li><p>&#x884C;&#x683C;&#x5F0F;&#x7684;&#x9996;&#x90E8;&#x662F;&#x4E00;&#x4E2A;&#x975E;NULL&#x53D8;&#x957F;&#x5B57;&#x6BB5;&#x957F;&#x5EA6;&#x5217;&#x8868;&#xFF0C;&#x800C;&#x4E14;&#x662F;&#x6309;&#x7167;&#x5217;&#x7684;&#x987A;&#x5E8F;&#x9006;&#x5E8F;&#x653E;&#x7F6E;&#x7684;&#x3002;&#x5F53;&#x5217;&#x7684;&#x957F;&#x5EA6;&#x5C0F;&#x4E8E;255&#x5B57;&#x8282;&#xFF0C;&#x7528;1&#x5B57;&#x8282;&#x8868;&#x793A;&#xFF0C;&#x82E5;&#x5927;&#x4E8E;255&#x4E2A;&#x5B57;&#x8282;&#xFF0C;&#x7528;2&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#xFF0C;&#x53D8;&#x957F;&#x5B57;&#x6BB5;&#x7684;&#x957F;&#x5EA6;&#x6700;&#x5927;&#x4E0D;&#x53EF;&#x4EE5;&#x8D85;&#x8FC7;2&#x4E2A;&#x5B57;&#x8282;&#xFF08;&#x8FD9;&#x4E5F;&#x5F88;&#x597D;&#x5730;&#x89E3;&#x91CA;&#x4E86;&#x4E3A;&#x4EC0;&#x4E48;MySQL&#x4E2D;varchar&#x7684;&#x6700;&#x5927;&#x957F;&#x5EA6;&#x4E3A;65535&#xFF0C;&#x56E0;&#x4E3A;2&#x4E2A;&#x5B57;&#x8282;&#x4E3A;16&#x4F4D;&#xFF0C;&#x5373;<code>pow(2,16)-1=65536</code>&#xFF09;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x90E8;&#x5206;&#x662F;NULL&#x6807;&#x5FD7;&#x4F4D;&#xFF0C;&#x8BE5;&#x4F4D;&#x6307;&#x793A;&#x4E86;&#x8BE5;&#x884C;&#x6570;&#x636E;&#x4E2D;&#x662F;&#x5426;&#x6709;NULL&#x503C;&#xFF0C;1&#x4E2A;&#x5B57;&#x8282;&#x8868;&#x793A;&#x3002;&#x8BE5;&#x90E8;&#x5206;&#x6240;&#x5360;&#x7684;&#x5B57;&#x8282;&#x5E94;&#x8BE5;&#x4E3A;bytes&#x3002;&#x63A5;&#x4E0B;&#x53BB;&#x7684;&#x90E8;&#x5206;&#x662F;&#x4E3A;&#x8BB0;&#x5F55;&#x5934;&#x4FE1;&#x606F;&#xFF08;record header&#xFF09;&#xFF0C;&#x56FA;&#x5B9A;&#x5360;&#x7528;5&#x4E2A;&#x5B57;&#x8282;&#xFF08;40&#x4F4D;&#xFF09;&#xFF0C;&#x6BCF;&#x4F4D;&#x7684;&#x542B;&#x4E49;&#x5982;&#x4E0B;</p>
</li>
<li><p>&#x9884;&#x7559;&#x4F4D;1    1&#xFF08;bit&#x4F4D;&#xFF09;    &#x6CA1;&#x6709;&#x4F7F;&#x7528;</p>
</li>
<li>&#x9884;&#x7559;&#x4F4D;2    1    &#x6CA1;&#x6709;&#x4F7F;&#x7528;</li>
<li>delete_mask    1    &#x6807;&#x8BB0;&#x8BE5;&#x8BB0;&#x5F55;&#x662F;&#x5426;&#x88AB;&#x5220;&#x9664;</li>
<li>min_rec_mask    1    &#x6807;&#x8BB0;&#x8BE5;&#x8BB0;&#x5F55;&#x662F;&#x5426;&#x4E3A;B+&#x6811;&#x7684;&#x975E;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x4E2D;&#x7684;&#x6700;&#x5C0F;&#x8BB0;&#x5F55;</li>
<li>n_owned    4    &#x8868;&#x793A;&#x5F53;&#x524D;&#x69FD;&#x7BA1;&#x7406;&#x7684;&#x8BB0;&#x5F55;&#x6570;</li>
<li>heap_no    13    &#x8868;&#x793A;&#x5F53;&#x524D;&#x8BB0;&#x5F55;&#x5728;&#x8BB0;&#x5F55;&#x5806;&#x7684;&#x4F4D;&#x7F6E;&#x4FE1;&#x606F;</li>
<li>record_type    3    &#x8868;&#x793A;&#x5F53;&#x524D;&#x8BB0;&#x5F55;&#x7684;&#x7C7B;&#x578B;&#xFF0C;0&#x8868;&#x793A;&#x666E;&#x901A;&#x8BB0;&#x5F55;&#xFF0C;1&#x8868;&#x793A;B+&#x6811;&#x975E;&#x53F6;&#x8282;&#x70B9;&#x8BB0;&#x5F55;&#xFF0C;2&#x8868;&#x793A;&#x6700;&#x5C0F;&#x8BB0;&#x5F55;&#xFF0C;3&#x8868;&#x793A;&#x6700;&#x5927;&#x8BB0;&#x5F55;</li>
<li>next_record    16    &#x8868;&#x793A;&#x4E0B;&#x4E00;&#x6761;&#x8BB0;&#x5F55;&#x7684;&#x76F8;&#x5BF9;&#x4F4D;&#x7F6E;</li>
</ul>
<p><img src="imgs/innodb-10.png" alt=""></p>
<pre class="language-"><code class="lang-java"><span class="token number">0000</span>c070<span class="token operator">:</span> <span class="token number">73</span> <span class="token number">75</span> <span class="token number">70</span> <span class="token number">72</span> <span class="token number">65</span> <span class="token number">6D</span> <span class="token number">75</span> <span class="token number">6D</span> <span class="token number">08</span> <span class="token number">0</span>B <span class="token number">05</span> <span class="token number">06</span> <span class="token number">05</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span>    supremum<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">0000</span>c080<span class="token operator">:</span> <span class="token number">10</span> <span class="token number">00</span> <span class="token number">3F</span> <span class="token number">80</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">01</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">27</span> <span class="token number">06</span> <span class="token number">86</span> <span class="token number">00</span> <span class="token number">00</span>    <span class="token punctuation">.</span><span class="token punctuation">.</span>?<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>&apos;<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token number">0000</span>c090<span class="token operator">:</span> <span class="token number">01</span> <span class="token number">39</span> <span class="token number">01</span> <span class="token number">10</span> <span class="token number">30</span> <span class="token number">30</span> <span class="token number">30</span> <span class="token number">30</span> <span class="token number">31</span> <span class="token number">31</span> <span class="token number">32</span> <span class="token number">33</span> <span class="token number">34</span> <span class="token number">35</span> <span class="token number">36</span> <span class="token number">7</span>A    <span class="token number">.9</span><span class="token punctuation">.</span><span class="token number">.00001123456</span>z
<span class="token number">0000</span>c0a0<span class="token operator">:</span> <span class="token number">68</span> <span class="token number">61</span> <span class="token number">6</span>E <span class="token number">67</span> <span class="token number">31</span> <span class="token number">35</span> <span class="token number">31</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token number">53</span>    hang15133339999S
<span class="token number">0000</span>c0b0<span class="token operator">:</span> <span class="token number">68</span> <span class="token number">61</span> <span class="token number">6</span>E <span class="token number">67</span> <span class="token number">68</span> <span class="token number">61</span> <span class="token number">69</span> <span class="token number">07</span> <span class="token number">0</span>B <span class="token number">04</span> <span class="token number">06</span> <span class="token number">05</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">18</span>    hanghai<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token number">08</span> <span class="token number">0</span>B <span class="token number">05</span> <span class="token number">06</span> <span class="token number">05</span><span class="token operator">:</span> <span class="token function">8</span><span class="token punctuation">(</span>address&#x5B57;&#x6BB5;<span class="token punctuation">)</span> <span class="token function">11</span><span class="token punctuation">(</span>phone&#x5B57;&#x6BB5;<span class="token punctuation">)</span> <span class="token function">5</span><span class="token punctuation">(</span>name&#x5B57;&#x6BB5;<span class="token punctuation">)</span> <span class="token function">6</span><span class="token punctuation">(</span>password&#x5B57;&#x6BB5;<span class="token punctuation">)</span> <span class="token function">5</span><span class="token punctuation">(</span>userID&#x5B57;&#x6BB5;<span class="token punctuation">)</span>&#xFF0C;&#x4E00;&#x4E2A;&#x9006;&#x5E8F;&#x7684;&#x65B9;&#x5F0F;&#x8868;&#x793A;&#x53EF;&#x53D8;&#x957F;&#x5B57;&#x6BB5;&#x5217;&#x8868;
<span class="token number">00</span> <span class="token operator">:</span> <span class="token class-name">Null</span>&#x503C;&#x5217;&#x8868;
<span class="token number">00</span> <span class="token number">00</span> <span class="token number">10</span> <span class="token number">00</span> <span class="token number">3F</span>&#xFF1A;&#x8BB0;&#x5F55;&#x5934;&#x4FE1;&#x606F; <span class="token number">5</span>&#x4E2A;&#x5B57;&#x8282;&#xFF0C;<span class="token number">40</span>bit
    <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">00001</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0000</span> <span class="token number">0011</span> <span class="token number">1111</span>
<span class="token number">80</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">01</span>&#xFF1A;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF08;&#x6709;&#x7B26;&#x53F7;&#x7684;<span class="token keyword">int</span>&#x7C7B;&#x578B;&#xFF09;&#xFF0C;<span class="token number">1</span>
<span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">27</span> <span class="token number">06</span>&#xFF1A;&#x9690;&#x85CF;&#x5217;DB_TRX_ID
<span class="token number">86</span> <span class="token number">00</span> <span class="token number">00</span> <span class="token number">01</span> <span class="token number">39</span> <span class="token number">01</span> <span class="token number">10</span>&#xFF1A;&#x9690;&#x85CF;&#x5217;DB_ROLL_PTR
<span class="token number">30</span> <span class="token number">30</span> <span class="token number">30</span> <span class="token number">30</span> <span class="token number">31</span> &#xFF1A; <span class="token number">00001</span>
<span class="token number">31</span> <span class="token number">32</span> <span class="token number">33</span> <span class="token number">34</span> <span class="token number">35</span> <span class="token number">36</span> &#xFF1A; <span class="token number">123456</span>
<span class="token number">7</span>A <span class="token number">68</span> <span class="token number">61</span> <span class="token number">6</span>E <span class="token number">67</span> <span class="token operator">:</span> zhang
<span class="token number">31</span> <span class="token number">35</span> <span class="token number">31</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">33</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token number">39</span> <span class="token operator">:</span> <span class="token number">15133339999</span>
<span class="token number">53</span> <span class="token number">68</span> <span class="token number">61</span> <span class="token number">6</span>E <span class="token number">67</span> <span class="token number">68</span> <span class="token number">61</span> <span class="token number">69</span> <span class="token operator">:</span> beijing
</code></pre>
<h5 id="file-tailer&#x6700;&#x540E;8&#x5B57;&#x8282;">File Tailer(&#x6700;&#x540E;8&#x5B57;&#x8282;)</h5>
<p><img src="imgs/innodb-6.png" alt=""></p>
<p><code>7E 75 29 30 6F 65 24 CF</code></p>
<p>&#x6CE8;&#x610F;&#x5230;File Header&#x8BE5;&#x9875;&#x6700;&#x540E;&#x88AB;&#x4FEE;&#x6539;&#x7684;LSN&#xFF1A;<code>00 00 00 04 6F 65 24 CF</code>&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x540E;4&#x4E2A;&#x5B57;&#x8282;&#x548C;<code>File Tailer</code>&#x7684;&#x540E;4&#x4E2A;&#x5B57;&#x8282;&#x76F8;&#x540C;</p>
<h5 id="&#x9644;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x5C0F;&#x5DE5;&#x5177;">&#x9644;&#xFF1A;&#x4E8C;&#x8FDB;&#x5236;&#x6587;&#x4EF6;&#x67E5;&#x770B;&#x5C0F;&#x5DE5;&#x5177;</h5>
<ul>
<li>&#x4F7F;&#x7528;python&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x7684;&#x8FDB;&#x884C;&#x4E8C;&#x8FDB;&#x5236;&#x76F8;&#x5173;&#x7684;&#x8F6C;&#x6362;<ol>
<li>hex(16) # 10&#x8FDB;&#x5236;&#x8F6C;16&#x8FDB;&#x5236;</li>
<li>oct(8) # 10&#x8FDB;&#x5236;&#x8F6C;8&#x8FDB;&#x5236;</li>
<li>bin(8) # 10&#x8FDB;&#x5236;&#x8F6C;2&#x8FDB;&#x5236;</li>
</ol>
</li>
</ul>
<pre class="language-"><code class="lang-java"><span class="token operator">&gt;&gt;&gt;</span> <span class="token function">hex</span><span class="token punctuation">(</span><span class="token number">6</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token string">&apos;0x18000&apos;</span>
<span class="token operator">&gt;&gt;&gt;</span> <span class="token function">hex</span><span class="token punctuation">(</span><span class="token number">3</span> <span class="token operator">*</span> <span class="token number">16</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">)</span>
<span class="token string">&apos;0xc000&apos;</span>
<span class="token operator">&gt;&gt;&gt;</span>
</code></pre>
<ul>
<li>vscode&#x53EF;&#x4EE5;&#x5B89;&#x88C5;<code>hexdump for VSCode</code>&#x63D2;&#x4EF6;</li>
</ul>
<h3 id="&#x9875;&#x5206;&#x88C2;&#x9875;&#x5408;&#x5E76;">&#x9875;&#x5206;&#x88C2;/&#x9875;&#x5408;&#x5E76;</h3>
<p><a href="https://www.percona.com/blog/2017/04/10/innodb-page-merging-and-page-splitting/" target="_blank">innodb-page-merging-and-page-splitting</a></p>
<p>InnoDB&#x4E0D;&#x662F;&#x6309;&#x884C;&#x7684;&#x6765;&#x64CD;&#x4F5C;&#x7684;&#xFF0C;&#x5B83;&#x53EF;&#x64CD;&#x4F5C;&#x7684;&#x6700;&#x5C0F;&#x7C92;&#x5EA6;&#x662F;&#x9875;&#xFF0C;&#x9875;&#x52A0;&#x8F7D;&#x8FDB;&#x5185;&#x5B58;&#x540E;&#x624D;&#x4F1A;&#x901A;&#x8FC7;&#x626B;&#x63CF;&#x9875;&#x6765;&#x83B7;&#x53D6;&#x884C;/&#x8BB0;&#x5F55;&#x3002;</p>
<h4 id="innodb&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;frm--ibd">innodb&#x6570;&#x636E;&#x7684;&#x5B58;&#x50A8;(.frm &amp; .ibd)</h4>
<p>&#x5728; InnoDB &#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4E2D;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x6570;&#x636E;&#x90FD;&#x88AB;&#x903B;&#x8F91;&#x5730;&#x5B58;&#x653E;&#x5728;&#x8868;&#x7A7A;&#x95F4;&#x4E2D;&#xFF0C;&#x8868;&#x7A7A;&#x95F4;&#xFF08;tablespace&#xFF09;&#x662F;&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4E2D;&#x6700;&#x9AD8;&#x7684;&#x5B58;&#x50A8;&#x903B;&#x8F91;&#x5355;&#x4F4D;&#xFF0C;&#x5728;&#x8868;&#x7A7A;&#x95F4;&#x7684;&#x4E0B;&#x9762;&#x53C8;&#x5305;&#x62EC;&#x6BB5;&#xFF08;segment&#xFF09;&#x3001;&#x533A;&#xFF08;extent&#xFF09;&#x3001;&#x9875;&#xFF08;page&#xFF09;, &#x9875;&#x4E2D;&#x5B58;&#x653E;&#x5B9E;&#x9645;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x884C;</p>
<p><img src="imgs/innodb-11.jpg" alt=""></p>
<p>MySQL &#x4F7F;&#x7528; InnoDB &#x5B58;&#x50A8;&#x8868;&#x65F6;&#xFF0C;&#x4F1A;&#x5C06;&#x8868;&#x7684;&#x5B9A;&#x4E49;&#x548C;&#x6570;&#x636E;&#x7D22;&#x5F15;&#x7B49;&#x4FE1;&#x606F;&#x5206;&#x5F00;&#x5B58;&#x50A8;&#xFF0C;&#x5176;&#x4E2D;&#x524D;&#x8005;&#x5B58;&#x50A8;&#x5728;<code>.frm</code>&#x6587;&#x4EF6;&#x4E2D;&#xFF0C;&#x540E;&#x8005;&#x5B58;&#x50A8;&#x5728;<code>.ibd</code>&#x6587;&#x4EF6;&#x4E2D;(ibd&#x6587;&#x4EF6;&#x65E2;&#x5B58;&#x50A8;&#x4E86;&#x6570;&#x636E;&#x4E5F;&#x5B58;&#x50A8;&#x4E86;&#x7D22;&#x5F15;)</p>
<p><img src="imgs/innodb-12.jpg" alt=""></p>
<p>&#x5728;&#x521B;&#x5EFA;&#x8868;&#x65F6;&#xFF0C;&#x4F1A;&#x5728;&#x78C1;&#x76D8;&#x4E0A;&#x7684; datadir &#x6587;&#x4EF6;&#x5939;&#x4E2D;&#x751F;&#x6210;&#x4E00;&#x4E2A; <code>.frm</code> &#x7684;&#x6587;&#x4EF6;&#xFF0C;&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x8868;&#x7ED3;&#x6784;&#x76F8;&#x5173;&#x7684;&#x4FE1;&#x606F;</p>
<h5 id="&#x9875;&#x5408;&#x5E76;">&#x9875;&#x5408;&#x5E76;</h5>
<p>&#x5220;&#x9664;&#x8BB0;&#x5F55;&#x65F6;&#x4F1A;&#x8BBE;&#x7F6E;record&#x7684;flaged&#x6807;&#x8BB0;&#x4E3A;&#x5220;&#x9664;&#xFF0C;&#x5F53;&#x4E00;&#x9875;&#x4E2D;&#x5220;&#x9664;&#x8BB0;&#x5F55;&#x8D85;&#x8FC7;<font color="red">MERGE_THRESHOLD&#xFF08;&#x9ED8;&#x8BA4;&#x9875;&#x4F53;&#x79EF;&#x7684;50%&#xFF09;</font>&#x65F6;&#xFF0C;InnoDB&#x4F1A;&#x5F00;&#x59CB;&#x5BFB;&#x627E;&#x6700;&#x9760;&#x8FD1;&#x7684;&#x9875;&#xFF08;&#x524D;&#x6216;&#x540E;&#xFF09;&#x770B;&#x770B;&#x662F;&#x5426;&#x53EF;&#x4EE5;&#x5C06;&#x4E24;&#x4E2A;&#x9875;&#x5408;&#x5E76;&#x4EE5;&#x4F18;&#x5316;&#x7A7A;&#x95F4;&#x4F7F;&#x7528;&#x3002;&#x4F8B;&#x5982;&#xFF1A;&#x5408;&#x5E76;&#x64CD;&#x4F5C;&#x4F7F;&#x5F97;&#x9875;#5&#x4FDD;&#x7559;&#x5B83;&#x4E4B;&#x524D;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5E76;&#x4E14;&#x5BB9;&#x7EB3;&#x6765;&#x81EA;&#x9875;#6&#x7684;&#x6570;&#x636E;&#x3002;&#x9875;#6&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x7A7A;&#x9875;&#xFF0C;&#x53EF;&#x4EE5;&#x63A5;&#x7EB3;&#x65B0;&#x6570;&#x636E;&#x3002;</p>
<h5 id="&#x9875;&#x5206;&#x88C2;">&#x9875;&#x5206;&#x88C2;</h5>
<p>&#x9875;&#x53EF;&#x80FD;&#x586B;&#x5145;&#x81F3;100%&#xFF0C;&#x5728;&#x9875;&#x586B;&#x6EE1;&#x4E86;&#x4E4B;&#x540E;&#xFF0C;&#x4E0B;&#x4E00;&#x9875;&#x4F1A;&#x7EE7;&#x7EED;&#x63A5;&#x7BA1;&#x65B0;&#x7684;&#x8BB0;&#x5F55;&#x3002;&#x4F46;&#x5982;&#x679C;&#x4E0B;&#x4E00;&#x9875;&#x9875;&#x6CA1;&#x6709;&#x8DB3;&#x591F;&#x7A7A;&#x95F4;&#x53BB;&#x5BB9;&#x7EB3;&#x65B0;&#xFF08;&#x6216;&#x66F4;&#x65B0;&#xFF09;&#x7684;&#x8BB0;&#x5F55;&#xFF0C;&#x90A3;&#x4E48;</p>
<ol>
<li>&#x521B;&#x5EFA;&#x65B0;&#x9875;</li>
<li>&#x5224;&#x65AD;&#x5F53;&#x524D;&#x9875;&#xFF08;&#x9875;#10&#xFF09;&#x53EF;&#x4EE5;&#x4ECE;&#x54EA;&#x91CC;&#x8FDB;&#x884C;&#x5206;&#x88C2;&#xFF08;&#x8BB0;&#x5F55;&#x884C;&#x5C42;&#x9762;&#xFF09;</li>
<li>&#x79FB;&#x52A8;&#x8BB0;&#x5F55;&#x884C;</li>
<li>&#x91CD;&#x65B0;&#x5B9A;&#x4E49;&#x9875;&#x4E4B;&#x95F4;&#x7684;&#x5173;&#x7CFB;</li>
</ol>
<p>&#x4F8B;&#x5982;&#xFF1A;&#x9875;#10&#x6CA1;&#x6709;&#x8DB3;&#x591F;&#x7A7A;&#x95F4;&#x53BB;&#x5BB9;&#x7EB3;&#x65B0;&#x8BB0;&#x5F55;&#xFF0C;&#x9875;#11&#x4E5F;&#x540C;&#x6837;&#x6EE1;&#x4E86;, #10&#x8981;&#x5206;&#x5217;&#x4E3A;&#x4E24;&#x5217;, &#x4E14;&#x9875;&#x7684;&#x524D;&#x540E;&#x6307;&#x9488;&#x5173;&#x7CFB;&#x8981;&#x53D1;&#x751F;&#x6539;&#x53D8;</p>
<pre class="language-"><code class="lang-java">#<span class="token number">9</span> #<span class="token number">10</span> #<span class="token number">11</span> #<span class="token number">12</span> #<span class="token number">13</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

#<span class="token number">8</span> #<span class="token number">10</span> #<span class="token number">14</span> #<span class="token number">11</span> #<span class="token number">12</span> #<span class="token number">13</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre>
<h2 id="&#x7D22;&#x5F15;">&#x7D22;&#x5F15;</h2>
<h3 id="mysql&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#xFF08;innodb&#xFF09;">MySql&#x9ED8;&#x8BA4;&#x7D22;&#x5F15;&#xFF08;InnoDB&#xFF09;</h3>
<pre class="language-"><code class="lang-sql">mysql<span class="token operator">&gt;</span> <span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">&apos;%storage_engine%&apos;</span><span class="token punctuation">;</span>
ERROR <span class="token number">2006</span> <span class="token punctuation">(</span>HY000<span class="token punctuation">)</span>: MySQL server has gone away
<span class="token keyword">No</span> connection<span class="token punctuation">.</span> Trying <span class="token keyword">to</span> reconnect<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
Connection id:    <span class="token number">112</span>
<span class="token keyword">Current</span> <span class="token keyword">database</span>: test

<span class="token operator">+</span><span class="token comment">----------------------------+--------+</span>
<span class="token operator">|</span> Variable_name              <span class="token operator">|</span> <span class="token keyword">Value</span>  <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------+--------+</span>
<span class="token operator">|</span> default_storage_engine     <span class="token operator">|</span> <span class="token keyword">InnoDB</span> <span class="token operator">|</span>
<span class="token operator">|</span> default_tmp_storage_engine <span class="token operator">|</span> <span class="token keyword">InnoDB</span> <span class="token operator">|</span>
<span class="token operator">|</span> storage_engine             <span class="token operator">|</span> <span class="token keyword">InnoDB</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token comment">----------------------------+--------+</span>
<span class="token number">3</span> <span class="token keyword">rows</span> <span class="token operator">in</span> <span class="token keyword">set</span> <span class="token punctuation">(</span><span class="token number">0.06</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;b-tree&#x800C;&#x4E0D;&#x662F;b-tree">&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x7528;<code>B+ Tree</code>&#x800C;&#x4E0D;&#x662F;<code>B Tree</code>?</h3>
<p>1&#x884C;&#x8BB0;&#x5F55;&#x5047;&#x5982;&#x6709;1KB&#xFF1B;&#x5982;&#x679C;<code>B Tree</code>&#xFF08;&#x5176;&#x975E;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x662F;&#x8981;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x7684;&#xFF0C;&#x663E;&#x7136;&#x5B58;&#x50A8;&#x6709;&#x9650;&#xFF09;&#xFF1B;B-Tree&#x4E3A;&#x4E86;&#x5B58;&#x50A8;&#x5927;&#x91CF;&#x6570;&#x636E;&#xFF0C;&#x4E0D;&#x5F97;&#x4E0D;&#x63D0;&#x9AD8;&#x6811;&#x7684;&#x9AD8;&#x5EA6;&#xFF0C;&#x8FD9;&#x5C31;&#x4F1A;&#x5BFC;&#x81F4;IO&#x6B21;&#x6570;&#x589E;&#x591A;&#x3002;&#x6240;&#x4EE5;&#x6709;<code>B+ Tree</code></p>
<h3 id="mysql&#x4E2D;b&#x6811;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x548C;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;">MySql&#x4E2D;B+&#x6811;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x5206;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x548C;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;</h3>
<h4 id="&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF08;clustered-index&#xFF09;">&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF08;clustered index&#xFF09;</h4>
<p>&#x7D22;&#x5F15;&#x4E2D;&#x952E;&#x503C;&#x7684;&#x903B;&#x8F91;&#x987A;&#x5E8F;&#x51B3;&#x5B9A;&#x4E86;&#x8868;&#x4E2D;&#x76F8;&#x5E94;&#x884C;&#x7684;&#x7269;&#x7406;&#x987A;&#x5E8F;&#xFF08;&#x7D22;&#x5F15;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x7269;&#x7406;&#x5B58;&#x653E;&#x5730;&#x5740;&#x548C;&#x7D22;&#x5F15;&#x7684;&#x987A;&#x5E8F;&#x662F;&#x4E00;&#x81F4;&#x7684;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x8FD9;&#x4E48;&#x7406;&#x89E3;&#xFF1A;&#x53EA;&#x8981;&#x662F;&#x7D22;&#x5F15;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#xFF0C;&#x90A3;&#x4E48;&#x6570;&#x636E;&#x5728;&#x5B58;&#x50A8;&#x4ECB;&#x8D28;&#x4E0A;&#x7684;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&#x4E5F;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#x3002;</p>
<p>&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x5C31;&#x50CF;&#x6211;&#x4EEC;&#x6839;&#x636E;&#x62FC;&#x97F3;&#x7684;&#x987A;&#x5E8F;&#x67E5;&#x5B57;&#x5178;&#x4E00;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x5927;&#x5927;&#x7684;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x3002;&#x5728;&#x7ECF;&#x5E38;&#x641C;&#x7D22;&#x4E00;&#x5B9A;&#x8303;&#x56F4;&#x7684;&#x503C;&#x65F6;&#xFF0C;&#x901A;&#x8FC7;&#x7D22;&#x5F15;&#x627E;&#x5230;&#x7B2C;&#x4E00;&#x6761;&#x6570;&#x636E;&#xFF0C;&#x6839;&#x636E;&#x7269;&#x7406;&#x5730;&#x5740;&#x8FDE;&#x7EED;&#x5B58;&#x50A8;&#x7684;&#x7279;&#x70B9;&#xFF0C;&#x7136;&#x540E;&#x68C0;&#x7D22;&#x76F8;&#x90BB;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x76F4;&#x5230;&#x5230;&#x8FBE;&#x6761;&#x4EF6;&#x622A;&#x6B62;&#x9879;&#x3002;</p>
<p>&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF1A;&#x53F6;&#x5B50;&#x8282;&#x70B9;&#x5305;&#x542B;&#x4E86;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;</p>
<p>Cluster index is a type of index which sorts the data rows in the table on their key values. In the Database, there is only one clustered index per table.</p>
<p>A clustered index defines the order in which data is stored in the table which can be sorted in only one way. So, there can be an only a single clustered index for every table. In an RDBMS, usually, the primary key allows you to create a clustered index based on that specific column.</p>
<h4 id="&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;">&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;</h4>
<p>&#x7D22;&#x5F15;&#x7684;&#x903B;&#x8F91;&#x987A;&#x5E8F;&#x4E0E;&#x78C1;&#x76D8;&#x4E0A;&#x7684;&#x7269;&#x7406;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x4E0D;&#x540C;&#x3002;&#x975E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x7684;&#x952E;&#x503C;&#x5728;&#x903B;&#x8F91;&#x4E0A;&#x4E5F;&#x662F;&#x8FDE;&#x7EED;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x8868;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x5728;&#x5B58;&#x50A8;&#x4ECB;&#x8D28;&#x4E0A;&#x7684;&#x7269;&#x7406;&#x987A;&#x5E8F;&#x662F;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#xFF0C;&#x5373;&#x8BB0;&#x5F55;&#x7684;&#x903B;&#x8F91;&#x987A;&#x5E8F;&#x548C;&#x5B9E;&#x9645;&#x5B58;&#x50A8;&#x7684;&#x7269;&#x7406;&#x987A;&#x5E8F;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x8054;&#x7CFB;&#x3002;&#x7D22;&#x5F15;&#x7684;&#x8BB0;&#x5F55;&#x8282;&#x70B9;&#x6709;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x6307;&#x9488;&#x6307;&#x5411;&#x771F;&#x6B63;&#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x4F4D;&#x7F6E;&#x3002;</p>
<p>A Non-clustered index stores the data at one location and indices at another location. The index contains pointers to the location of that data. A single table can have many non-clustered indexes as an index in the non-clustered index is stored in different places.</p>
<p>For example, a book can have more than one index, one at the beginning which displays the contents of a book unit wise while the second index shows the index of terms in alphabetical order.</p>
<p>A non-clustering index is defined in the non-ordering field of the table. This type of indexing method helps you to improve the performance of queries that use keys which are not assigned as a primary key. A non-clustered index allows you to add a unique key for a table.</p>
<h4 id="&#x805A;&#x96C6;&#x975E;&#x805A;&#x96C6;&#x5BF9;&#x6BD4;&#x548C;&#x6CE8;&#x610F;&#x70B9;">&#x805A;&#x96C6;/&#x975E;&#x805A;&#x96C6;&#x5BF9;&#x6BD4;&#x548C;&#x6CE8;&#x610F;&#x70B9;</h4>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-index-types.html" target="_blank">innodb-index-types</a></p>
<p>Mysql&#x4E2D;&#x5173;&#x4E8E;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x7684;&#x8BF4;&#x660E;</p>
<pre class="language-"><code>* &#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x88AB;&#x5B9A;&#x4E49;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x4E3B;&#x952E;&#x5C31;&#x662F;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;
* &#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x88AB;&#x5B9A;&#x4E49;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x975E;&#x7A7A;&#x7D22;&#x5F15;&#x4F1A;&#x88AB;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;
* &#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x4E5F;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#xFF0C;&#x90A3;&#x4E48;innodb&#x5185;&#x90E8;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x4E3B;&#x952E;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF0C;&#x8FD9;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x4E3B;&#x952E;&#x662F;&#x4E00;&#x4E2A;6&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5217;&#xFF0C;&#x8BE5;&#x5217;&#x7684;&#x503C;&#x4F1A;&#x968F;&#x7740;&#x6570;&#x636E;&#x7684;&#x63D2;&#x5165;&#x8FDB;&#x884C;&#x81EA;&#x589E;
</code></pre><p>&#x805A;&#x96C6;&#x7D22;&#x5F15;&#x7684;&#x7279;&#x70B9;</p>
<pre class="language-"><code>* &#x805A;&#x96C6;&#x7D22;&#x5F15;&#x8868;&#x8BB0;&#x5F55;&#x7684;&#x6392;&#x5217;&#x987A;&#x5E8F;&#x548C;&#x7D22;&#x5F15;&#x7684;&#x6392;&#x5217;&#x987A;&#x5E8F;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF0C;&#x6240;&#x4EE5;&#x67E5;&#x8BE2;&#x6548;&#x7387;&#x76F8;&#x5F53;&#x5FEB;&#x3002;&#x53EA;&#x8981;&#x627E;&#x5230;&#x7B2C;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x8BB0;&#x5F55;&#x7684;&#x503C;&#xFF0C;&#x5176;&#x4F59;&#x7684;&#x8FDE;&#x7EED;&#x6027;&#x7684;&#x8BB0;&#x5F55;&#x4E5F;&#x4E00;&#x5B9A;&#x662F;&#x8FDE;&#x7EED;&#x5B58;&#x653E;&#x7684;
* &#x805A;&#x96C6;&#x7D22;&#x5F15;&#x7684;&#x7F3A;&#x70B9;&#x5C31;&#x662F;&#x4FEE;&#x6539;&#xFF0C;&#x5220;&#x9664;&#x7B49;&#x64CD;&#x4F5C;&#x4F1A;&#x6BD4;&#x8F83;&#x6162;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9700;&#x8981;&#x4FDD;&#x6301;&#x8868;&#x4E2D;&#x8BB0;&#x5F55;&#x548C;&#x7D22;&#x5F15;&#x7684;&#x987A;&#x5E8F;&#x4E00;&#x81F4;&#xFF0C;&#x5728;&#x63D2;&#x5165;&#x65B0;&#x8BB0;&#x5F55;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x4F1A;&#x5BF9;&#x6570;&#x636E;&#x4E5F;&#x91CD;&#x65B0;&#x505A;&#x4E00;&#x6B21;&#x6392;&#x5E8F;&#xFF0C;&#x53EF;&#x80FD;&#x4EA7;&#x751F;&#x9875;&#x5206;&#x88C2;/&#x521B;&#x5EFA;&#x64CD;&#x4F5C;
* InnoDB&#x8868;&#x6570;&#x636E;&#x672C;&#x8EAB;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x6309;B+Tree&#x7EC4;&#x7EC7;&#x7684;&#x4E00;&#x4E2A;&#x7D22;&#x5F15;&#x7ED3;&#x6784;&#x6587;&#x4EF6;&#xFF0C;&#x53F6;&#x8282;&#x70B9;&#x5305;&#x542B;&#x4E86;&#x5B8C;&#x6574;&#x7684;&#x6570;&#x636E;&#x8BB0;&#x5F55;(.ibd&#x6587;&#x4EF6;)&#xFF1B;MyIsam&#x6570;&#x636E;&#x548C;&#x7D22;&#x5F15;&#x6587;&#x4EF6;&#x662F;&#x5206;&#x5F00;&#x7684;&#xFF08;.MYD&#x6587;&#x4EF6;&#xFF0C;.MYI&#x6587;&#x4EF6;&#xFF09;
</code></pre><ul>
<li>myisam</li>
</ul>
<p><img src="imgs/myisam.png" alt=""></p>
<ul>
<li>innodb</li>
</ul>
<p><img src="imgs/innodb.png" alt=""></p>
<h4 id="&#x4E3A;&#x4EC0;&#x4E48;innodb&#x8981;&#x6709;&#x4E3B;&#x952E;&#xFF1F;&#x5E76;&#x4E14;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6574;&#x578B;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;InnoDB&#x8981;&#x6709;&#x4E3B;&#x952E;&#xFF1F;&#x5E76;&#x4E14;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6574;&#x578B;&#x81EA;&#x589E;&#x4E3B;&#x952E;&#xFF1F;</h4>
<p>&#x4E3A;&#x4EC0;&#x4E48;InnoDB&#x8981;&#x6709;&#x4E3B;&#x952E;&#xFF1F;&#xFF08;InnoDB&#x8BBE;&#x8BA1;&#x5982;&#x6B64;&#xFF09;</p>
<ul>
<li>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#x88AB;&#x5B9A;&#x4E49;&#x4E86;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E2A;&#x4E3B;&#x952E;&#x5C31;&#x662F;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;</li>
<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x88AB;&#x5B9A;&#x4E49;&#xFF0C;&#x90A3;&#x4E48;&#x8BE5;&#x8868;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x552F;&#x4E00;&#x975E;&#x7A7A;&#x7D22;&#x5F15;&#x4F1A;&#x88AB;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;</li>
<li>&#x5982;&#x679C;&#x6CA1;&#x6709;&#x4E3B;&#x952E;&#x4E5F;&#x6CA1;&#x6709;&#x5408;&#x9002;&#x7684;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#xFF0C;&#x90A3;&#x4E48;innodb&#x5185;&#x90E8;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x4E3B;&#x952E;&#x4F5C;&#x4E3A;&#x805A;&#x96C6;&#x7D22;&#x5F15;&#xFF0C;&#x8FD9;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x4E3B;&#x952E;&#x662F;&#x4E00;&#x4E2A;6&#x4E2A;&#x5B57;&#x8282;&#x7684;&#x5217;&#xFF0C;&#x8BE5;&#x5217;&#x7684;&#x503C;&#x4F1A;&#x968F;&#x7740;&#x6570;&#x636E;&#x7684;&#x63D2;&#x5165;&#x8FDB;&#x884C;&#x81EA;&#x589E;</li>
</ul>
<p>&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x6574;&#x578B;&#xFF1F;</p>
<ul>
<li>B+Tree&#x641C;&#x7D22;&#x8FDB;&#x884C;&#x6BD4;&#x8F83;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C;&#x663E;&#x7136;&#x6574;&#x578B;&#x6BD4;&#x5B57;&#x7B26;&#x4E32;&#x6BD4;&#x8F83;&#x5FEB;&#xFF08;&#x539F;&#x56E0;1&#xFF09;&#xFF1B;&#x6574;&#x578B;&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x5C0F;&#xFF08;&#x539F;&#x56E0;2&#xFF09;</li>
</ul>
<p>&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x81EA;&#x589E;&#xFF1F;</p>
<p>&#x8865;&#x5145;&#xFF1A;hash&#x7D22;&#x5F15;&#xFF0C;&#x76F4;&#x63A5;&#x5B9A;&#x4F4D;&#x5230;&#x8BB0;&#x5F55;&#x7684;&#x78C1;&#x76D8;&#x5730;&#x5740;&#xFF08;&#x7B49;&#x503C;&#x67E5;&#x627E;&#xFF09;&#xFF1B;&#x4F46;&#x662F;<strong>&#x533A;&#x95F4;&#x67E5;&#x627E;</strong>&#x7528;hash&#x884C;&#x4E0D;&#x540C;&#xFF0C;&#x6240;&#x4EE5;hash&#x7D22;&#x5F15;&#x5728;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x7528;&#x7684;&#x5C11;</p>
<p>&#x81EA;&#x589E;&#x662F;&#x9875;&#x4E0D;&#x65AD;&#x7684;&#x521B;&#x5EFA;&#x65B0;&#x589E;&#xFF0C;&#x5C3E;&#x90E8;&#x6570;&#x636E;&#x589E;&#x52A0;&#xFF0C;&#x8C03;&#x6574;&#x5C0F;&#xFF1B;&#x5982;&#x679C;&#x975E;&#x81EA;&#x589E;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x9875;&#x5206;&#x88C2;/&#x521B;&#x5EFA;&#xFF0C;B+Tree&#x8C03;&#x6574;&#x5927;</p>
<p><a href="https://www.cs.usfca.edu/~galles/visualization/BPlusTree.html" target="_blank">B+Tree &#x53EF;&#x89C6;&#x5316;&#x64CD;&#x4F5C;</a></p>
<h3 id="&#x7D22;&#x5F15;&#x7C7B;&#x578B;">&#x7D22;&#x5F15;&#x7C7B;&#x578B;</h3>
<h4 id="&#x8054;&#x5408;&#x7D22;&#x5F15;">&#x8054;&#x5408;&#x7D22;&#x5F15;</h4>
<p><img src="imgs/index_union.png" alt=""></p>
<p>&#x4ECD;&#x7136;&#x662F;B+Tree, &#x7D22;&#x5F15;&#x4E2D;&#x5305;&#x542B;&#x591A;&#x4E2A;&#x5B57;&#x6BB5;&#xFF0C;&#x6309;&#x7167;&#x8054;&#x5408;&#x7D22;&#x5F15;&#x7684;&#x5148;&#x540E;&#x987A;&#x5E8F;&#xFF1B;&#x5982;<code>a,b,c</code>&#x8054;&#x5408;&#x7D22;&#x5F15;&#xFF0C;&#x5219;<code>a; a,b; a,b,c; a,c</code>&#x53EF;&#x4EE5;&#x8D70;&#x7D22;&#x5F15;&#xFF0C;&#x5176;&#x5B83;&#x5219;&#x4E0D;&#x80FD;</p>
<h3 id="&#x8054;&#x5408;&#x7D22;&#x5F15;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x6700;&#x5DE6;&#x524D;&#x7F00;&#x5339;&#x914D;&#xFF1F;">&#x8054;&#x5408;&#x7D22;&#x5F15;&#x4E3A;&#x4EC0;&#x4E48;&#x662F;&#x6700;&#x5DE6;&#x524D;&#x7F00;&#x5339;&#x914D;&#xFF1F;</h3>
<p>&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5E95;&#x5C42;&#x51B3;&#x5B9A;&#xFF08;&#x4E25;&#x683C;&#x7684;&#x6309;&#x7167;&#x7B2C;&#x4E00;&#x4E2A;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x5B57;&#x6BB5;&#x4E00;&#x4E2A;&#x4E00;&#x4E2A;&#x5339;&#x914D;&#xFF09;&#xFF0C;&#x4E0D;&#x7B26;&#x5408;&#x6700;&#x5DE6;&#x5339;&#x914D;&#x5219;&#x9700;&#x8981;&#x5168;&#x5C40;&#x626B;&#x63CF;&#x4E86;</p>
<h4 id="mysql&#x7D22;&#x5F15;&#x6982;&#x8FF0;">MySql&#x7D22;&#x5F15;&#x6982;&#x8FF0;</h4>
<p>Most MySQL indexes (PRIMARY KEY, UNIQUE, INDEX, and FULLTEXT) are stored in B-trees. Exceptions: Indexes on spatial data types use R-trees; MEMORY tables also support hash indexes; InnoDB uses inverted lists for FULLTEXT indexes.</p>
<ul>
<li>&#x666E;&#x901A;&#x7D22;&#x5F15;</li>
<li>&#x4E3B;&#x952E;&#x7D22;&#x5F15;&#xFF1A;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x7684;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#xFF0C;&#x4E00;&#x4E2A;&#x8868;&#x53EA;&#x80FD;&#x6709;&#x4E00;&#x4E2A;&#x4E3B;&#x952E;&#xFF0C;&#x4E0D;&#x5141;&#x8BB8;&#x6709;&#x7A7A;&#x503C;</li>
<li>&#x552F;&#x4E00;&#x7D22;&#x5F15;&#xFF1A;&#x7D22;&#x5F15;&#x5217;&#x7684;&#x503C;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF0C;&#x4F46;&#x5141;&#x8BB8;&#x6709;&#x7A7A;&#x503C;&#x3002;&#x5982;&#x679C;&#x662F;&#x7EC4;&#x5408;&#x7D22;&#x5F15;&#xFF0C;&#x5219;&#x5217;&#x503C;&#x7684;&#x7EC4;&#x5408;&#x5FC5;&#x987B;&#x552F;&#x4E00;&#xFF1B;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x53EF;&#x4EE5;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x8BB0;&#x5F55;&#x7684;&#x552F;&#x4E00;&#x6027;&#x3002;&#x4E8B;&#x5B9E;&#x4E0A;&#xFF0C;&#x5728;&#x8BB8;&#x591A;&#x573A;&#x5408;&#xFF0C;&#x4EBA;&#x4EEC;&#x521B;&#x5EFA;&#x552F;&#x4E00;&#x7D22;&#x5F15;&#x7684;&#x76EE;&#x7684;&#x5F80;&#x5F80;&#x4E0D;&#x662F;&#x4E3A;&#x4E86;&#x63D0;&#x9AD8;&#x8BBF;&#x95EE;&#x901F;&#x5EA6;&#xFF0C;&#x800C;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x6570;&#x636E;&#x51FA;&#x73B0;&#x91CD;&#x590D;&#x3002;</li>
<li>&#x5168;&#x6587;&#x7D22;&#x5F15;</li>
</ul>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/mysql-indexes.html" target="_blank">https://dev.mysql.com/doc/refman/5.7/en/mysql-indexes.html</a></p>
<p>Indexes are used to find rows with specific column values quickly. Without an index, MySQL must begin with the first row and then read through the entire table to find the relevant rows. The larger the table, the more this costs. If the table has an index for the columns in question, MySQL can quickly determine the position to seek to in the middle of the data file without having to look at all the data. This is much faster than reading every row sequentially.&#xFF08;&#x7D22;&#x5F15;&#x9002;&#x7528;&#x4E8E;&#x5FEB;&#x901F;&#x67E5;&#x627E;&#x67D0;&#x4E9B;&#x884C;,&#x800C;&#x4E0D;&#x9700;&#x8981;&#x8BA9;&#x5F15;&#x64CE;&#x53BB;&#x505A;&#x5168;&#x8868;&#x626B;&#x63CF;.&#x5F53;&#x7136;&#x8FD9;&#x4E9B;&#x505A;&#x662F;&#x6709;&#x6761;&#x4EF6;&#x7684;,&#x7D22;&#x5F15;&#x7684;&#x521B;&#x5EFA;&#x548C;&#x66F4;&#x65B0;&#x662F;&#x9700;&#x8981;&#x8D44;&#x6E90;&#x7684;(CPU IO &#x5185;&#x5B58; &#x78C1;&#x76D8;&#x7A7A;&#x95F4;).&#x6240;&#x4EE5;&#x7D22;&#x5F15;&#x901A;&#x8FC7;&#x727A;&#x7272;&#x63D2;&#x5165;&#x548C;&#x66F4;&#x65B0;&#x7684;&#x6548;&#x7387;&#x6765;&#x5927;&#x5E45;&#x5EA6;&#x63D0;&#x9AD8;&#x8BFB;&#x7684;&#x6548;&#x7387;.&#xFF09;</p>
<p>Most MySQL indexes (PRIMARY KEY, UNIQUE, INDEX, and FULLTEXT) are stored in B-trees. Exceptions: Indexes on spatial data types use R-trees; MEMORY tables also support hash indexes; InnoDB uses inverted lists for FULLTEXT indexes.</p>
<p>MySQL uses indexes for these operations:</p>
<ul>
<li><p>To find the rows matching a WHERE clause quickly.</p>
</li>
<li><p>To eliminate rows from consideration. If there is a choice between multiple indexes, MySQL normally uses the index that finds the smallest number of rows (<strong>the most selective</strong> index).</p>
</li>
<li><p>If the table has a multiple-column index, any <strong>leftmost prefix</strong> of the index can be used by the optimizer to look up rows. For example, if you have a three-column index on (col1, col2, col3), you have indexed search capabilities on (col1), (col1, col2), and (col1, col2, col3).</p>
</li>
<li><p>To retrieve rows from other tables when performing joins. MySQL can use indexes on columns more efficiently if they are declared as the same type and size. In this context, VARCHAR and CHAR are considered the same if they are declared as the same size. For example, VARCHAR(10) and CHAR(10) are the same size, but VARCHAR(10) and CHAR(15) are not.</p>
</li>
<li><p>To find the MIN() or MAX() value for a specific indexed column key_col. This is optimized by a preprocessor that checks whether you are using WHERE key_part_N = constant on all key parts that occur before key_col in the index. In this case, MySQL does a single key lookup for each MIN() or MAX() expression and replaces it with a constant. If all expressions are replaced with constants, the query returns at once.</p>
</li>
<li><p>To sort or group a table if the sorting or grouping is done on a leftmost prefix of a usable index (for example, ORDER BY key_part1, key_part2). If all key parts are followed by DESC, the key is read in reverse order.</p>
</li>
<li><p>In some cases, a query can be optimized to retrieve values without consulting the data rows. (An index that provides all the necessary results for a query is called a covering index.) If a query uses from a table only columns that are included in some index, the selected values can be retrieved from the index tree for greater speed</p>
</li>
</ul>
<p>&#x6700;&#x540E;&#xFF1A;Indexes are less important for queries on small tables, or big tables where report queries process most or all of the rows. When a query needs to access most of the rows, reading sequentially is faster than working through an index. Sequential reads minimize disk seeks, even if not all the rows are needed for the query.</p>
<h2 id="innodb&#x9501;">InnoDb&#x9501;</h2>
<p><a href="https://dev.mysql.com/doc/refman/5.7/en/innodb-locking.html" target="_blank">innodb lock</a></p>
<h3 id="shared-locks&#x8BFB;&#x9501;-&#x548C;-exclusive-locks&#x5199;&#x9501;">Shared locks(&#x8BFB;&#x9501;) &#x548C; Exclusive locks(&#x5199;&#x9501;)</h3>
<p>InnoDB implements standard <code>row-level locking</code> where there are two types of locks, shared (S) locks and exclusive (X) locks.</p>
<ul>
<li>A shared (S) lock permits the transaction that holds the lock to read a row.</li>
<li>An exclusive (X) lock permits the transaction that holds the lock to update or delete a row.</li>
</ul>
<h4 id="exclusive-locks">Exclusive locks</h4>
<p>Exclusive locks protect updates to file resources, both recoverable and non-recoverable. They can be owned by only one transaction at a time. Any transaction that requires an exclusive lock must wait if another task currently owns an exclusive lock or a shared lock against the requested resource.</p>
<p>&#x72EC;&#x5360;&#x9501;&#x4FDD;&#x62A4;&#x6587;&#x4EF6;&#x8D44;&#x6E90;(&#x5305;&#x62EC;&#x53EF;&#x6062;&#x590D;&#x548C;&#x4E0D;&#x53EF;&#x6062;&#x590D;&#x7684;&#x6587;&#x4EF6;&#x8D44;&#x6E90;)&#x7684;&#x66F4;&#x65B0;&#x3002;&#x5B83;&#x4EEC;&#x4E00;&#x6B21;&#x53EA;&#x80FD;&#x7531;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x62E5;&#x6709;&#x3002;&#x5982;&#x679C;&#x53E6;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5F53;&#x524D;&#x62E5;&#x6709;&#x5BF9;&#x6240;&#x8BF7;&#x6C42;&#x8D44;&#x6E90;&#x7684;&#x72EC;&#x5360;&#x9501;&#x6216;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x5219;&#x4EFB;&#x4F55;&#x9700;&#x8981;&#x5BF9;&#x8BE5;&#x8D44;&#x6E90;&#x7533;&#x8BF7;&#x72EC;&#x5360;&#x9501;&#x7684;&#x4E8B;&#x52A1;&#x90FD;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x3002;</p>
<h4 id="shared-locks">Shared locks</h4>
<p>Shared locks support read integrity. They ensure that a record is not in the process of being updated during a read-only request. Shared locks can also be used to prevent updates of a record between the time that a record is read and the next syncpoint.</p>
<p>&#x5171;&#x4EAB;&#x9501;&#x652F;&#x6301;&#x8BFB;&#x5B8C;&#x6574;&#x6027;&#x3002;&#x5B83;&#x4EEC;&#x786E;&#x4FDD;&#x5728;&#x53EA;&#x8BFB;&#x8BF7;&#x6C42;&#x671F;&#x95F4;&#x4E0D;&#x4F1A;&#x66F4;&#x65B0;&#x8BB0;&#x5F55;&#x3002;&#x5171;&#x4EAB;&#x9501;&#x8FD8;&#x53EF;&#x7528;&#x4E8E;&#x9632;&#x6B62;&#x5728;&#x8BFB;&#x53D6;&#x8BB0;&#x5F55;&#x548C;&#x4E0B;&#x4E00;&#x4E2A;&#x540C;&#x6B65;&#x70B9;&#x4E4B;&#x95F4;&#x8FDB;&#x884C;&#x66F4;&#x65B0;&#x64CD;&#x4F5C;&#x3002;</p>
<p>A shared lock on a resource can be owned by several tasks at the same time. However, although several tasks can own shared locks, there are some circumstances in which tasks can be forced to wait for a lock:</p>
<p>&#x8D44;&#x6E90;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x9501;&#x53EF;&#x4EE5;&#x540C;&#x65F6;&#x7531;&#x591A;&#x4E2A;&#x4EFB;&#x52A1;&#x62E5;&#x6709;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5C3D;&#x7BA1;&#x6709;&#x51E0;&#x4E2A;&#x4EFB;&#x52A1;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x4F46;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x53EF;&#x4EE5;&#x5F3A;&#x5236;&#x4EFB;&#x52A1;&#x7B49;&#x5F85;&#x9501;&#xFF1A;</p>
<ul>
<li>A request for a shared lock must wait if another task currently owns an exclusive lock on the resource.</li>
<li>A request for an exclusive lock must wait if other tasks currently own shared locks on this resource.</li>
<li>A new request for a shared lock must wait if another task is waiting for an exclusive lock on a resource that already has a shared lock.</li>
</ul>
<p>&#x5373;&#xFF1A;</p>
<ul>
<li>&#x5982;&#x679C;&#x53E6;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5F53;&#x524D;&#x62E5;&#x6709;&#x8D44;&#x6E90;&#x4E0A;&#x7684;&#x72EC;&#x5360;&#x9501;&#xFF0C;&#x5219;&#x5BF9;&#x5171;&#x4EAB;&#x9501;&#x7684;&#x8BF7;&#x6C42;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x3002;</li>
<li>&#x5982;&#x679C;&#x5176;&#x4ED6;&#x4EFB;&#x52A1;&#x5F53;&#x524D;&#x62E5;&#x6709;&#x6B64;&#x8D44;&#x6E90;&#x4E0A;&#x7684;&#x5171;&#x4EAB;&#x9501;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x5BF9;&#x72EC;&#x5360;&#x9501;&#x7684;&#x8BF7;&#x6C42;&#x3002;</li>
<li>&#x5982;&#x679C;&#x53E6;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x6B63;&#x5728;&#x7B49;&#x5F85;&#x5DF2;&#x7ECF;&#x5177;&#x6709;&#x5171;&#x4EAB;&#x9501;&#x7684;&#x8D44;&#x6E90;&#x7684;&#x72EC;&#x5360;&#x9501;&#xFF0C;&#x5219;&#x5BF9;&#x5171;&#x4EAB;&#x9501;&#x7684;&#x65B0;&#x8BF7;&#x6C42;&#x5FC5;&#x987B;</li>
</ul>
<h3 id="intention-locks&#x610F;&#x5411;&#x9501;">Intention Locks(&#x610F;&#x5411;&#x9501;)</h3>
<p>InnoDB supports multiple granularity locking(&#x591A;&#x7C92;&#x5EA6;&#x9501;) which permits coexistence of row locks and table locks.</p>
<p>Intention locks are table-level locks that indicate which type of lock (shared or exclusive) a transaction requires later for a row in a table. There are two types of intention locks:</p>
<ul>
<li><p>An intention shared lock (IS) indicates that a transaction intends to set a shared lock on individual rows in a table. &#x4E8B;&#x52A1;T&#x5C1D;&#x8BD5;&#x5728;&#x8868;t&#x7684;&#x67D0;&#x4E9B;&#x884C;&#x8BB0;&#x5F55;&#x4E0A;&#x8BBE;&#x7F6E;S&#x9501;</p>
</li>
<li><p>An intention exclusive lock (IX) indicates that a transaction intends to set an exclusive lock on individual rows in a table. &#x4E8B;&#x52A1;T&#x5C1D;&#x8BD5;&#x5728;&#x8868;t&#x7684;&#x67D0;&#x4E9B;&#x884C;&#x8BB0;&#x5F55;&#x4E0A;&#x8BBE;&#x7F6E;X&#x9501;</p>
</li>
</ul>
<p>&#x9501;&#x4F7F;&#x7528;&#x89C4;&#x5219;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center">-</th>
<th style="text-align:center">X</th>
<th style="text-align:center">IX</th>
<th style="text-align:center">S</th>
<th style="text-align:center">IS</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Conflict</td>
</tr>
<tr>
<td style="text-align:center">IX</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Compatible</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Compatible</td>
</tr>
<tr>
<td style="text-align:center">S</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Compatible</td>
<td style="text-align:center">Compatible</td>
</tr>
<tr>
<td style="text-align:center">IS</td>
<td style="text-align:center">Conflict</td>
<td style="text-align:center">Compatible</td>
<td style="text-align:center">Compatible</td>
<td style="text-align:center">Compatible</td>
</tr>
</tbody>
</table>
<h3 id="record-locks">Record Locks</h3>
<p>A record lock is a lock on an index record. For example, SELECT c1 FROM t WHERE c1 = 10 FOR UPDATE; prevents any other transaction from inserting, updating, or deleting rows where the value of t.c1 is 10.</p>
<p>Record locks always lock index records, even if a table is defined with no indexes. For such cases, InnoDB creates a hidden clustered index and uses this index for record locking.</p>
<p>&#x5355;&#x4E2A;&#x7D22;&#x5F15;&#x884C;&#x8BB0;&#x5F55;&#x7684;&#x9501;&#x3002;</p>
<h3 id="gap-locks">Gap Locks</h3>
<p>A gap lock is a lock on a gap between index records, or a lock on the gap before the first or after the last index record. For example, SELECT c1 FROM t WHERE c1 BETWEEN 10 and 20 FOR UPDATE; prevents other transactions from inserting a value of 15 into column t.c1, whether or not there was already any such value in the column, because the gaps between all existing values in the range are locked.</p>
<p>A gap might span a single index value, multiple index values, or even be empty.</p>
<p>Gap locks are part of the tradeoff between performance and concurrency, and are used in some transaction isolation levels and not others.</p>
<p>&#x95F4;&#x9699;&#x9501;&#xFF0C;&#x9501;&#x5B9A;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#xFF0C;&#x4F46;&#x4E0D;&#x5305;&#x62EC;&#x8BB0;&#x5F55;&#x672C;&#x8EAB;&#x3002;GAP&#x9501;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x662F;&#x4E3A;&#x4E86;&#x9632;&#x6B62;&#x540C;&#x4E00;&#x4E8B;&#x52A1;&#x7684;&#x4E24;&#x6B21;&#x5F53;&#x524D;&#x8BFB;&#xFF0C;&#x51FA;&#x73B0;&#x5E7B;&#x8BFB;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<h3 id="next-key-locks">Next-Key Locks</h3>
<p>A next-key lock is a combination of a record lock on the index record and a gap lock on the gap before the index record.</p>
<p>InnoDB performs row-level locking in such a way that when it searches or scans a table index, it sets shared or exclusive locks on the index records it encounters. Thus, the row-level locks are actually index-record locks. A next-key lock on an index record also affects the &#x201C;gap&#x201D; before that index record. That is, a next-key lock is an index-record lock plus a gap lock on the gap preceding the index record. If one session has a shared or exclusive lock on record R in an index, another session cannot insert a new index record in the gap immediately before R in the index order.</p>
<p>&#x9501;&#x5B9A;&#x4E00;&#x4E2A;&#x8303;&#x56F4;&#xFF0C;&#x5E76;&#x4E14;&#x9501;&#x5B9A;&#x8BB0;&#x5F55;&#x672C;&#x8EAB;&#x3002;&#x5BF9;&#x4E8E;&#x884C;&#x7684;&#x67E5;&#x8BE2;&#xFF0C;&#x90FD;&#x662F;&#x91C7;&#x7528;&#x8BE5;&#x65B9;&#x6CD5;&#xFF0C;&#x4E3B;&#x8981;&#x76EE;&#x7684;&#x662F;&#x89E3;&#x51B3;&#x5E7B;&#x8BFB;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<p>&#x4F8B;&#x5982;&#xFF1A;</p>
<pre class="language-"><code class="lang-java">root<span class="token annotation punctuation">@localhost</span> <span class="token operator">:</span> test <span class="token number">10</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">15</span><span class="token operator">&gt;</span>select <span class="token operator">*</span> from t<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> a    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span>    <span class="token number">1</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">3</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">5</span> <span class="token operator">|</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">|</span>   <span class="token number">11</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">5</span> rows in set <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

root<span class="token annotation punctuation">@localhost</span> <span class="token operator">:</span> test <span class="token number">10</span><span class="token operator">:</span><span class="token number">56</span><span class="token operator">:</span><span class="token number">29</span><span class="token operator">&gt;</span>select <span class="token operator">*</span> from t where a <span class="token operator">=</span> <span class="token number">8</span> <span class="token keyword">for</span> update<span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> a    <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span>    <span class="token number">8</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">1</span> row in set <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</code></pre>
<p>&#x8BE5;SQL&#x8BED;&#x53E5;&#x9501;&#x5B9A;&#x7684;&#x8303;&#x56F4;&#x662F;<code>&#xFF08;5,8]</code>&#xFF0C;&#x4E0B;&#x4E2A;&#x4E0B;&#x4E2A;&#x952E;&#x503C;&#x8303;&#x56F4;&#x662F;<code>&#xFF08;8,11]</code>&#xFF0C;&#x6240;&#x4EE5;&#x63D2;&#x5165;<code>5~11</code>&#x4E4B;&#x95F4;&#x7684;&#x503C;&#x7684;&#x65F6;&#x5019;&#x90FD;&#x4F1A;&#x88AB;&#x9501;&#x5B9A;&#xFF0C;&#x8981;&#x6C42;&#x7B49;&#x5F85;&#x3002;&#x5373;&#xFF1A;&#x63D2;&#x5165;<code>5&#xFF0C;6&#xFF0C;7&#xFF0C;8&#xFF0C;9&#xFF0C;10</code>&#x4F1A;&#x88AB;&#x9501;&#x4F4F;&#x3002;&#x63D2;&#x5165;&#x975E;&#x8FD9;&#x4E2A;&#x8303;&#x56F4;&#x5185;&#x7684;&#x503C;&#x90FD;&#x6B63;&#x5E38;&#x3002;</p>
<h3 id="insert-intention-locks&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;">Insert Intention Locks(&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;)</h3>
<p>An insert intention lock is a type of gap lock set by INSERT operations prior to row insertion. This lock signals the intent to insert in such a way that multiple transactions inserting into the same index gap need not wait for each other if they are not inserting at the same position within the gap. Suppose that there are index records with values of 4 and 7. Separate transactions that attempt to insert values of 5 and 6, respectively, each lock the gap between 4 and 7 with insert intention locks prior to obtaining the exclusive lock on the inserted row, but do not block each other because the rows are nonconflicting.</p>
<p>Insert Intention Locks&#x610F;&#x4E3A;&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;&#xFF0C;&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;&#x662F;Innodb gap&#x9501;&#x7684;&#x4E00;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x79CD;&#x9501;&#x8868;&#x793A;&#x8981;&#x4EE5;&#x8FD9;&#x6837;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#x63D2;&#x5165;:&#x5982;&#x679C;&#x591A;&#x4E2A;&#x4E8B;&#x52A1;&#x63D2;&#x5165;&#x5230;&#x76F8;&#x540C;&#x7684;&#x7D22;&#x5F15;&#x95F4;&#x9699;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x5B83;&#x4EEC;&#x4E0D;&#x5728;&#x95F4;&#x9699;&#x4E2D;&#x7684;&#x76F8;&#x540C;&#x4F4D;&#x7F6E;&#x63D2;&#x5165;&#xFF0C;&#x5219;&#x65E0;&#x9700;&#x7B49;&#x5F85;&#x5176;&#x4ED6;&#x4E8B;&#x52A1;&#x3002;&#x6BD4;&#x5982;&#x8BF4;&#x6709;&#x7D22;&#x5F15;&#x8BB0;&#x5F55;4&#x548C;7&#xFF0C;&#x6709;&#x4E24;&#x4E2A;&#x4E8B;&#x52A1;&#x60F3;&#x8981;&#x5206;&#x522B;&#x63D2;&#x5165;5&#xFF0C;6&#xFF0C;&#x5728;&#x83B7;&#x53D6;&#x63D2;&#x5165;&#x884C;&#x4E0A;&#x7684;&#x72EC;&#x5360;&#x9501;&#x4E4B;&#x524D;&#xFF0C;&#x6BCF;&#x4E2A;&#x9501;&#x90FD;&#x4F7F;&#x7528;&#x63D2;&#x5165;&#x610F;&#x56FE;&#x9501;&#x9501;&#x5B9A;4&#x548C;7&#x4E4B;&#x95F4;&#x7684;&#x95F4;&#x9699;&#xFF0C;&#x4F46;&#x662F;&#x4E0D;&#x8981;&#x4E92;&#x76F8;&#x963B;&#x585E;&#xFF0C;&#x56E0;&#x4E3A;&#x884C;&#x662F;&#x4E0D;&#x51B2;&#x7A81;&#x7684;&#xFF0C;&#x610F;&#x5411;&#x9501;&#x7684;&#x6D89;&#x53CA;&#x662F;&#x4E3A;&#x4E86;&#x63D2;&#x5165;&#x7684;&#x6B63;&#x786E;&#x548C;&#x9AD8;&#x6548;&#x3002;</p>
<h3 id="auto-inc-locks">AUTO-INC Locks</h3>
<h3 id="predicate-locks-for-spatial-indexes">Predicate Locks for Spatial Indexes</h3>
<h3 id="error-1213-40001-deadlock-found-when-trying-to-get-lock-try-restarting-transaction">ERROR 1213 (40001): Deadlock found when trying to get lock; try restarting transaction</h3>
<p>&#x4E09;&#x4E2A;&#x4E8B;&#x52A1;&#x90FD;&#x63D2;&#x5165;&#x76F8;&#x540C;&#x6570;&#x636E;&#xFF0C;&#x5176;&#x4E2D;&#x7B2C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x8FDB;&#x884C;&#x4E86;&#x56DE;&#x6EDA;&#xFF0C;&#x7B2C;&#x4E09;&#x4E2A;&#x4E8B;&#x52A1;&#x62A5;&#x9519;</p>
<p><img src="imgs/innodb-deadlock.png" alt=""></p>
<p>&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x56DE;&#x6EDA;&#x4E4B;&#x524D;&#xFF0C;&#x67E5;&#x770B;&#x4E8B;&#x52A1;&#x9501;&#x60C5;&#x51B5;</p>
<p><img src="imgs/innodb-deadlock2.png" alt=""></p>
<ul>
<li>&#x4E8B;&#x52A1;1&#x83B7;&#x5F97;&#x884C;&#x8BB0;&#x5F55;&#x4E0A;&#x7684;&#x6392;&#x5B83;&#x9501;&#xFF08;LOCK_X | LOCK_REC_NOT_GAP&#xFF09;</li>
<li>&#x7D27;&#x63A5;&#x7740;&#x4E8B;&#x52A1;T2&#x3001;T3&#x4E5F;&#x5F00;&#x59CB;&#x63D2;&#x5165;&#x8BB0;&#x5F55;&#xFF0C;&#x8BF7;&#x6C42;&#x6392;&#x5B83;&#x63D2;&#x5165;&#x610F;&#x5411;&#x9501;(LOCK_X | LOCK_GAP | LOCK_INSERT_INTENTION)&#xFF1B;&#x4F46;&#x7531;&#x4E8E;&#x53D1;&#x751F;&#x91CD;&#x590D;&#x552F;&#x4E00;&#x952E;&#x51B2;&#x7A81;&#xFF0C;&#x5404;&#x81EA;&#x8BF7;&#x6C42;&#x7684;&#x6392;&#x5B83;&#x8BB0;&#x5F55;&#x9501;(LOCK_X | LOCK_REC_NOT_GAP)&#x8F6C;&#x6210;&#x5171;&#x4EAB;&#x8BB0;&#x5F55;&#x9501;(LOCK_S | LOCK_REC_NOT_GAP)&#x3002;</li>
</ul>
<p>T1&#x56DE;&#x6EDA;&#x4F1A;&#x91CA;&#x653E;&#x5176;&#x83B7;&#x53D6;&#x5230;&#x5230;&#x6392;&#x5B83;&#x9501;&#xFF0C;T2,T3&#x90FD;&#x8981;&#x8BF7;&#x6C42;&#x6392;&#x5B83;&#x9501;&#xFF0C;&#x4F46;&#x662F;&#x7531;&#x4E8E;X&#x9501;&#x4E0E;S&#x9501;&#x4E92;&#x65A5;&#xFF0C;T2&#x4E0E;T3&#x90FD;&#x7B49;&#x5F85;&#x5BF9;&#x65B9;&#x91CA;&#x653E;S&#x9501;&#xFF0C;&#x4E8E;&#x662F;&#x4FBF;&#x4EA7;&#x751F;&#x4E86;&#x6B7B;&#x9501;</p>
<h3 id="error-1062-23000-duplicate-entry-6-for-key-primary">ERROR 1062 (23000): Duplicate entry &apos;6&apos; for key &apos;PRIMARY&apos;</h3>
<p><img src="imgs/innodb-duplicate.png" alt=""></p>
<p><img src="imgs/innodb-duplicate2.png" alt=""></p>
<h2 id="innodb&#x4E8B;&#x52A1;">Innodb&#x4E8B;&#x52A1;</h2>
<p><a href="https://blog.csdn.net/qq_26437925/article/details/50739813" target="_blank">&#x6570;&#x636E;&#x5E93;&#x4E8B;&#x52A1;&#x7684;4&#x4E2A;&#x7279;&#x6027;&#x7406;&#x89E3;</a></p>
<h3 id="mvccmultiversion-concurrency-control">MVCC(Multiversion concurrency control)</h3>
<p>MVCC&#x5168;&#x79F0;&#x662F;&#xFF1A; Multiversion concurrency control&#xFF0C;&#x591A;&#x7248;&#x672C;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#xFF0C;&#x63D0;&#x4F9B;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x65F6;&#xFF0C;&#x5BF9;&#x4E8B;&#x52A1;&#x5185;&#x8BFB;&#x53D6;&#x7684;&#x5230;&#x7684;&#x5185;&#x5B58;&#x505A;&#x5904;&#x7406;&#xFF0C;&#x7528;&#x6765;&#x907F;&#x514D;&#x5199;&#x64CD;&#x4F5C;&#x5835;&#x585E;&#x8BFB;&#x64CD;&#x4F5C;&#x7684;&#x5E76;&#x53D1;&#x95EE;&#x9898;&#x3002;</p>
<p>eg: &#x7A0B;&#x5E8F;&#x5458;A&#x6B63;&#x5728;&#x8BFB;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#x67D0;&#x4E9B;&#x5185;&#x5BB9;&#xFF0C;&#x800C;&#x7A0B;&#x5E8F;&#x5458;B&#x6B63;&#x5728;&#x7ED9;&#x8FD9;&#x4E9B;&#x5185;&#x5BB9;&#x505A;&#x4FEE;&#x6539;&#xFF08;&#x5047;&#x8BBE;&#x662F;&#x5728;&#x4E00;&#x4E2A;&#x4E8B;&#x52A1;&#x5185;&#x4FEE;&#x6539;&#xFF0C;&#x5927;&#x6982;&#x6301;&#x7EED;10s&#x5DE6;&#x53F3;&#xFF09;&#xFF0C;A&#x5728;&#x8FD9;10s&#x5185; &#x5219;&#x53EF;&#x80FD;&#x770B;&#x5230;&#x4E00;&#x4E2A;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x5728;B&#x6CA1;&#x6709;&#x63D0;&#x4EA4;&#x524D;&#xFF0C;&#x5982;&#x4F55;&#x8BA9;A&#x80FD;&#x591F;&#x4E00;&#x76F4;&#x8BFB;&#x5230;&#x7684;&#x6570;&#x636E;&#x90FD;&#x662F;&#x4E00;&#x81F4;&#x7684;&#x5462;&#xFF1F;</p>
<ul>
<li>&#x7B2C;&#x4E00;&#x79CD;&#xFF1A; &#x57FA;&#x4E8E;&#x9501;&#x7684;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;B&#x5F00;&#x59CB;&#x4FEE;&#x6539;&#x6570;&#x636E;&#x65F6;&#xFF0C;&#x7ED9;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x52A0;&#x4E0A;&#x9501;&#xFF0C;&#x7A0B;&#x5E8F;&#x5458;A&#x8FD9;&#x65F6;&#x518D;&#x8BFB;&#xFF0C;&#x5C31;&#x53D1;&#x73B0;&#x8BFB;&#x53D6;&#x4E0D;&#x4E86;&#xFF0C;&#x5904;&#x4E8E;&#x7B49;&#x5F85;&#x60C5;&#x51B5;&#xFF0C;&#x53EA;&#x80FD;&#x7B49;B&#x64CD;&#x4F5C;&#x5B8C;&#x624D;&#x80FD;&#x8BFB;&#x6570;&#x636E;&#xFF0C;&#x8FD9;&#x4FDD;&#x8BC1;A&#x4E0D;&#x4F1A;&#x8BFB;&#x5230;&#x4E00;&#x4E2A;&#x4E0D;&#x4E00;&#x81F4;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x4F1A;&#x5F71;&#x54CD;&#x7A0B;&#x5E8F;&#x7684;&#x8FD0;&#x884C;&#x6548;&#x7387;&#x3002;</li>
<li>MVCC&#xFF0C;&#x6BCF;&#x4E2A;&#x7528;&#x6237;&#x8FDE;&#x63A5;&#x6570;&#x636E;&#x5E93;&#x65F6;&#xFF0C;&#x770B;&#x5230;&#x7684;&#x90FD;&#x662F;&#x67D0;&#x4E00;&#x7279;&#x5B9A;&#x65F6;&#x523B;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5FEB;&#x7167;&#xFF0C;&#x5728;B&#x7684;&#x4E8B;&#x52A1;&#x6CA1;&#x6709;&#x63D0;&#x4EA4;&#x4E4B;&#x524D;&#xFF0C;A&#x59CB;&#x7EC8;&#x8BFB;&#x5230;&#x7684;&#x662F;&#x67D0;&#x4E00;&#x7279;&#x5B9A;&#x65F6;&#x523B;&#x7684;&#x6570;&#x636E;&#x5E93;&#x5FEB;&#x7167;&#xFF0C;&#x4E0D;&#x4F1A;&#x8BFB;&#x5230;B&#x4E8B;&#x52A1;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4FEE;&#x6539;&#x60C5;&#x51B5;&#xFF0C;&#x76F4;&#x5230;B&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#xFF0C;&#x624D;&#x4F1A;&#x8BFB;&#x53D6;B&#x7684;&#x4FEE;&#x6539;&#x5185;&#x5BB9;&#x3002;</li>
</ul>
<p>MVCC&#x5728;InnoDB&#x4E2D;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<p>InnoDB&#x7684;MVCC&#xFF0C;&#x901A;&#x8FC7;&#x5728;&#x6BCF;&#x884C;&#x8BB0;&#x5F55;&#x540E;&#x9762;&#x4FDD;&#x5B58;&#x4E24;&#x4E2A;&#x9690;&#x85CF;&#x7684;&#x5217;&#x6765;&#x5B9E;&#x73B0;&#xFF1A;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x4E86;&#x884C;&#x7684;&#x521B;&#x5EFA;&#x65F6;&#x95F4;&#xFF0C;&#x4E00;&#x4E2A;&#x4FDD;&#x5B58;&#x884C;&#x7684;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF08;&#x5220;&#x9664;&#x65F6;&#x95F4;&#xFF09;&#xFF0C;&#x5F53;&#x7136;&#xFF0C;&#x8FD9;&#x91CC;&#x7684;&#x65F6;&#x95F4;&#x5E76;&#x4E0D;&#x662F;&#x65F6;&#x95F4;&#x6233;&#xFF0C;&#x800C;&#x662F;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x53F7;&#xFF0C;&#x6BCF;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x4E8B;&#x52A1;&#xFF0C;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x53F7;&#x5C31;&#x4F1A;&#x9012;&#x589E;&#x3002;&#x5728;RR&#x9694;&#x79BB;&#x7EA7;&#x522B;&#x4E0B;&#xFF0C;MVCC&#x7684;&#x64CD;&#x4F5C;&#x5982;&#x4E0B;</p>
<ul>
<li><p>select&#x64CD;&#x4F5C;</p>
<ul>
<li>InnoDB&#x53EA;&#x67E5;&#x627E;&#x7248;&#x672C;&#x65E9;&#x4E8E;&#xFF08;&#x5305;&#x542B;&#x7B49;&#x4E8E;&#xFF09;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x7684;&#x6570;&#x636E;&#x884C;&#x3002;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x4E8B;&#x52A1;&#x8BFB;&#x53D6;&#x7684;&#x884C;&#xFF0C;&#x8981;&#x4E48;&#x662F;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x524D;&#x5C31;&#x5DF2;&#x5B58;&#x5728;&#xFF0C;&#x6216;&#x8005;&#x4E8B;&#x52A1;&#x81EA;&#x8EAB;&#x63D2;&#x5165;&#x6216;&#x4FEE;&#x6539;&#x7684;&#x8BB0;&#x5F55;&#x3002;</li>
<li>&#x884C;&#x7684;&#x5220;&#x9664;&#x7248;&#x672C;&#x8981;&#x4E48;&#x672A;&#x5B9A;&#x4E49;&#xFF0C;&#x8981;&#x4E48;&#x5927;&#x4E8E;&#x5F53;&#x524D;&#x4E8B;&#x52A1;&#x7248;&#x672C;&#x53F7;&#x3002;&#x53EF;&#x4EE5;&#x786E;&#x4FDD;&#x4E8B;&#x52A1;&#x8BFB;&#x53D6;&#x7684;&#x884C;&#xFF0C;&#x5728;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x672A;&#x5220;&#x9664;&#x3002; </li>
</ul>
</li>
<li><p>insert&#x64CD;&#x4F5C;&#x3002;&#x5C06;&#x65B0;&#x63D2;&#x5165;&#x7684;&#x884C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x884C;&#x7248;&#x672C;&#x53F7;&#x3002;</p>
</li>
<li><p>delete&#x64CD;&#x4F5C;&#x3002;&#x5C06;&#x5220;&#x9664;&#x7684;&#x884C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x5220;&#x9664;&#x6807;&#x8BC6;&#x3002;</p>
</li>
<li><p>update&#x64CD;&#x4F5C;&#x3002;&#x53D8;&#x4E3A;insert&#x548C;delete&#x64CD;&#x4F5C;&#x7684;&#x7EC4;&#x5408;&#xFF0C;insert&#x7684;&#x884C;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x7248;&#x672C;&#x53F7;&#x4E3A;&#x884C;&#x7248;&#x672C;&#x53F7;&#xFF0C;delete&#x5219;&#x4FDD;&#x5B58;&#x5F53;&#x524D;&#x7248;&#x672C;&#x53F7;&#x5230;&#x539F;&#x6765;&#x7684;&#x884C;&#x4F5C;&#x4E3A;&#x5220;&#x9664;&#x6807;&#x8BC6;&#x3002;</p>
</li>
</ul>
<p>&#x7531;&#x4E8E;&#x65E7;&#x6570;&#x636E;&#x5E76;&#x4E0D;&#x771F;&#x6B63;&#x7684;&#x5220;&#x9664;&#xFF0C;&#x6240;&#x4EE5;&#x5FC5;&#x987B;&#x5BF9;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x6E05;&#x7406;&#xFF0C;innodb&#x4F1A;&#x5F00;&#x542F;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x6E05;&#x7406;&#x5DE5;&#x4F5C;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x89C4;&#x5219;&#x662F;&#x5C06;&#x5220;&#x9664;&#x7248;&#x672C;&#x53F7;&#x5C0F;&#x4E8E;&#x5F53;&#x524D;&#x7CFB;&#x7EDF;&#x7248;&#x672C;&#x7684;&#x884C;&#x5220;&#x9664;&#xFF0C;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x53EB;&#x505A;purge&#x3002;</p>
<h3 id="&#x539F;&#x5B50;&#x6027;&#xFF1A;undo-log">&#x539F;&#x5B50;&#x6027;&#xFF1A;undo log</h3>
<p><code>undo log</code>&#x662F;&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x4E8B;&#x52A1;&#x7684;&#x539F;&#x5B50;&#x6027;&#xFF0C;&#x5728;Mysql&#x6570;&#x636E;&#x5E93;Innodb&#x5B58;&#x50A8;&#x5F15;&#x64CE;&#x4E2D;&#xFF0C;&#x8FD8;&#x7528;<code>undo log</code>&#x6765;&#x5B9E;&#x73B0;&#x591A;&#x7248;&#x672C;&#x5E76;&#x53D1;&#x63A7;&#x5236;(MVCC)</p>
<p>&#x5728;&#x64CD;&#x4F5C;&#x4EFB;&#x4F55;&#x6570;&#x636E;&#x4E4B;&#x524D;&#xFF0C;&#x9996;&#x5148;&#x5C06;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x5230;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#xFF08;&#x8FD9;&#x4E2A;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5907;&#x4EFD;&#x7684; &#x5730;&#x65B9;&#x79F0;&#x4E3A;undo log&#xFF09;&#xFF1B;&#x7136;&#x540E;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x7684;&#x4FEE;&#x6539;&#x3002;&#x5982;&#x679C;&#x51FA;&#x73B0;&#x4E86;&#x9519;&#x8BEF;&#x6216;&#x8005;&#x7528;&#x6237;&#x6267;&#x884C;&#x4E86;<code>rollback</code>,&#x7CFB;&#x7EDF;&#x5229;&#x7528;undo log&#x7684;&#x5907;&#x4EFD;&#x6570;&#x636E;&#x5C06;&#x6570;&#x636E;&#x6062;&#x590D;&#x5230;&#x4E8B;&#x52A1;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x7684;&#x72B6;&#x6001;</p>
<p>undo log&#x662F;&#x903B;&#x8F91;&#x65E5;&#x5FD7;&#x3002;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x4E3A;&#xFF1A;&#x53EA;&#x8981;&#x6709;insert&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x8BB0;&#x5F55;&#x4E00;&#x6761;&#x5220;&#x9664;&#x8BB0;&#x5F55;&#xFF1B;&#x6709;delete&#x64CD;&#x4F5C;&#xFF0C;&#x5C31;&#x8BB0;&#x5F55;&#x4E00;&#x6761;&#x65B0;&#x589E;&#x8BB0;&#x5F55;&#xFF0C;&#x6709;update&#x64CD;&#x4F5C;&#xFF0C;&#x8BB0;&#x5F55;update&#x524D;&#x7684;&#x6570;&#x636E;update&#x64CD;&#x4F5C;;&#x8FD9;&#x6837;&#x6062;&#x590D;&#x64CD;&#x4F5C;&#x53BB;&#x6267;&#x884C;&#xFF0C;&#x5C31;&#x80FD;&#x56DE;&#x5230;&#x4E8B;&#x52A1;&#x4E4B;&#x524D;&#x7684;&#x72B6;&#x6001;</p>
<h4 id="undo-log-&#x76F8;&#x5173;&#x53C2;&#x6570;">undo log &#x76F8;&#x5173;&#x53C2;&#x6570;</h4>
<pre class="language-"><code class="lang-java">mysql<span class="token operator">&gt;</span> show global variables like <span class="token string">&apos;%undo%&apos;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token class-name">Variable_name</span>            <span class="token operator">|</span> <span class="token class-name">Value</span>      <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token operator">|</span> innodb_max_undo_log_size <span class="token operator">|</span> <span class="token number">1073741824</span> <span class="token operator">|</span>
<span class="token operator">|</span> innodb_undo_directory    <span class="token operator">|</span> <span class="token punctuation">.</span>/         <span class="token operator">|</span>
<span class="token operator">|</span> innodb_undo_log_truncate <span class="token operator">|</span> OFF        <span class="token operator">|</span>
<span class="token operator">|</span> innodb_undo_logs         <span class="token operator">|</span> <span class="token number">128</span>        <span class="token operator">|</span>
<span class="token operator">|</span> innodb_undo_tablespaces  <span class="token operator">|</span> <span class="token number">0</span>          <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span>
<span class="token number">5</span> rows in set <span class="token punctuation">(</span><span class="token number">0.05</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span> show global variables like <span class="token string">&apos;%truncate%&apos;</span><span class="token punctuation">;</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> <span class="token class-name">Variable_name</span>                        <span class="token operator">|</span> <span class="token class-name">Value</span> <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token operator">|</span> innodb_purge_rseg_truncate_frequency <span class="token operator">|</span> <span class="token number">128</span>   <span class="token operator">|</span>
<span class="token operator">|</span> innodb_undo_log_truncate             <span class="token operator">|</span> OFF   <span class="token operator">|</span>
<span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">+</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">--</span><span class="token operator">-</span><span class="token operator">+</span>
<span class="token number">2</span> rows in set <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>

mysql<span class="token operator">&gt;</span>
</code></pre>
<ul>
<li><p>innodb_max_undo_log_size</p>
<p>  &#x63A7;&#x5236;&#x6700;&#x5927;undo tablespace&#x6587;&#x4EF6;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x5F53;&#x542F;&#x52A8;&#x4E86;innodb_undo_log_truncate &#x65F6;&#xFF0C;undo tablespace &#x8D85;&#x8FC7;innodb_max_undo_log_size &#x9600;&#x503C;&#x65F6;&#x624D;&#x4F1A;&#x53BB;&#x5C1D;&#x8BD5;truncate&#x3002;&#x8BE5;&#x503C;&#x9ED8;&#x8BA4;&#x5927;&#x5C0F;&#x4E3A;1G&#xFF0C;truncate&#x540E;&#x7684;&#x5927;&#x5C0F;&#x9ED8;&#x8BA4;&#x4E3A;10M&#x3002;</p>
</li>
<li><p>innodb_undo_tablespaces</p>
<p>  &#x8BBE;&#x7F6E;undo&#x72EC;&#x7ACB;&#x8868;&#x7A7A;&#x95F4;&#x4E2A;&#x6570;&#xFF0C;&#x8303;&#x56F4;&#x4E3A;0-128&#xFF0C; &#x9ED8;&#x8BA4;&#x4E3A;0&#xFF0C;0&#x8868;&#x793A;&#x8868;&#x793A;&#x4E0D;&#x5F00;&#x542F;&#x72EC;&#x7ACB;undo&#x8868;&#x7A7A;&#x95F4; &#x4E14; undo&#x65E5;&#x5FD7;&#x5B58;&#x50A8;&#x5728;ibdata&#x6587;&#x4EF6;&#x4E2D;&#x3002;&#x8BE5;&#x53C2;&#x6570;&#x53EA;&#x80FD;&#x5728;&#x6700;&#x5F00;&#x59CB;&#x521D;&#x59CB;&#x5316;MySQL&#x5B9E;&#x4F8B;&#x7684;&#x65F6;&#x5019;&#x6307;&#x5B9A;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x4F8B;&#x5DF2;&#x521B;&#x5EFA;&#xFF0C;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x4E0D;&#x80FD;&#x53D8;&#x52A8;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x5728;&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;&#x6587; &#x4EF6; .cnf &#x4E2D;&#x6307;&#x5B9A;innodb_undo_tablespaces &#x7684;&#x4E2A;&#x6570;&#x5927;&#x4E8E;&#x5B9E;&#x4F8B;&#x521B;&#x5EFA;&#x65F6;&#x7684;&#x6307;&#x5B9A;&#x4E2A;&#x6570;&#xFF0C;&#x5219;&#x4F1A;&#x542F;&#x52A8;&#x5931;&#x8D25;&#xFF0C;&#x63D0;&#x793A;&#x8BE5;&#x53C2;&#x6570;&#x8BBE;&#x7F6E;&#x6709;&#x8BEF;&#x3002;&#x5982;&#x679C;&#x8BBE;&#x7F6E;&#x4E86;&#x8BE5;&#x53C2;&#x6570;&#x4E3A;n&#xFF08;n&gt;0&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4F1A;&#x5728;undo&#x76EE;&#x5F55;&#x4E0B;&#x521B;&#x5EFA;n&#x4E2A;undo&#x6587;&#x4EF6;&#xFF08;undo001&#xFF0C;undo002 ...... undo n&#xFF09;&#xFF0C;&#x6BCF;&#x4E2A;&#x6587;&#x4EF6;&#x9ED8;&#x8BA4;&#x5927;&#x5C0F;&#x4E3A;10M.</p>
</li>
</ul>
<p>&#x4EC0;&#x4E48;&#x65F6;&#x5019;&#x9700;&#x8981;&#x6765;&#x8BBE;&#x7F6E;&#x8FD9;&#x4E2A;&#x53C2;&#x6570;&#x5462;&#xFF1F;
    &#x5F53;DB&#x5199;&#x538B;&#x529B;&#x8F83;&#x5927;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;&#x72EC;&#x7ACB;UNDO&#x8868;&#x7A7A;&#x95F4;&#xFF0C;&#x628A;UNDO LOG&#x4ECE;ibdata&#x6587;&#x4EF6;&#x4E2D;&#x5206;&#x79BB;&#x5F00;&#x6765;&#xFF0C;&#x6307;&#x5B9A; innodb_undo_directory&#x76EE;&#x5F55;&#x5B58;&#x653E;&#xFF0C;&#x53EF;&#x4EE5;&#x6307;&#x5B9A;&#x5230;&#x9AD8;&#x901F;&#x78C1;&#x76D8;&#x4E0A;&#xFF0C;&#x52A0;&#x5FEB;UNDO LOG &#x7684;&#x8BFB;&#x5199;&#x6027;&#x80FD;&#x3002;</p>
<ul>
<li><p>innodb_undo_log_truncate</p>
<p>  InnoDB&#x7684;purge&#x7EBF;&#x7A0B;&#xFF0C;&#x6839;&#x636E;innodb_undo_log_truncate&#x8BBE;&#x7F6E;&#x5F00;&#x542F;&#x6216;&#x5173;&#x95ED;&#x3001;innodb_max_undo_log_size&#x7684;&#x53C2;&#x6570;&#x503C;&#xFF0C;&#x4EE5;&#x53CA;truncate&#x7684;&#x9891;&#x7387;&#x6765;&#x8FDB;&#x884C;&#x7A7A;&#x95F4;&#x56DE;&#x6536;&#x548C; undo file &#x7684;&#x91CD;&#x65B0;&#x521D;&#x59CB;&#x5316;&#x3002;</p>
</li>
<li><p>innodb_purge_rseg_truncate_frequency</p>
<p>  &#x7528;&#x4E8E;&#x63A7;&#x5236;purge&#x56DE;&#x6EDA;&#x6BB5;&#x7684;&#x9891;&#x5EA6;&#xFF0C;&#x9ED8;&#x8BA4;&#x4E3A;128&#x3002;&#x5047;&#x8BBE;&#x8BBE;&#x7F6E;&#x4E3A;n&#xFF0C;&#x5219;&#x8BF4;&#x660E;&#xFF0C;&#x5F53;Innodb Purge&#x64CD;&#x4F5C;&#x7684;&#x534F;&#x8C03;&#x7EBF;&#x7A0B; purge&#x4E8B;&#x52A1;128&#x6B21;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x89E6;&#x53D1;&#x4E00;&#x6B21;History purge&#xFF0C;&#x68C0;&#x67E5;&#x5F53;&#x524D;&#x7684;undo log &#x8868;&#x7A7A;&#x95F4;&#x72B6;&#x6001;&#x662F;&#x5426;&#x4F1A;&#x89E6;&#x53D1;truncate&#x3002;</p>
</li>
</ul>
<h3 id="&#x6301;&#x4E45;&#x6027;&#xFF1A;redo-log">&#x6301;&#x4E45;&#x6027;&#xFF1A;redo log</h3>
<p>&#x548C;undo log&#x76F8;&#x53CD;&#xFF0C;<code>redo log</code>&#x8BB0;&#x5F55;&#x7684;&#x662F;&#x65B0;&#x6570;&#x636E;&#x7684;&#x5907;&#x4EFD;&#xFF0C;<font color="red">&#x5F53;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x524D;&#xFF0C;&#x53EA;&#x8981;&#x5C06;redo log&#x6301;&#x4E45;&#x5316;&#x5373;&#x53EF;&#xFF0C;&#x4E0D;&#x9700;&#x8981;&#x5C06;&#x6570;&#x636E;&#x6301;&#x4E45;&#x5316;</font>&#xFF0C;&#x5F53;&#x7CFB;&#x7EDF;&#x5D29;&#x6E83;&#x65F6;&#xFF0C;&#x867D;&#x7136;&#x6570;&#x636E;&#x6CA1;&#x6709;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x4F46;&#x662F;redo log&#x5DF2;&#x7ECF;&#x6301;&#x4E45;&#x5316;&#xFF0C;&#x7CFB;&#x7EDF;&#x53EF;&#x4EE5;&#x6839;&#x636E;redo log&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x5C06;&#x6240;&#x6709;&#x6570;&#x636E;&#x6062;&#x590D;&#x5230;&#x6700;&#x65B0;&#x7684;&#x72B6;&#x6001;</p>
<p><img src="imgs/redo.png" alt=""></p>
<p>redo log&#x8BB0;&#x5F55;&#x7684;&#x7269;&#x7406;&#x683C;&#x5F0F;&#x65E5;&#x5FD7;&#xFF0C;&#x5176;&#x8BB0;&#x5F55;&#x7684;&#x662F;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E2A;&#x9875;&#x7684;&#x4FEE;&#x6539;&#xFF0C;&#x8BB0;&#x5F55;&#x4E86;&#x4E8B;&#x52A1;&#x7684;&#x884C;&#x4E3A;</p>
<h3 id="undo--redo-log&#x6587;&#x4EF6;&#x64CD;&#x4F5C;">undo / redo log&#x6587;&#x4EF6;&#x64CD;&#x4F5C;</h3>
<h4 id="redo-log&#x6301;&#x4E45;&#x5316;&#x7B56;&#x7565;">redo log&#x6301;&#x4E45;&#x5316;&#x7B56;&#x7565;</h4>
<p><img src="imgs/innodb-log.png" alt=""></p>
<p>mysql&#x8FDB;&#x7A0B;&#x6302;&#xFF1F;&#x673A;&#x5668;&#x6302;&#xFF1F;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x8003;&#x8651;&#xFF1F;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x8003;&#x8651;&#xFF1F;</p>
<ul>
<li>0 &#x53EA;&#x5199;redo log&#xFF0C;&#x6BCF;&#x79D2;&#x843D;&#x5730;&#x4E00;&#x6B21;&#xFF0C;&#x6027;&#x80FD;&#x6700;&#x9AD8;&#xFF0C;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#x6700;&#x5DEE;&#xFF0C;&#x5982;&#x679C;mysql&#x5954;&#x6E83;&#x53EF;&#x80FD;&#x4E22;&#x5931;&#x4E00;&#x79D2;&#x7684;&#x6570;&#x636E;&#xFF08;master thread&#x6BCF;&#x9694;1&#x79D2;&#x8FDB;&#x884C;&#x4E00;&#x6B21;fsync&#x64CD;&#x4F5C;&#xFF09;</li>
<li>1&#xFF08;&#x9ED8;&#x8BA4;&#x503C;&#xFF09;&#x8868;&#x793A;&#x6BCF;&#x6B21;&#x4E8B;&#x52A1;&#x63D0;&#x4EA4;&#x65F6;&#x8FDB;&#x884C;&#x5199;redo log file&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x6027;&#x80FD;&#x6700;&#x5DEE;&#xFF0C;&#x4E00;&#x81F4;&#x6027;&#x6700;&#x9AD8;</li>
<li>2 &#x5199;redo log&#xFF0C;buffer&#x540C;&#x65F6;&#x5199;&#x5165;&#x5230;os buffer&#xFF0C;&#x6027;&#x80FD;&#x597D;&#xFF0C;&#x5B89;&#x5168;&#x6027;&#x4E5F;&#x9AD8;&#xFF0C;&#x53EA;&#x8981;os&#x4E0D;&#x5B95;&#x673A;&#x5C31;&#x80FD;&#x4FDD;&#x8BC1;&#x6570;&#x636E;&#x4E00;&#x81F4;&#x6027;&#xFF08;&#x4E0D;&#x8FDB;&#x884C;fsync&#x64CD;&#x4F5C;&#xFF09;</li>
</ul>
<h3 id="&#x9694;&#x79BB;&#x6027;">&#x9694;&#x79BB;&#x6027;</h3>
<p><a href="https://blog.csdn.net/qq_26437925/article/details/80270741" target="_blank">&#x6211;&#x7684;&#x535A;&#x6587;&#x5B9E;&#x8DF5;</a></p>
<h2 id="&#x4E3B;&#x4ECE;&#x590D;&#x5236;">&#x4E3B;&#x4ECE;&#x590D;&#x5236;</h2>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;&#x9700;&#x8981;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#xFF1F;</h3>
<ul>
<li>&#x5F53;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x4ECE;&#x6570;&#x636E;&#x5E93;&#x4EE3;&#x66FF;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x53EF;&#x4EE5;&#x907F;&#x514D;&#x6570;&#x636E;&#x7684;&#x4E22;&#x5931;&#xFF08;&#x6570;&#x636E;&#x70ED;&#x5907;&#xFF09;</li>
<li>&#x51CF;&#x8F7B;&#x4E3B;&#x6570;&#x636E;&#x5E93;&#x7684;&#x538B;&#x529B;&#xFF0C;&#x964D;&#x4F4E;&#x5355;&#x673A;&#x7684;&#x78C1;&#x76D8;I/O&#x8BBF;&#x95EE;&#x7387;&#xFF0C;&#x63D0;&#x9AD8;&#x5355;&#x4E2A;&#x673A;&#x5668;&#x7684;I/O&#x6027;&#x80FD;</li>
<li>&#x5728;&#x4E1A;&#x52A1;&#x590D;&#x6742;&#x7684;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x60C5;&#x666F;&#xFF0C;&#x6709;&#x4E00;&#x53E5;sql&#x8BED;&#x53E5;&#x9700;&#x8981;&#x9501;&#x8868;&#xFF0C;&#x5BFC;&#x81F4;&#x6682;&#x65F6;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x8BFB;&#x7684;&#x670D;&#x52A1;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x5F88;&#x5F71;&#x54CD;&#x8FD0;&#x884C;&#x4E2D;&#x7684;&#x4E1A;&#x52A1;&#xFF0C;&#x4F7F;&#x7528;&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#xFF0C;&#x8BA9;&#x4E3B;&#x5E93;&#x8D1F;&#x8D23;&#x5199;&#xFF0C;&#x4ECE;&#x5E93;&#x8D1F;&#x8D23;&#x8BFB;&#xFF0C;&#x8FD9;&#x6837;&#xFF0C;&#x5373;&#x4F7F;&#x4E3B;&#x5E93;&#x51FA;&#x73B0;&#x4E86;&#x9501;&#x8868;&#x7684;&#x60C5;&#x666F;&#xFF0C;&#x4E5F;&#x80FD;&#x901A;&#x8FC7;&#x8BFB;&#x4ECE;&#x5E93;&#x4E5F;&#x53BB;&#x4FDD;&#x8BC1;&#x4E1A;&#x52A1;&#x7684;&#x6B63;&#x5E38;&#x8FD0;&#x4F5C;</li>
</ul>
<h3 id="&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x539F;&#x7406;&#xFF1F;">&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x7684;&#x539F;&#x7406;&#xFF1F;</h3>
<ul>
<li>&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x7684;&#x4EFB;&#x4F55;&#x4FEE;&#x6539;&#x90FD;&#x4F1A;&#x901A;&#x8FC7;&#x81EA;&#x5DF1;&#x7684;<code>I/O thread</code>(I/O &#x7EBF;&#x7A0B;)&#x4FDD;&#x5B58;&#x5728;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;<code>Binary log</code>&#x91CC;&#x9762;</li>
<li>&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x7684;binlog&#x8F93;&#x51FA;&#x7EBF;&#x7A0B;&#xFF1A;&#x6BCF;&#x5F53;&#x6709;&#x4ECE;&#x5E93;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x5E93;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x4E3B;&#x5E93;&#x90FD;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x7136;&#x540E;&#x53D1;&#x9001;binlog&#x5185;&#x5BB9;&#x5230;&#x4ECE;&#x5E93;&#xFF1B;&#x5BF9;&#x4E8E;&#x6BCF;&#x4E00;&#x4E2A;&#x5373;&#x5C06;&#x53D1;&#x9001;&#x7ED9;&#x4ECE;&#x5E93;&#x7684;sql&#x4E8B;&#x4EF6;&#xFF0C;binlog&#x8F93;&#x51FA;&#x7EBF;&#x7A0B;&#x4F1A;&#x5C06;&#x5176;&#x9501;&#x4F4F;&#x3002;&#x4E00;&#x65E6;&#x8BE5;&#x4E8B;&#x4EF6;&#x88AB;&#x7EBF;&#x7A0B;&#x8BFB;&#x53D6;&#x5B8C;&#x4E4B;&#x540E;&#xFF0C;&#x8BE5;&#x9501;&#x4F1A;&#x88AB;&#x91CA;&#x653E;&#xFF0C;&#x5373;&#x4F7F;&#x5728;&#x8BE5;&#x4E8B;&#x4EF6;&#x5B8C;&#x5168;&#x53D1;&#x9001;&#x5230;&#x4ECE;&#x5E93;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8BE5;&#x9501;&#x4E5F;&#x4F1A;&#x88AB;&#x91CA;&#x653E;</li>
<li>&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x4E5F;&#x542F;&#x52A8;&#x4E00;&#x4E2A;<code>I/O thread</code>&#xFF0C;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x597D;&#x7684;&#x7528;&#x6237;&#x540D;&#x548C;&#x5BC6;&#x7801;, &#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x8BF7;&#x6C42;&#x8BFB;&#x53D6;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#xFF0C;&#x7136;&#x540E;&#x628A;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x5199;&#x5230;&#x672C;&#x5730;&#x7684;&#x4E00;&#x4E2A;<code>Realy log</code>&#xFF08;&#x4E2D;&#x7EE7;&#x65E5;&#x5FD7;&#xFF09;&#x91CC;&#x9762;</li>
<li>&#x4ECE;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x9762;&#x540C;&#x65F6;&#x5F00;&#x542F;&#x4E00;&#x4E2A;<code>SQL thread</code>&#x5B9A;&#x65F6;&#x68C0;&#x67E5;<code>Realy log</code>(&#x8FD9;&#x4E2A;&#x6587;&#x4EF6;&#x4E5F;&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x7684;)&#xFF0C;&#x5982;&#x679C;&#x53D1;&#x73B0;&#x6709;&#x66F4;&#x65B0;&#x7ACB;&#x5373;&#x628A;&#x66F4;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x5728;&#x672C;&#x673A;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x9762;&#x6267;&#x884C;&#x4E00;&#x904D;</li>
</ul>
<p><img src="imgs/master_slave.png" alt=""></p>
<p>&#x57FA;&#x672C;&#x6B65;&#x9AA4;&#x5982;&#x4E0B;&#xFF08;&#x6CE8;&#x610F;&#x6574;&#x4E2A;mysql&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x662F;<font color="red">&#x5F02;&#x6B65;&#x7684;</font>&#xFF09;</p>
<pre class="language-"><code>* &#x6B65;&#x9AA4;&#x4E00;&#xFF1A;&#x4E3B;&#x5E93;db&#x7684;&#x66F4;&#x65B0;&#x4E8B;&#x4EF6;(update&#x3001;insert&#x3001;delete)&#x88AB;&#x5199;&#x5230;binlog
* &#x6B65;&#x9AA4;&#x4E8C;&#xFF1A;&#x4ECE;&#x5E93;&#x53D1;&#x8D77;&#x8FDE;&#x63A5;&#xFF0C;&#x8FDE;&#x63A5;&#x5230;&#x4E3B;&#x5E93;
* &#x6B65;&#x9AA4;&#x4E09;&#xFF1A;&#x6B64;&#x65F6;&#x4E3B;&#x5E93;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;binlog dump thread&#xFF0C;&#x628A;binlog&#x7684;&#x5185;&#x5BB9;&#x53D1;&#x9001;&#x5230;&#x4ECE;&#x5E93;
* &#x6B65;&#x9AA4;&#x56DB;&#xFF1A;&#x4ECE;&#x5E93;&#x542F;&#x52A8;&#x4E4B;&#x540E;&#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;I/O&#x7EBF;&#x7A0B;&#xFF0C;&#x8BFB;&#x53D6;&#x4E3B;&#x5E93;&#x4F20;&#x8FC7;&#x6765;&#x7684;binlog&#x5185;&#x5BB9;&#x5E76;&#x5199;&#x5165;&#x5230;relay log
* &#x6B65;&#x9AA4;&#x4E94;&#xFF1A;&#x8FD8;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;SQL&#x7EBF;&#x7A0B;&#xFF0C;&#x4ECE;relay log&#x91CC;&#x9762;&#x8BFB;&#x53D6;&#x5185;&#x5BB9;&#xFF0C;&#x4ECE;Exec_Master_Log_Pos&#x4F4D;&#x7F6E;&#x5F00;&#x59CB;&#x6267;&#x884C;&#x8BFB;&#x53D6;&#x5230;&#x7684;&#x66F4;&#x65B0;&#x4E8B;&#x4EF6;&#xFF0C;&#x5C06;&#x66F4;&#x65B0;&#x5185;&#x5BB9;&#x5199;&#x5165;&#x5230;slave&#x7684;db
</code></pre><h3 id="binlog&#x6587;&#x4EF6;">binlog&#x6587;&#x4EF6;</h3>
<h4 id="binlog&#x6587;&#x4EF6;&#x6982;&#x8FF0;">binlog&#x6587;&#x4EF6;&#x6982;&#x8FF0;</h4>
<ul>
<li>&#x67E5;&#x770B;&#x662F;&#x5426;&#x5F00;&#x542F;binlog</li>
</ul>
<pre class="language-"><code class="lang-sql"><span class="token keyword">show</span> variables <span class="token operator">like</span> <span class="token string">&apos;log_bin&apos;</span><span class="token punctuation">;</span>
</code></pre>
<p>binlog&#x662F;&#x4E8C;&#x8FDB;&#x5236;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#xFF0C;&#x662F;&#x7531;mysql server&#x7EF4;&#x62A4;&#x7684;,&#x7528;&#x4E8E;&#x8BB0;&#x5F55;mysql&#x7684;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x6216;&#x8005;&#x6F5C;&#x5728;&#x66F4;&#x65B0;(&#x6BD4;&#x5982;DELETE&#x8BED;&#x53E5;&#x6267;&#x884C;&#x5220;&#x9664;&#x800C;&#x5B9E;&#x9645;&#x5E76;&#x6CA1;&#x6709;&#x7B26;&#x5408;&#x6761;&#x4EF6;&#x7684;&#x6570;&#x636E;)&#xFF0C;&#x5728;mysql&#x4E3B;&#x4ECE;&#x590D;&#x5236;&#x4E2D;&#x5C31;&#x662F;&#x4F9D;&#x9760;&#x7684;binlog&#xFF1B;&#x6267;&#x884C;SELECT&#x7B49;&#x4E0D;&#x6D89;&#x53CA;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x7684;&#x8BED;&#x53E5;&#x662F;&#x4E0D;&#x4F1A;&#x8BB0;binlog&#x7684;&#xFF0C;&#x800C;&#x6D89;&#x53CA;&#x5230;&#x6570;&#x636E;&#x66F4;&#x65B0;&#x5219;&#x4F1A;&#x8BB0;&#x5F55;&#x3002;&#x8981;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x5BF9;&#x652F;&#x6301;&#x4E8B;&#x52A1;&#x7684;&#x5F15;&#x64CE;&#x5982;innodb&#x800C;&#x8A00;&#xFF0C;&#x5FC5;&#x987B;&#x8981;&#x63D0;&#x4EA4;&#x4E86;&#x4E8B;&#x52A1;&#x624D;&#x4F1A;&#x8BB0;&#x5F55;binlog&#x3002;</p>
<p><a href="https://dev.mysql.com/doc/internals/en/binary-log-overview.html" target="_blank">binary-log</a></p>
<p>The binary log is a set of log files that contain information about data modifications made to a MySQL server instance. The log is enabled by starting the server with the --log-bin option.</p>
<h4 id="binlog&#x6587;&#x4EF6;&#x4F5C;&#x7528;">binlog&#x6587;&#x4EF6;&#x4F5C;&#x7528;</h4>
<p>The binary log has two important purposes:</p>
<ul>
<li><p>For replication, the binary log is used on master replication servers as a record of the statements to be sent to slave servers. Many details of binary log format and handling are specific to this purpose. The master server sends the events contained in its binary log to its slaves, which execute those events to make the same data changes that were made on the master. A slave stores events received from the master in its relay log until they can be executed. The relay log has the same format as the binary log.</p>
</li>
<li><p>Certain data recovery operations require use of the binary log. After a backup file has been restored, the events in the binary log that were recorded after the backup was made are re-executed. These events bring databases up to date from the point of the backup.</p>
</li>
</ul>
<p>&#x4E3B;&#x4ECE;&#x590D;&#x5236; &amp; &#x6570;&#x636E;&#x6062;&#x590D;</p>
<h4 id="binlog&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;">binlog&#x6587;&#x4EF6;&#x8BB0;&#x5F55;&#x7C7B;&#x578B;</h4>
<ul>
<li><p>Statement-based logging: Events contain SQL statements that produce data changes (inserts, updates, deletes)</p>
</li>
<li><p>Row-based logging: Events describe changes to individual rows</p>
</li>
<li><p>Mixed logging uses statement-based logging by default but switches to row-based logging automatically as necessary.</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>format</th>
<th>&#x5B9A;&#x4E49;</th>
<th>&#x4F18;&#x70B9;</th>
<th>&#x7F3A;&#x70B9;</th>
</tr>
</thead>
<tbody>
<tr>
<td>statement</td>
<td>&#x8BB0;&#x5F55;&#x4FEE;&#x6539;&#x7684;sql&#x8BED;&#x53E5;</td>
<td>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5C0F;&#xFF0C;&#x8282;&#x7EA6;IO&#xFF0C;&#x63D0;&#x9AD8;&#x6027;&#x80FD;</td>
<td>&#x51C6;&#x786E;&#x6027;&#x5DEE;&#xFF0C;&#x5BF9;&#x4E00;&#x4E9B;&#x7CFB;&#x7EDF;&#x51FD;&#x6570;&#x4E0D;&#x80FD;&#x51C6;&#x786E;&#x590D;&#x5236;&#x6216;&#x4E0D;&#x80FD;&#x590D;&#x5236;&#xFF0C;&#x5982;now()&#x3001;uuid()&#x3001;limit(&#x7531;&#x4E8E;mysql&#x662F;&#x81EA;&#x9009;&#x7D22;&#x5F15;&#xFF0C;&#x6709;&#x53EF;&#x80FD;master&#x540C;salve&#x9009;&#x62E9;&#x7684;&#x7D22;&#x5F15;&#x4E0D;&#x540C;&#xFF0C;&#x5BFC;&#x81F4;&#x66F4;&#x65B0;&#x7684;&#x5185;&#x5BB9;&#x4E5F;&#x4E0D;&#x540C;)&#x7B49;;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;&#x5BFC;&#x81F4;master-slave&#x4E2D;&#x7684;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;(&#x5982;sleep()&#x51FD;&#x6570;&#xFF0C; last_insert_id()&#xFF0C;&#x4EE5;&#x53CA;user-defined functions(udf)&#x7B49;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;)</td>
</tr>
<tr>
<td>row</td>
<td>&#x8BB0;&#x5F55;&#x7684;&#x662F;&#x6BCF;&#x884C;&#x5B9E;&#x9645;&#x6570;&#x636E;&#x7684;&#x53D8;&#x66F4;</td>
<td>&#x51C6;&#x786E;&#x6027;&#x5F3A;&#xFF0C;&#x80FD;&#x51C6;&#x786E;&#x590D;&#x5236;&#x6570;&#x636E;&#x7684;&#x53D8;&#x66F4;</td>
<td>&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x5927;&#xFF0C;&#x8F83;&#x5927;&#x7684;&#x7F51;&#x7EDC;IO&#x548C;&#x78C1;&#x76D8;IO</td>
</tr>
<tr>
<td>mixed</td>
<td>statement&#x548C;row&#x6A21;&#x5F0F;&#x7684;&#x6DF7;&#x5408;</td>
<td>&#x51C6;&#x786E;&#x6027;&#x5F3A;&#xFF0C;&#x6587;&#x4EF6;&#x5927;&#x5C0F;&#x9002;&#x4E2D;</td>
<td>&#x5F53;binlog format &#x8BBE;&#x7F6E;&#x4E3A;mixed&#x65F6;&#xFF0C;&#x666E;&#x901A;&#x590D;&#x5236;&#x4E0D;&#x4F1A;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x662F;&#x7EA7;&#x8054;&#x590D;&#x5236;&#x5728;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x4E0B;&#x4F1A;binlog&#x4E22;&#x5931;</td>
</tr>
</tbody>
</table>
<ul>
<li>&#x67E5;&#x770B; binlog &#x683C;&#x5F0F;</li>
</ul>
<p><img src="imgs/binlog.png" alt=""></p>
<p>&#x4E1A;&#x5185;&#x76EE;&#x524D;&#x63A8;&#x8350;&#x4F7F;&#x7528;&#x7684;&#x662F;<code>row</code>&#x6A21;&#x5F0F;&#xFF0C;<strong>&#x51C6;&#x786E;&#x6027;&#x9AD8;</strong>&#xFF0C;&#x867D;&#x7136;&#x6587;&#x4EF6;&#x5927;&#xFF0C;&#x4F46;&#x662F;&#x73B0;&#x5728;&#x6709;SSD&#x548C;&#x4E07;&#x5146;&#x5149;&#x7EA4;&#x7F51;&#x7EDC;&#xFF0C;&#x8FD9;&#x4E9B;&#x78C1;&#x76D8;IO&#x548C;&#x7F51;&#x7EDC;IO&#x90FD;&#x662F;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x7684;&#x3002;</p>
<h2 id="&#x5206;&#x5E93;&#x5206;&#x8868;">&#x5206;&#x5E93;/&#x5206;&#x8868;</h2>
<h3 id="&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5206;&#x8868;&#x5206;&#x5E93;&#xFF1F;">&#x4E3A;&#x4EC0;&#x4E48;&#x4F1A;&#x5206;&#x8868;&#x5206;&#x5E93;&#xFF1F;</h3>
<p>&#x652F;&#x6491;&#x9AD8;&#x5E76;&#x53D1;&#x3001;&#x5927;&#x6570;&#x636E;&#x91CF;</p>
<p>&#x7ECF;&#x9A8C;&#x503C;&#xFF1A;&#x5355;&#x8868;&#x5230;<code>&#x51E0;&#x767E;&#x4E07;</code>&#x8BB0;&#x5F55;&#xFF0C;&#x5B58;&#x50A8;<code>&#x51E0;&#x767E;G</code>&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6027;&#x80FD;&#x5C31;&#x4F1A;&#x76F8;&#x5BF9;&#x5DEE;&#x4E00;&#x4E9B;&#x4E86;</p>
<h3 id="&#x5206;&#x8868;--&#x5206;&#x5E93;&#x6982;&#x5FF5;">&#x5206;&#x8868; &amp; &#x5206;&#x5E93;&#x6982;&#x5FF5;</h3>
<p>&#x5206;&#x5E93;&#x5206;&#x8868;&#x5C31;&#x662F;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x7531;&#x4E8E;&#x6570;&#x636E;&#x91CF;&#x8FC7;&#x5927;&#x800C;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x964D;&#x4F4E;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5C06;&#x539F;&#x6765;&#x72EC;&#x7ACB;&#x7684;&#x6570;&#x636E;&#x5E93;&#x62C6;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x6570;&#x636E;&#x5E93;&#x7EC4;&#x6210; &#xFF0C;&#x5C06;&#x6570;&#x636E;&#x5927;&#x8868;&#x62C6;&#x5206;&#x6210;&#x82E5;&#x5E72;&#x6570;&#x636E;&#x8868;&#x7EC4;&#x6210;&#xFF0C;&#x4F7F;&#x5F97;&#x5355;&#x4E00;&#x6570;&#x636E;&#x5E93;&#x3001;&#x5355;&#x4E00;&#x6570;&#x636E;&#x8868;&#x7684;&#x6570;&#x636E;&#x91CF;&#x53D8;&#x5C0F;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x63D0;&#x5347;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x7684;&#x76EE;&#x7684;&#x3002;</p>
<p>&#x5206;&#x5E93;&#x5206;&#x8868;&#x5305;&#x62EC;&#x5206;&#x5E93;&#x548C;&#x5206;&#x8868;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#xFF0C;&#x5728;&#x751F;&#x4EA7;&#x4E2D;&#x901A;&#x5E38;&#x5305;&#x62EC;&#xFF1A;&#x5782;&#x76F4;&#x5206;&#x5E93;&#x3001;&#x6C34;&#x5E73;&#x5206;&#x5E93;&#x3001;&#x5782;&#x76F4;&#x5206;&#x8868;&#x3001;&#x6C34;&#x5E73;&#x5206;&#x8868;&#x56DB;&#x79CD;&#x65B9;&#x5F0F;&#x3002;</p>
<h4 id="&#x5782;&#x76F4;&#x5206;&#x8868;">&#x5782;&#x76F4;&#x5206;&#x8868;</h4>
<p>&#x7528;&#x6237;&#x5728;&#x6D4F;&#x89C8;&#x5546;&#x54C1;&#x5217;&#x8868;&#x65F6;&#xFF0C;&#x53EA;&#x6709;&#x5BF9;&#x67D0;&#x5546;&#x54C1;&#x611F;&#x5174;&#x8DA3;&#x65F6;&#x624D;&#x4F1A;&#x67E5;&#x770B;&#x8BE5;&#x5546;&#x54C1;&#x7684;&#x8BE6;&#x7EC6;&#x63CF;&#x8FF0;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x4E2D;&#x5546;&#x54C1;<code>&#x63CF;&#x8FF0;&#x5B57;&#x6BB5;</code>&#x8BBF;&#x95EE;&#x9891;&#x6B21;&#x8F83;&#x4F4E;&#xFF0C;&#x4E14;&#x8BE5;&#x5B57;&#x6BB5;&#x5B58;&#x50A8;&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x8F83;&#x5927;&#xFF0C;&#x8BBF;&#x95EE;&#x5355;&#x4E2A;&#x6570;&#x636E;IO&#x65F6;&#x95F4;&#x8F83;&#x957F;&#xFF1B;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x4E2D;<code>&#x5546;&#x54C1;&#x540D;&#x79F0;</code>&#x3001;<code>&#x5546;&#x54C1;&#x56FE;&#x7247;</code>&#x3001;<code>&#x5546;&#x54C1;&#x4EF7;&#x683C;</code>&#x7B49;&#x5176;&#x5B83;&#x5B57;&#x6BB5;&#x6570;&#x636E;&#x8BBF;&#x95EE;&#x9891;&#x6B21;&#x8F83;&#x9AD8;&#x3002;&#x7531;&#x4E8E;&#x8FD9;&#x4E24;&#x79CD;&#x6570;&#x636E;&#x7684;&#x7279;&#x6027;&#x4E0D;&#x4E00;&#x6837;&#xFF0C;&#x56E0;&#x6B64;&#x8003;&#x8651;&#x5C06;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x8868;&#x62C6;&#x5206;&#x6210;&#xFF1A;&#x5C06;&#x8BBF;&#x95EE;&#x9891;&#x6B21;&#x4F4E;&#x7684;&#x5546;&#x54C1;&#x63CF;&#x8FF0;&#x4FE1;&#x606F;&#x5355;&#x72EC;&#x5B58;&#x653E;&#x5728;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#xFF0C;&#x8BBF;&#x95EE;&#x9891;&#x6B21;&#x8F83;&#x9AD8;&#x7684;&#x5546;&#x54C1;&#x57FA;&#x672C;&#x4FE1;&#x606F;&#x5355;&#x72EC;&#x653E;&#x5728;&#x4E00;&#x5F20;&#x8868;&#x4E2D;&#xFF1B;&#x5373; &#x5546;&#x54C1;&#x8868; &#x53EF;&#x62C6;&#x5206;&#x6210; &#x5546;&#x54C1;&#x4FE1;&#x606F;&#x8868; &#x548C; &#x5546;&#x54C1;&#x63CF;&#x8FF0;&#x8868;&#x3002;</p>
<p><strong>&#x5782;&#x76F4;&#x5206;&#x8868;&#x5B9A;&#x4E49;</strong>&#xFF1A;<font color="red">&#x5C06;&#x4E00;&#x4E2A;&#x8868;&#x6309;&#x7167;&#x5B57;&#x6BB5;&#x5206;&#x6210;&#x591A;&#x8868;&#xFF0C;&#x6BCF;&#x4E2A;&#x8868;&#x5B58;&#x50A8;&#x5176;&#x4E2D;&#x4E00;&#x90E8;&#x5206;&#x5B57;&#x6BB5;</font></p>
<ul>
<li>&#x4E3A;&#x4EC0;&#x4E48;&#x5927;&#x5B57;&#x6BB5;IO&#x6548;&#x7387;&#x4F4E;<ol>
<li>&#x7B2C;&#x4E00;&#x662F;&#x7531;&#x4E8E;&#x6570;&#x636E;&#x91CF;&#x672C;&#x8EAB;&#x5927;&#xFF0C;&#x9700;&#x8981;&#x66F4;&#x957F;&#x7684;&#x8BFB;&#x53D6;&#x65F6;&#x95F4;&#xFF1B;</li>
<li>&#x7B2C;&#x4E8C;&#x662F;&#x8DE8;&#x9875;&#xFF0C;&#x9875;&#x662F;&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;&#x5355;&#x4F4D;&#xFF0C;&#x5F88;&#x591A;&#x67E5;&#x627E;&#x53CA;&#x5B9A;&#x4F4D;&#x64CD;&#x4F5C;&#x90FD;&#x662F;&#x4EE5;&#x9875;&#x4E3A;&#x5355;&#x4F4D;&#xFF0C;&#x5355;&#x9875;&#x5185;&#x7684;&#x6570;&#x636E;&#x884C;&#x8D8A;&#x591A;&#x6570;&#x636E;&#x5E93;&#x6574;&#x4F53;&#x6027;&#x80FD;&#x8D8A;&#x597D;&#xFF0C;&#x800C;&#x5927;&#x5B57;&#x6BB5;&#x5360;&#x7528;&#x7A7A;&#x95F4;&#x5927;&#xFF0C;&#x5355;&#x9875;&#x5185;&#x5B58;&#x50A8;&#x884C;&#x6570;&#x5C11;&#xFF0C;&#x56E0;&#x6B64;IO&#x6548;&#x7387;&#x8F83;&#x4F4E;&#x3002;</li>
<li>&#x7B2C;&#x4E09;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x4EE5;&#x884C;&#x4E3A;&#x5355;&#x4F4D;&#x5C06;&#x6570;&#x636E;&#x52A0;&#x8F7D;&#x5230;&#x5185;&#x5B58;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x8868;&#x4E2D;&#x5B57;&#x6BB5;&#x957F;&#x5EA6;&#x8F83;&#x77ED;&#x4E14;&#x8BBF;&#x95EE;&#x9891;&#x7387;&#x8F83;&#x9AD8;&#xFF0C;&#x5185;&#x5B58;&#x80FD;&#x52A0;&#x8F7D;&#x66F4;&#x591A;&#x7684;&#x6570;&#x636E;&#xFF0C;&#x547D;&#x4E2D;&#x7387;&#x66F4;&#x9AD8;&#xFF0C;&#x51CF;&#x5C11;&#x4E86;&#x78C1;&#x76D8;IO&#xFF0C;&#x4ECE;&#x800C;&#x63D0;&#x5347;&#x4E86;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x3002;</li>
</ol>
</li>
</ul>
<h4 id="&#x5782;&#x76F4;&#x5206;&#x5E93;">&#x5782;&#x76F4;&#x5206;&#x5E93;</h4>
<p>&#x901A;&#x8FC7;&#x5782;&#x76F4;&#x5206;&#x8868;&#x6027;&#x80FD;&#x5F97;&#x5230;&#x4E86;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x63D0;&#x5347;&#xFF0C;&#x4F46;&#x662F;&#x8FD8;&#x6CA1;&#x6709;&#x8FBE;&#x5230;&#x8981;&#x6C42;&#xFF0C;&#x5E76;&#x4E14;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x4E5F;&#x5FEB;&#x4E0D;&#x591F;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6570;&#x636E;&#x8FD8;&#x662F;&#x59CB;&#x7EC8;&#x9650;&#x5236;&#x5728;&#x4E00;&#x53F0;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x5E93;&#x5185;&#x5782;&#x76F4;&#x5206;&#x8868;&#x53EA;&#x89E3;&#x51B3;&#x4E86;&#x5355;&#x4E00;&#x8868;&#x6570;&#x636E;&#x91CF;&#x8FC7;&#x5927;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4F46;&#x6CA1;&#x6709;&#x5C06;&#x8868;&#x5206;&#x5E03;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x56E0;&#x6B64;&#x6BCF;&#x4E2A;&#x8868;&#x8FD8;&#x662F;&#x7ADE;&#x4E89;&#x540C;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x673A;&#x7684;CPU&#x3001;&#x5185;&#x5B58;&#x3001;&#x7F51;&#x7EDC;IO&#x3001;&#x78C1;&#x76D8;&#x3002;&#x53EF;&#x4EE5;&#x4E1A;&#x52A1;&#x5212;&#x5206;&#xFF1A;&#x5C06;&#x5546;&#x54C1;&#x4E1A;&#x52A1;&#xFF0C;&#x5356;&#x5BB6;&#x4E1A;&#x52A1;&#xFF0C;&#x7528;&#x6237;&#x4FE1;&#x606F;&#xFF0C;&#x5B58;&#x50A8;&#x5230;&#x4E0D;&#x540C;&#x5230;&#x6570;&#x636E;&#x670D;&#x52A1;&#x5668;&#x4E0A;</p>
<p><strong>&#x5782;&#x76F4;&#x5206;&#x5E93;</strong>&#xFF1A;&#x662F;&#x6307;&#x6309;&#x7167;&#x4E1A;&#x52A1;&#x5C06;&#x8868;&#x8FDB;&#x884C;&#x5206;&#x7C7B;&#xFF0C;&#x5206;&#x5E03;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E0A;&#x9762;&#xFF0C;&#x6BCF;&#x4E2A;&#x5E93;&#x53EF;&#x4EE5;&#x653E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x5B83;&#x7684;&#x6838;&#x5FC3;&#x7406;&#x5FF5;&#x662F;&#x4E13;&#x5E93;&#x4E13;&#x7528;&#x3002;</p>
<ul>
<li>&#x89E3;&#x51B3;&#x4E1A;&#x52A1;&#x5C42;&#x9762;&#x7684;&#x8026;&#x5408;&#xFF0C;&#x4E1A;&#x52A1;&#x6E05;&#x6670;</li>
<li>&#x80FD;&#x5BF9;&#x4E0D;&#x540C;&#x4E1A;&#x52A1;&#x7684;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5206;&#x7EA7;&#x7BA1;&#x7406;&#x3001;&#x7EF4;&#x62A4;&#x3001;&#x76D1;&#x63A7;&#x3001;&#x6269;&#x5C55;&#x7B49;</li>
<li>&#x9AD8;&#x5E76;&#x53D1;&#x573A;&#x666F;&#x4E0B;&#xFF0C;&#x5782;&#x76F4;&#x5206;&#x5E93;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x63D0;&#x5347;IO&#x3001;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x6570;&#x3001;&#x964D;&#x4F4E;&#x5355;&#x673A;&#x786C;&#x4EF6;&#x8D44;&#x6E90;&#x7684;&#x74F6;&#x9888;</li>
<li>&#x5782;&#x76F4;&#x5206;&#x5E93;&#x901A;&#x8FC7;&#x5C06;&#x8868;&#x6309;&#x4E1A;&#x52A1;&#x5206;&#x7C7B;&#xFF0C;&#x7136;&#x540E;&#x5206;&#x5E03;&#x5728;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x5E93;&#xFF0C;&#x5E76;&#x4E14;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x6570;&#x636E;&#x5E93;&#x90E8;&#x7F72;&#x5728;&#x4E0D;&#x540C;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#xFF0C;&#x4ECE;&#x800C;&#x8FBE;&#x5230;&#x591A;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x5171;&#x540C;&#x5206;&#x644A;&#x538B;&#x529B;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4F46;&#x662F;&#x4F9D;&#x7136;&#x6CA1;&#x6709;&#x89E3;&#x51B3;&#x5355;&#x8868;&#x6570;&#x636E;&#x91CF;&#x8FC7;&#x5927;&#x7684;&#x95EE;&#x9898;&#x3002;</li>
</ul>
<h4 id="&#x6C34;&#x5E73;&#x5206;&#x5E93;">&#x6C34;&#x5E73;&#x5206;&#x5E93;</h4>
<p>&#x7ECF;&#x8FC7;&#x5782;&#x76F4;&#x5206;&#x5E93;&#x540E;&#xFF0C;&#x6570;&#x636E;&#x5E93;&#x6027;&#x80FD;&#x95EE;&#x9898;&#x5F97;&#x5230;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x89E3;&#x51B3;&#xFF0C;&#x4F46;&#x662F;&#x968F;&#x7740;&#x4E1A;&#x52A1;&#x91CF;&#x7684;&#x589E;&#x957F;&#xFF0C;PRODUCT_DB(&#x5546;&#x54C1;&#x5E93;)&#x5355;&#x5E93;&#x5B58;&#x50A8;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x8D85;&#x51FA;&#x9884;&#x4F30;&#x3002;&#x53EF;&#x4EE5;&#x5C06;&#x5546;&#x54C1;&#x7684;&#x6240;&#x5C5E;&#x5E97;&#x94FA;ID&#x4E3A;&#x5355;&#x6570;&#x7684;&#x548C;&#x5E97;&#x94FA;ID&#x4E3A;&#x53CC;&#x6570;&#x7684;&#x5546;&#x54C1;&#x4FE1;&#x606F;&#x5206;&#x522B;&#x653E;&#x5728;&#x4E24;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x4E2D;</p>
<p><strong>&#x6C34;&#x5E73;&#x5206;&#x5E93;</strong>:&#x662F;&#x628A;&#x540C;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#x6309;&#x4E00;&#x5B9A;&#x89C4;&#x5219;&#x62C6;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x6570;&#x636E;&#x5E93;&#x4E2D;&#xFF0C;&#x6BCF;&#x4E2A;&#x5E93;&#x53EF;&#x4EE5;&#x653E;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x3002;</p>
<p>&#x5B83;&#x5E26;&#x6765;&#x7684;&#x63D0;&#x5347;&#x662F;&#xFF1A;</p>
<ul>
<li>&#x89E3;&#x51B3;&#x4E86;&#x5355;&#x5E93;&#x5927;&#x6570;&#x636E;&#xFF0C;&#x9AD8;&#x5E76;&#x53D1;&#x7684;&#x6027;&#x80FD;&#x74F6;&#x9888;</li>
<li>&#x63D0;&#x9AD8;&#x4E86;&#x7CFB;&#x7EDF;&#x7684;&#x7A33;&#x5B9A;&#x6027;&#x53CA;&#x53EF;&#x7528;&#x6027;</li>
</ul>
<p>&#x4F8B;&#x5982;&#xFF1A;&#x8981;&#x64CD;&#x4F5C;&#x67D0;&#x6761;&#x5546;&#x54C1;&#x6570;&#x636E;&#xFF0C;&#x5148;&#x5206;&#x6790;&#x8FD9;&#x6761;&#x6570;&#x636E;&#x6240;&#x5C5E;&#x7684;&#x5E97;&#x94FA;ID&#x3002;&#x5982;&#x679C;&#x5E97;&#x94FA;ID&#x4E3A;&#x53CC;&#x6570;&#xFF0C;&#x5C06;&#x6B64;&#x64CD;&#x4F5C;&#x6620;&#x5C04;&#x81F3;RRODUCT_DB1(&#x5546;&#x54C1;&#x5E93;1)&#xFF1B;&#x5982;&#x679C;&#x5E97;&#x94FA;ID&#x4E3A;&#x5355;&#x6570;&#xFF0C;&#x5C06;&#x64CD;&#x4F5C;&#x6620;&#x5C04;&#x81F3;RRODUCT_DB2(&#x5546;&#x54C1;&#x5E93;2)&#x3002;&#x6B64;&#x64CD;&#x4F5C;&#x8981;&#x8BBF;&#x95EE;&#x6570;&#x636E;&#x5E93;&#x540D;&#x79F0;&#x7684;&#x8868;&#x8FBE;&#x5F0F;&#x4E3A;RRODUCT_DB[&#x5E97;&#x94FA;ID%2 + 1] &#x3002;</p>
<h4 id="&#x6C34;&#x5E73;&#x5206;&#x8868;">&#x6C34;&#x5E73;&#x5206;&#x8868;</h4>
<p>&#x6309;&#x7167;&#x6C34;&#x5E73;&#x5206;&#x5E93;&#x7684;&#x601D;&#x8DEF;&#x628A;PRODUCT_DB_X(&#x5546;&#x54C1;&#x5E93;)&#x5185;&#x7684;&#x8868;&#x4E5F;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x6C34;&#x5E73;&#x62C6;&#x5206;&#xFF0C;&#x5176;&#x76EE;&#x7684;&#x4E5F;&#x662F;&#x4E3A;&#x89E3;&#x51B3;&#x5355;&#x8868;&#x6570;&#x636E;&#x91CF;&#x5927;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x4E0E;&#x6C34;&#x5E73;&#x5206;&#x5E93;&#x7684;&#x601D;&#x8DEF;&#x7C7B;&#x4F3C;&#xFF0C;&#x4E0D;&#x8FC7;&#x8FD9;&#x6B21;&#x64CD;&#x4F5C;&#x7684;&#x76EE;&#x6807;&#x662F;&#x8868;</p>
<p><strong>&#x6C34;&#x5E73;&#x5206;&#x8868;</strong>&#xFF1A;<font color="red">&#x662F;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5E93;&#x5185;&#xFF0C;&#x628A;&#x540C;&#x4E00;&#x4E2A;&#x8868;&#x7684;&#x6570;&#x636E;&#x6309;&#x4E00;&#x5B9A;&#x89C4;&#x5219;&#x62C6;&#x5230;&#x591A;&#x4E2A;&#x8868;&#x4E2D;</font></p>
<h3 id="&#x5206;&#x5E93;&#x5206;&#x8868;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;">&#x5206;&#x5E93;&#x5206;&#x8868;&#x5E26;&#x6765;&#x7684;&#x95EE;&#x9898;</h3>
<ol>
<li>&#x4E8B;&#x52A1;&#x7684;&#x4E00;&#x81F4;&#x6027;&#x95EE;&#x9898;&#xFF1A;&#x5206;&#x5E03;&#x5F0F;&#x4E8B;&#x52A1;</li>
<li>&#x8DE8;&#x8282;&#x70B9;&#x5173;&#x8054;&#x67E5;&#x8BE2;&#x95EE;&#x9898;</li>
<li>&#x8DE8;&#x8282;&#x70B9;&#x5206;&#x9875;&#xFF0C;&#x6392;&#x5E8F;&#x95EE;&#x9898;</li>
<li>&#x4E3B;&#x952E;&#x91CD;&#x590D;&#x95EE;&#x9898;&#xFF1A;&#x5168;&#x5C40;ID</li>
<li>&#x516C;&#x5171;&#x8868;&#xFF0C;&#x9AD8;&#x9891;&#x516C;&#x5171;&#x64CD;&#x4F5C;&#x8868;</li>
</ol>
<h3 id="&#x5206;&#x5E93;&#x5206;&#x8868;&#x5B9E;&#x8DF5;">&#x5206;&#x5E93;&#x5206;&#x8868;&#x5B9E;&#x8DF5;</h3>
<p><a href="https://tech.meituan.com/2016/11/18/dianping-order-db-sharding.html" target="_blank">&#x5927;&#x4F17;&#x70B9;&#x8BC4;&#x8BA2;&#x5355;&#x7CFB;&#x7EDF;&#x5206;&#x5E93;&#x5206;&#x8868;&#x5B9E;&#x8DF5;</a></p>
<p><a href="https://github.com/doctording/sharding-sql" target="_blank">shardingsphere &#x7B80;&#x5355;&#x5B9E;&#x8DF5;</a></p>
<p><footer class="page-footer"><span class="copyright">Copyright @doctording all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x6539;&#x65F6;&#x95F4;&#xFF1A;
2020-09-15 19:36:52
</span></footer><div id="gitalk-container"></div><link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css"><script src="https://cdn.bootcss.com/blueimp-md5/2.12.0/js/md5.min.js"></script><script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script></p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="io.html" class="navigation navigation-prev " aria-label="Previous page: 局部性原理&磁盘IO">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="redis.html" class="navigation navigation-next " aria-label="Next page: Redis">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"MySQL","layout":"page","date":"2020-03-08 18:00","level":"1.4.2","depth":2,"next":{"title":"Redis","level":"1.4.3","depth":2,"path":"content/db_cache/redis.md","ref":"./content/db_cache/redis.md","articles":[]},"previous":{"title":"局部性原理&磁盘IO","level":"1.4.1","depth":2,"path":"content/db_cache/io.md","ref":"./content/db_cache/io.md","articles":[]},"dir":"ltr"},"config":{"plugins":["prism","-highlight","-lunr","-search","-sharing","ace","codeblock-filename","search-plus","sectionx","splitter","tbfed-pagefooter","expandable-chapters","back-to-top-button","code","copy-code-button","uml","page-treeview","gittalk","advanced-emoji","todo","github"],"styles":{"website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright @doctording","modify_label":"该文件修改时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"page-treeview":{"collapsed":false,"copyright":"Copyright @doctording","minHeaderCount":"2","minHeaderDeep":"2"},"prism":{},"ace":{},"github":{"url":"https://github.com/doctording"},"todo":{},"splitter":{},"code":{"copyButtons":true},"fontsettings":{"theme":"white","family":"sans","size":2},"sectionx":{},"uml":{"format":"svg"},"codeblock-filename":{},"back-to-top-button":{},"copy-code-button":{},"advanced-emoji":{"embedEmojis":false},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"gittalk":{"clientID":"094729e19245d3fe84aa","clientSecret":"6c4cf7b48e7ae41c20d453c24eb9d5469e4d19fb","repo":"sword_at_offer","owner":"doctording","admin":["doctording"],"distractionFreeMode":false},"expandable-chapters":{},"search-plus":{}},"theme":"default","author":"doctording","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"java-note","language":"zh-hans","gitbook":"*","description":"Java开发"},"file":{"path":"content/db_cache/mysql.md","mtime":"2020-09-15T11:36:52.784Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-09-22T14:40:03.804Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-ace/ace.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sectionx/sectionx.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-copy-code-button/toggle.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-gittalk/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

